(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function _R(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fp={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function vR(){if(Vb)return Fu;Vb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Fu.Fragment=e,Fu.jsx=t,Fu.jsxs=t,Fu}var Pb;function bR(){return Pb||(Pb=1,Fp.exports=vR()),Fp.exports}var x=bR(),qp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function ER(){if(Mb)return Ke;Mb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function U(V,ie,pe){this.props=V,this.context=ie,this.refs=j,this.updater=pe||k}U.prototype.isReactComponent={},U.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function q(){}q.prototype=U.prototype;function B(V,ie,pe){this.props=V,this.context=ie,this.refs=j,this.updater=pe||k}var G=B.prototype=new q;G.constructor=B,O(G,U.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function C(V,ie,pe,ce,Ne,Ae){return pe=Ae.ref,{$$typeof:n,type:V,key:ie,ref:pe!==void 0?pe:null,props:Ae}}function S(V,ie){return C(V.type,ie,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return ie[pe]})}var M=/\/+/g;function P(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):ie.toString(36)}function I(){}function Ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ze(V,ie,pe,ce,Ne){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Ie=!1;if(V===null)Ie=!0;else switch(Ae){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(V.$$typeof){case n:case e:Ie=!0;break;case _:return Ie=V._init,ze(Ie(V._payload),ie,pe,ce,Ne)}}if(Ie)return Ne=Ne(V),Ie=ce===""?"."+P(V,0):ce,ee(Ne)?(pe="",Ie!=null&&(pe=Ie.replace(M,"$&/")+"/"),ze(Ne,ie,pe,"",function(Vn){return Vn})):Ne!=null&&(R(Ne)&&(Ne=S(Ne,pe+(Ne.key==null||V&&V.key===Ne.key?"":(""+Ne.key).replace(M,"$&/")+"/")+Ie)),ie.push(Ne)),1;Ie=0;var ft=ce===""?".":ce+":";if(ee(V))for(var Fe=0;Fe<V.length;Fe++)ce=V[Fe],Ae=ft+P(ce,Fe),Ie+=ze(ce,ie,pe,Ae,Ne);else if(Fe=T(V),typeof Fe=="function")for(V=Fe.call(V),Fe=0;!(ce=V.next()).done;)ce=ce.value,Ae=ft+P(ce,Fe++),Ie+=ze(ce,ie,pe,Ae,Ne);else if(Ae==="object"){if(typeof V.then=="function")return ze(Ve(V),ie,pe,ce,Ne);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function $(V,ie,pe){if(V==null)return V;var ce=[],Ne=0;return ze(V,ce,"","",function(Ae){return ie.call(pe,Ae,Ne++)}),ce}function ue(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Pe(){}return Ke.Children={map:$,forEach:function(V,ie,pe){$(V,function(){ie.apply(this,arguments)},pe)},count:function(V){var ie=0;return $(V,function(){ie++}),ie},toArray:function(V){return $(V,function(ie){return ie})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ke.Component=U,Ke.Fragment=t,Ke.Profiler=a,Ke.PureComponent=B,Ke.StrictMode=i,Ke.Suspense=m,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ae.H.useMemoCache(V)}},Ke.cache=function(V){return function(){return V.apply(null,arguments)}},Ke.cloneElement=function(V,ie,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=O({},V.props),Ne=V.key,Ae=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(Ae=void 0),ie.key!==void 0&&(Ne=""+ie.key),ie)!ve.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(ce[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=pe;else if(1<Ie){for(var ft=Array(Ie),Fe=0;Fe<Ie;Fe++)ft[Fe]=arguments[Fe+2];ce.children=ft}return C(V.type,Ne,void 0,void 0,Ae,ce)},Ke.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ke.createElement=function(V,ie,pe){var ce,Ne={},Ae=null;if(ie!=null)for(ce in ie.key!==void 0&&(Ae=""+ie.key),ie)ve.call(ie,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ne[ce]=ie[ce]);var Ie=arguments.length-2;if(Ie===1)Ne.children=pe;else if(1<Ie){for(var ft=Array(Ie),Fe=0;Fe<Ie;Fe++)ft[Fe]=arguments[Fe+2];Ne.children=ft}if(V&&V.defaultProps)for(ce in Ie=V.defaultProps,Ie)Ne[ce]===void 0&&(Ne[ce]=Ie[ce]);return C(V,Ae,void 0,void 0,null,Ne)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(V){return{$$typeof:d,render:V}},Ke.isValidElement=R,Ke.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ue}},Ke.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ke.startTransition=function(V){var ie=ae.T,pe={};ae.T=pe;try{var ce=V(),Ne=ae.S;Ne!==null&&Ne(pe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Pe,fe)}catch(Ae){fe(Ae)}finally{ae.T=ie}},Ke.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ke.use=function(V){return ae.H.use(V)},Ke.useActionState=function(V,ie,pe){return ae.H.useActionState(V,ie,pe)},Ke.useCallback=function(V,ie){return ae.H.useCallback(V,ie)},Ke.useContext=function(V){return ae.H.useContext(V)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(V,ie){return ae.H.useDeferredValue(V,ie)},Ke.useEffect=function(V,ie,pe){var ce=ae.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(V,ie)},Ke.useId=function(){return ae.H.useId()},Ke.useImperativeHandle=function(V,ie,pe){return ae.H.useImperativeHandle(V,ie,pe)},Ke.useInsertionEffect=function(V,ie){return ae.H.useInsertionEffect(V,ie)},Ke.useLayoutEffect=function(V,ie){return ae.H.useLayoutEffect(V,ie)},Ke.useMemo=function(V,ie){return ae.H.useMemo(V,ie)},Ke.useOptimistic=function(V,ie){return ae.H.useOptimistic(V,ie)},Ke.useReducer=function(V,ie,pe){return ae.H.useReducer(V,ie,pe)},Ke.useRef=function(V){return ae.H.useRef(V)},Ke.useState=function(V){return ae.H.useState(V)},Ke.useSyncExternalStore=function(V,ie,pe){return ae.H.useSyncExternalStore(V,ie,pe)},Ke.useTransition=function(){return ae.H.useTransition()},Ke.version="19.1.0",Ke}var Lb;function ty(){return Lb||(Lb=1,qp.exports=ER()),qp.exports}var F=ty();const Ge=_R(F);var Hp={exports:{}},qu={},$p={exports:{}},Gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function TR(){return Ub||(Ub=1,function(n){function e($,ue){var fe=$.length;$.push(ue);e:for(;0<fe;){var Pe=fe-1>>>1,V=$[Pe];if(0<a(V,ue))$[Pe]=ue,$[fe]=V,fe=Pe;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ue=$[0],fe=$.pop();if(fe!==ue){$[0]=fe;e:for(var Pe=0,V=$.length,ie=V>>>1;Pe<ie;){var pe=2*(Pe+1)-1,ce=$[pe],Ne=pe+1,Ae=$[Ne];if(0>a(ce,fe))Ne<V&&0>a(Ae,ce)?($[Pe]=Ae,$[Ne]=fe,Pe=Ne):($[Pe]=ce,$[pe]=fe,Pe=pe);else if(Ne<V&&0>a(Ae,fe))$[Pe]=Ae,$[Ne]=fe,Pe=Ne;else break e}}return ue}function a($,ue){var fe=$.sortIndex-ue.sortIndex;return fe!==0?fe:$.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,E=null,T=3,k=!1,O=!1,j=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ee($){for(var ue=t(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=$)i(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(g)}}function ae($){if(j=!1,ee($),!O)if(t(m)!==null)O=!0,ve||(ve=!0,P());else{var ue=t(g);ue!==null&&ze(ae,ue.startTime-$)}}var ve=!1,C=-1,S=5,R=-1;function N(){return U?!0:!(n.unstable_now()-R<S)}function M(){if(U=!1,ve){var $=n.unstable_now();R=$;var ue=!0;try{e:{O=!1,j&&(j=!1,B(C),C=-1),k=!0;var fe=T;try{t:{for(ee($),E=t(m);E!==null&&!(E.expirationTime>$&&N());){var Pe=E.callback;if(typeof Pe=="function"){E.callback=null,T=E.priorityLevel;var V=Pe(E.expirationTime<=$);if($=n.unstable_now(),typeof V=="function"){E.callback=V,ee($),ue=!0;break t}E===t(m)&&i(m),ee($)}else i(m);E=t(m)}if(E!==null)ue=!0;else{var ie=t(g);ie!==null&&ze(ae,ie.startTime-$),ue=!1}}break e}finally{E=null,T=fe,k=!1}ue=void 0}}finally{ue?P():ve=!1}}}var P;if(typeof G=="function")P=function(){G(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=M,P=function(){Ve.postMessage(null)}}else P=function(){q(M,0)};function ze($,ue){C=q(function(){$(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function($){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var fe=T;T=ue;try{return $()}finally{T=fe}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=T;T=$;try{return ue()}finally{T=fe}},n.unstable_scheduleCallback=function($,ue,fe){var Pe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=fe+V,$={id:_++,callback:ue,priorityLevel:$,startTime:fe,expirationTime:V,sortIndex:-1},fe>Pe?($.sortIndex=fe,e(g,$),t(m)===null&&$===t(g)&&(j?(B(C),C=-1):j=!0,ze(ae,fe-Pe))):($.sortIndex=V,e(m,$),O||k||(O=!0,ve||(ve=!0,P()))),$},n.unstable_shouldYield=N,n.unstable_wrapCallback=function($){var ue=T;return function(){var fe=T;T=ue;try{return $.apply(this,arguments)}finally{T=fe}}}}(Gp)),Gp}var jb;function wR(){return jb||(jb=1,$p.exports=TR()),$p.exports}var Kp={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function AR(){if(zb)return Tn;zb=1;var n=ty();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Tn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},Tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Tn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:k}):_==="script"&&i.d.X(m,{crossOrigin:E,integrity:T,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Tn.requestFormReset=function(m){i.d.r(m)},Tn.unstable_batchedUpdates=function(m,g){return m(g)},Tn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var Bb;function SR(){if(Bb)return Kp.exports;Bb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=AR(),Kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function RR(){if(Fb)return qu;Fb=1;var n=wR(),e=ty(),t=SR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return d(h),r;if(p===u)return d(h),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var b=!1,w=h.child;w;){if(w===o){b=!0,o=h,u=p;break}if(w===u){b=!0,u=h,o=p;break}w=w.sibling}if(!b){for(w=p.child;w;){if(w===o){b=!0,o=p,u=h;break}if(w===u){b=!0,u=p,o=h;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case U:return"Profiler";case j:return"StrictMode";case ae:return"Suspense";case ve:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case G:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:Ve(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return Ve(r(s))}catch{}}return null}var ze=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],V=-1;function ie(r){return{current:r}}function pe(r){0>V||(r.current=Pe[V],Pe[V]=null,V--)}function ce(r,s){V++,Pe[V]=r.current,r.current=s}var Ne=ie(null),Ae=ie(null),Ie=ie(null),ft=ie(null);function Fe(r,s){switch(ce(Ie,s),ce(Ae,r),ce(Ne,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?lb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=lb(s),r=ub(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Ne),ce(Ne,r)}function Vn(){pe(Ne),pe(Ae),pe(Ie)}function nr(r){r.memoizedState!==null&&ce(ft,r);var s=Ne.current,o=ub(s,r.type);s!==o&&(ce(Ae,r),ce(Ne,o))}function Er(r){Ae.current===r&&(pe(Ne),pe(Ae)),ft.current===r&&(pe(ft),Lu._currentValue=fe)}var Lr=Object.prototype.hasOwnProperty,_i=n.unstable_scheduleCallback,Ur=n.unstable_cancelCallback,us=n.unstable_shouldYield,go=n.unstable_requestPaint,Pn=n.unstable_now,qc=n.unstable_getCurrentPriorityLevel,cs=n.unstable_ImmediatePriority,L=n.unstable_UserBlockingPriority,X=n.unstable_NormalPriority,ne=n.unstable_LowPriority,be=n.unstable_IdlePriority,ge=n.log,he=n.unstable_setDisableYieldValue,ye=null,Re=null;function Ye(r){if(typeof ge=="function"&&he(r),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ye,r)}catch{}}var pt=Math.clz32?Math.clz32:bi,vi=Math.log,rr=Math.LN2;function bi(r){return r>>>=0,r===0?32:31-(vi(r)/rr|0)|0}var Tr=256,wr=4194304;function Fn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ei(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,p=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?h=Fn(u):(b&=w,b!==0?h=Fn(b):o||(o=w&~r,o!==0&&(h=Fn(o))))):(w=u&~p,w!==0?h=Fn(w):b!==0?h=Fn(b):o||(o=u&~r,o!==0&&(h=Fn(o)))),h===0?0:s!==0&&s!==h&&(s&p)===0&&(p=h&-h,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:h}function Ti(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function fs(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ul(){var r=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),r}function jl(){var r=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),r}function wi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ai(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function zl(r,s,o,u,h,p){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,D=r.expirationTimes,Q=r.hiddenUpdates;for(o=b&~o;0<o;){var re=31-pt(o),oe=1<<re;w[re]=0,D[re]=-1;var Z=Q[re];if(Z!==null)for(Q[re]=null,re=0;re<Z.length;re++){var W=Z[re];W!==null&&(W.lane&=-536870913)}o&=~oe}u!==0&&jr(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(b&~s))}function jr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-pt(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Bl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-pt(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function hs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function yo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ds(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:Ib(r.type))}function Hc(r,s){var o=ue.p;try{return ue.p=r,s()}finally{ue.p=o}}var xt=Math.random().toString(36).slice(2),Jt="__reactFiber$"+xt,Ht="__reactProps$"+xt,ir="__reactContainer$"+xt,Fl="__reactEvents$"+xt,$d="__reactListeners$"+xt,ms="__reactHandles$"+xt,$c="__reactResources$"+xt,_a="__reactMarker$"+xt;function ps(r){delete r[Jt],delete r[Ht],delete r[Fl],delete r[$d],delete r[ms]}function Si(r){var s=r[Jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ir]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=db(r);r!==null;){if(o=r[Jt])return o;r=db(r)}return s}r=o,o=r.parentNode}return null}function zr(r){if(r=r[Jt]||r[ir]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Br(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function xn(r){var s=r[$c];return s||(s=r[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[_a]=!0}var ql=new Set,_o={};function Ar(r,s){Ri(r,s),Ri(r+"Capture",s)}function Ri(r,s){for(_o[r]=s,r=0;r<s.length;r++)ql.add(s[r])}var Gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},va={};function Yc(r){return Lr.call(va,r)?!0:Lr.call(Kc,r)?!1:Gc.test(r)?va[r]=!0:(Kc[r]=!0,!1)}function gs(r,s,o){if(Yc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Fr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function hn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var ba,Qc;function xi(r){if(ba===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ba=s&&s[1]||"",Qc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+r+Qc}var vo=!1;function bo(r,s){if(!r||vo)return"";vo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var Z=W}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(W){Z=W}r.call(oe.prototype)}}else{try{throw Error()}catch(W){Z=W}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],w=p[1];if(b&&w){var D=b.split(`
`),Q=w.split(`
`);for(h=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(u===D.length||h===Q.length)for(u=D.length-1,h=Q.length-1;1<=u&&0<=h&&D[u]!==Q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(D[u]!==Q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||D[u]!==Q[h]){var re=`
`+D[u].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=u&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?xi(o):""}function Hl(r){switch(r.tag){case 26:case 27:case 5:return xi(r.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return bo(r.type,!1);case 11:return bo(r.type.render,!1);case 1:return bo(r.type,!0);case 31:return xi("Activity");default:return""}}function Eo(r){try{var s="";do s+=Hl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function In(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $l(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Gd(r){var s=$l(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,p.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function To(r){r._valueTracker||(r._valueTracker=Gd(r))}function Gl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=$l(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ea(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Kd=/[\n"\\]/g;function $t(r){return r.replace(Kd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qn(r,s,o,u,h,p,b,w){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+In(s)):r.value!==""+In(s)&&(r.value=""+In(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?ys(r,b,In(s)):o!=null?ys(r,b,In(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+In(w):r.removeAttribute("name")}function Ta(r,s,o,u,h,p,b,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+In(o):"",s=s!=null?""+In(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function ys(r,s,o){s==="number"&&Ea(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ii(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+In(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function _t(r,s,o){if(s!=null&&(s=""+In(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+In(o):""}function wa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ze(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=In(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function sr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Aa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Kl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Xc(r,h,u)}else for(var p in s)s.hasOwnProperty(p)&&Xc(r,p,s[p])}function Yl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(r){return Qd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ci=null;function ar(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ni=null,Oi=null;function Ql(r){var s=zr(r);if(s&&(r=s.stateNode)){var o=r[Ht]||null;e:switch(r=s.stateNode,s.type){case"input":if(qn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$t(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Ht]||null;if(!h)throw Error(i(90));qn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Gl(u)}break e;case"textarea":_t(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ii(r,!!o.multiple,s,!1)}}}var qr=!1;function Zc(r,s,o){if(qr)return r(s,o);qr=!0;try{var u=r(s);return u}finally{if(qr=!1,(Ni!==null||Oi!==null)&&($f(),Ni&&(s=Ni,r=Oi,Oi=Ni=null,Ql(s),r)))for(s=0;s<r.length;s++)Ql(r[s])}}function Sa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(Sr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){or=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{or=!1}var Hr=null,_s=null,Di=null;function Xl(){if(Di)return Di;var r,s=_s,o=s.length,u,h="value"in Hr?Hr.value:Hr.textContent,p=h.length;for(r=0;r<o&&s[r]===h[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===h[p-u];u++);return Di=h.slice(r,1<u?1-u:void 0)}function $r(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Gr(){return!0}function Zl(){return!1}function an(r){function s(o,u,h,p,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Gr:Zl,this.isPropagationStopped=Zl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),s}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=an(dt),xa=_({},dt,{view:0,detail:0}),Wc=an(xa),So,Ro,Kr,Ia=_({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Kr&&(Kr&&r.type==="mousemove"?(So=r.screenX-Kr.screenX,Ro=r.screenY-Kr.screenY):Ro=So=0,Kr=r),So)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),lr=an(Ia),Jc=_({},Ia,{dataTransfer:0}),Xd=an(Jc),Ca=_({},xa,{relatedTarget:0}),xo=an(Ca),Wl=_({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=an(Wl),ef=_({},dt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Co=an(ef),Zd=_({},dt,{data:0}),Jl=an(Zd),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nf[r])?!!s[r]:!1}function Oa(){return eu}var rf=_({},xa,{key:function(r){if(r.key){var s=Na[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=$r(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(r){return r.type==="keypress"?$r(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$r(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),No=an(rf),sf=_({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=an(sf),ki=_({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),af=an(ki),of=_({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),lf=an(of),uf=_({},Ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oo=an(uf),Cn=_({},dt,{newState:0,oldState:0}),cf=an(Cn),ff=[9,13,27,32],Yr=Sr&&"CompositionEvent"in window,f=null;Sr&&"documentMode"in document&&(f=document.documentMode);var y=Sr&&"TextEvent"in window&&!f,v=Sr&&(!Yr||f&&8<f&&11>=f),A=" ",K=!1;function J(r,s){switch(r){case"keyup":return ff.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var it=!1;function en(r,s){switch(r){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(K=!0,A);case"textInput":return r=s.data,r===A&&K?null:r;default:return null}}function st(r,s){if(it)return r==="compositionend"||!Yr&&J(r,s)?(r=Xl(),Di=_s=Hr=null,it=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!on[r.type]:s==="textarea"}function Vi(r,s,o,u){Ni?Oi?Oi.push(u):Oi=[u]:Ni=u,s=Zf(s,"onChange"),0<s.length&&(o=new Ao("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var dn=null,Qr=null;function nu(r){rb(r,0)}function hf(r){var s=Br(r);if(Gl(s))return r}function A_(r,s){if(r==="change")return s}var S_=!1;if(Sr){var Wd;if(Sr){var Jd="oninput"in document;if(!Jd){var R_=document.createElement("div");R_.setAttribute("oninput","return;"),Jd=typeof R_.oninput=="function"}Wd=Jd}else Wd=!1;S_=Wd&&(!document.documentMode||9<document.documentMode)}function x_(){dn&&(dn.detachEvent("onpropertychange",I_),Qr=dn=null)}function I_(r){if(r.propertyName==="value"&&hf(Qr)){var s=[];Vi(s,Qr,r,ar(r)),Zc(nu,s)}}function YS(r,s,o){r==="focusin"?(x_(),dn=s,Qr=o,dn.attachEvent("onpropertychange",I_)):r==="focusout"&&x_()}function QS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return hf(Qr)}function XS(r,s){if(r==="click")return hf(s)}function ZS(r,s){if(r==="input"||r==="change")return hf(s)}function WS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:WS;function ru(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Lr.call(s,h)||!Hn(r[h],s[h]))return!1}return!0}function C_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function N_(r,s){var o=C_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=C_(o)}}function O_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?O_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function D_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ea(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ea(r.document)}return s}function em(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var JS=Sr&&"documentMode"in document&&11>=document.documentMode,Do=null,tm=null,iu=null,nm=!1;function k_(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nm||Do==null||Do!==Ea(u)||(u=Do,"selectionStart"in u&&em(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),iu&&ru(iu,u)||(iu=u,u=Zf(tm,"onSelect"),0<u.length&&(s=new Ao("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Do)))}function Da(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ko={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},rm={},V_={};Sr&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function ka(r){if(rm[r])return rm[r];if(!ko[r])return r;var s=ko[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in V_)return rm[r]=s[o];return r}var P_=ka("animationend"),M_=ka("animationiteration"),L_=ka("animationstart"),e2=ka("transitionrun"),t2=ka("transitionstart"),n2=ka("transitioncancel"),U_=ka("transitionend"),j_=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function Rr(r,s){j_.set(r,s),Ar(s,[r])}var z_=new WeakMap;function ur(r,s){if(typeof r=="object"&&r!==null){var o=z_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Eo(s)},z_.set(r,s),s)}return{value:r,source:s,stack:Eo(s)}}var cr=[],Vo=0,sm=0;function df(){for(var r=Vo,s=sm=Vo=0;s<r;){var o=cr[s];cr[s++]=null;var u=cr[s];cr[s++]=null;var h=cr[s];cr[s++]=null;var p=cr[s];if(cr[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}p!==0&&B_(o,h,p)}}function mf(r,s,o,u){cr[Vo++]=r,cr[Vo++]=s,cr[Vo++]=o,cr[Vo++]=u,sm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function am(r,s,o,u){return mf(r,s,o,u),pf(r)}function Po(r,s){return mf(r,null,null,s),pf(r)}function B_(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,h&&s!==null&&(h=31-pt(o),r=p.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),p):null}function pf(r){if(50<Cu)throw Cu=0,hp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Mo={};function r2(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,s,o,u){return new r2(r,s,o,u)}function om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pi(r,s){var o=r.alternate;return o===null?(o=$n(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function F_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function gf(r,s,o,u,h,p){var b=0;if(u=r,typeof r=="function")om(r)&&(b=1);else if(typeof r=="string")b=sR(r,o,Ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=$n(31,o,s,h),r.elementType=R,r.lanes=p,r;case O:return Va(o.children,h,p,s);case j:b=8,h|=24;break;case U:return r=$n(12,o,s,h|2),r.elementType=U,r.lanes=p,r;case ae:return r=$n(13,o,s,h),r.elementType=ae,r.lanes=p,r;case ve:return r=$n(19,o,s,h),r.elementType=ve,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:case G:b=10;break e;case B:b=9;break e;case ee:b=11;break e;case C:b=14;break e;case S:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=$n(b,o,s,h),s.elementType=r,s.type=u,s.lanes=p,s}function Va(r,s,o,u){return r=$n(7,r,u,s),r.lanes=o,r}function lm(r,s,o){return r=$n(6,r,null,s),r.lanes=o,r}function um(r,s,o){return s=$n(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Lo=[],Uo=0,yf=null,_f=0,fr=[],hr=0,Pa=null,Mi=1,Li="";function Ma(r,s){Lo[Uo++]=_f,Lo[Uo++]=yf,yf=r,_f=s}function q_(r,s,o){fr[hr++]=Mi,fr[hr++]=Li,fr[hr++]=Pa,Pa=r;var u=Mi;r=Li;var h=32-pt(u)-1;u&=~(1<<h),o+=1;var p=32-pt(s)+h;if(30<p){var b=h-h%5;p=(u&(1<<b)-1).toString(32),u>>=b,h-=b,Mi=1<<32-pt(s)+h|o<<h|u,Li=p+r}else Mi=1<<p|o<<h|u,Li=r}function cm(r){r.return!==null&&(Ma(r,1),q_(r,1,0))}function fm(r){for(;r===yf;)yf=Lo[--Uo],Lo[Uo]=null,_f=Lo[--Uo],Lo[Uo]=null;for(;r===Pa;)Pa=fr[--hr],fr[hr]=null,Li=fr[--hr],fr[hr]=null,Mi=fr[--hr],fr[hr]=null}var Nn=null,kt=null,ht=!1,La=null,Xr=!1,hm=Error(i(519));function Ua(r){var s=Error(i(418,""));throw ou(ur(s,r)),hm}function H_(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Jt]=r,s[Ht]=u,o){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(o=0;o<Ou.length;o++)et(Ou[o],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),Ta(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),To(s);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),wa(s,u.value,u.defaultValue,u.children),To(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||ob(s.textContent,o)?(u.popover!=null&&(et("beforetoggle",s),et("toggle",s)),u.onScroll!=null&&et("scroll",s),u.onScrollEnd!=null&&et("scrollend",s),u.onClick!=null&&(s.onclick=Wf),s=!0):s=!1,s||Ua(r)}function $_(r){for(Nn=r.return;Nn;)switch(Nn.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:Nn=Nn.return}}function su(r){if(r!==Nn)return!1;if(!ht)return $_(r),ht=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ip(r.type,r.memoizedProps)),o=!o),o&&kt&&Ua(r),$_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){kt=Ir(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}kt=null}}else s===27?(s=kt,Vs(r.type)?(r=Dp,Dp=null,kt=r):kt=s):kt=Nn?Ir(r.stateNode.nextSibling):null;return!0}function au(){kt=Nn=null,ht=!1}function G_(){var r=La;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),La=null),r}function ou(r){La===null?La=[r]:La.push(r)}var dm=ie(null),ja=null,Ui=null;function vs(r,s,o){ce(dm,s._currentValue),s._currentValue=o}function ji(r){r._currentValue=dm.current,pe(dm)}function mm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function pm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=h;for(var D=0;D<s.length;D++)if(w.context===s[D]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),mm(p.return,o,r),u||(b=null);break e}p=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),mm(b,o,r),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===r){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function lu(r,s,o,u){r=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=h.type;Hn(h.pendingProps.value,b.value)||(r!==null?r.push(w):r=[w])}}else if(h===ft.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Lu):r=[Lu])}h=h.return}r!==null&&pm(s,r,o,u),s.flags|=262144}function vf(r){for(r=r.firstContext;r!==null;){if(!Hn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function za(r){ja=r,Ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return K_(ja,r)}function bf(r,s){return ja===null&&za(r),K_(r,s)}function K_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ui===null){if(r===null)throw Error(i(308));Ui=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ui=Ui.next=s;return o}var i2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},s2=n.unstable_scheduleCallback,a2=n.unstable_NormalPriority,nn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gm(){return{controller:new i2,data:new Map,refCount:0}}function uu(r){r.refCount--,r.refCount===0&&s2(a2,function(){r.controller.abort()})}var cu=null,ym=0,jo=0,zo=null;function o2(r,s){if(cu===null){var o=cu=[];ym=0,jo=vp(),zo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ym++,s.then(Y_,Y_),s}function Y_(){if(--ym===0&&cu!==null){zo!==null&&(zo.status="fulfilled");var r=cu;cu=null,jo=0,zo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function l2(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Q_=$.S;$.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&o2(r,s),Q_!==null&&Q_(r,s)};var Ba=ie(null);function _m(){var r=Ba.current;return r!==null?r:St.pooledCache}function Ef(r,s){s===null?ce(Ba,Ba.current):ce(Ba,s.pool)}function X_(){var r=_m();return r===null?null:{parent:nn._currentValue,pool:r}}var fu=Error(i(460)),Z_=Error(i(474)),Tf=Error(i(542)),vm={then:function(){}};function W_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wf(){}function J_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(wf,wf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,tv(r),r;default:if(typeof s.status=="string")s.then(wf,wf);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,tv(r),r}throw hu=s,fu}}var hu=null;function ev(){if(hu===null)throw Error(i(459));var r=hu;return hu=null,r}function tv(r){if(r===fu||r===Tf)throw Error(i(483))}var bs=!1;function bm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Em(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ts(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=pf(r),B_(r,null,o),s}return mf(r,u,s,o),pf(r)}function du(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Bl(r,o)}}function Tm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?h=p=s:p=p.next=s}else h=p=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var wm=!1;function mu(){if(wm){var r=zo;if(r!==null)throw r}}function pu(r,s,o,u){wm=!1;var h=r.updateQueue;bs=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var D=w,Q=D.next;D.next=null,b===null?p=Q:b.next=Q,b=D;var re=r.alternate;re!==null&&(re=re.updateQueue,w=re.lastBaseUpdate,w!==b&&(w===null?re.firstBaseUpdate=Q:w.next=Q,re.lastBaseUpdate=D))}if(p!==null){var oe=h.baseState;b=0,re=Q=D=null,w=p;do{var Z=w.lane&-536870913,W=Z!==w.lane;if(W?(at&Z)===Z:(u&Z)===Z){Z!==0&&Z===jo&&(wm=!0),re!==null&&(re=re.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var je=r,ke=w;Z=s;var Et=o;switch(ke.tag){case 1:if(je=ke.payload,typeof je=="function"){oe=je.call(Et,oe,Z);break e}oe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ke.payload,Z=typeof je=="function"?je.call(Et,oe,Z):je,Z==null)break e;oe=_({},oe,Z);break e;case 2:bs=!0}}Z=w.callback,Z!==null&&(r.flags|=64,W&&(r.flags|=8192),W=h.callbacks,W===null?h.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},re===null?(Q=re=W,D=oe):re=re.next=W,b|=Z;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;W=w,w=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);re===null&&(D=oe),h.baseState=D,h.firstBaseUpdate=Q,h.lastBaseUpdate=re,p===null&&(h.shared.lanes=0),Ns|=b,r.lanes=b,r.memoizedState=oe}}function nv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function rv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)nv(o[r],s)}var Bo=ie(null),Af=ie(0);function iv(r,s){r=Gi,ce(Af,r),ce(Bo,s),Gi=r|s.baseLanes}function Am(){ce(Af,Gi),ce(Bo,Bo.current)}function Sm(){Gi=Af.current,pe(Bo),pe(Af)}var ws=0,Qe=null,vt=null,Gt=null,Sf=!1,Fo=!1,Fa=!1,Rf=0,gu=0,qo=null,u2=0;function Ut(){throw Error(i(321))}function Rm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Hn(r[o],s[o]))return!1;return!0}function xm(r,s,o,u,h,p){return ws=p,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?Bv:Fv,Fa=!1,p=o(u,h),Fa=!1,Fo&&(p=av(s,o,u,h)),sv(r),p}function sv(r){$.H=Df;var s=vt!==null&&vt.next!==null;if(ws=0,Gt=vt=Qe=null,Sf=!1,gu=0,qo=null,s)throw Error(i(300));r===null||ln||(r=r.dependencies,r!==null&&vf(r)&&(ln=!0))}function av(r,s,o,u){Qe=r;var h=0;do{if(Fo&&(qo=null),gu=0,Fo=!1,25<=h)throw Error(i(301));if(h+=1,Gt=vt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=g2,p=s(o,u)}while(Fo);return p}function c2(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?yu(s):s,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(Qe.flags|=1024),s}function Im(){var r=Rf!==0;return Rf=0,r}function Cm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Nm(r){if(Sf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sf=!1}ws=0,Gt=vt=Qe=null,Fo=!1,gu=Rf=0,qo=null}function Mn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Qe.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Kt(){if(vt===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=Gt===null?Qe.memoizedState:Gt.next;if(s!==null)Gt=s,vt=r;else{if(r===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Gt===null?Qe.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(r){var s=gu;return gu+=1,qo===null&&(qo=[]),r=J_(qo,r,s),s=Qe,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Bv:Fv),r}function xf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yu(r);if(r.$$typeof===G)return En(r)}throw Error(i(438,String(r)))}function Dm(r){var s=null,o=Qe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Om(),Qe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=N;return s.index++,o}function zi(r,s){return typeof s=="function"?s(r):s}function If(r){var s=Kt();return km(s,vt,r)}function km(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}s.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{s=h.next;var w=b=null,D=null,Q=s,re=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(at&oe)===oe:(ws&oe)===oe){var Z=Q.revertLane;if(Z===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===jo&&(re=!0);else if((ws&Z)===Z){Q=Q.next,Z===jo&&(re=!0);continue}else oe={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},D===null?(w=D=oe,b=p):D=D.next=oe,Qe.lanes|=Z,Ns|=Z;oe=Q.action,Fa&&o(p,oe),p=Q.hasEagerState?Q.eagerState:o(p,oe)}else Z={lane:oe,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},D===null?(w=D=Z,b=p):D=D.next=Z,Qe.lanes|=oe,Ns|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(D===null?b=p:D.next=w,!Hn(p,r.memoizedState)&&(ln=!0,re&&(o=zo,o!==null)))throw o;r.memoizedState=p,r.baseState=b,r.baseQueue=D,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Vm(r){var s=Kt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do p=r(p,b.action),b=b.next;while(b!==h);Hn(p,s.memoizedState)||(ln=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function ov(r,s,o){var u=Qe,h=Kt(),p=ht;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!Hn((vt||h).memoizedState,o);b&&(h.memoizedState=o,ln=!0),h=h.queue;var w=cv.bind(null,u,h,r);if(_u(2048,8,w,[r]),h.getSnapshot!==s||b||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Ho(9,Cf(),uv.bind(null,u,h,o,s),null),St===null)throw Error(i(349));p||(ws&124)!==0||lv(u,s,o)}return o}function lv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Qe.updateQueue,s===null?(s=Om(),Qe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function uv(r,s,o,u){s.value=o,s.getSnapshot=u,fv(s)&&hv(r)}function cv(r,s,o){return o(function(){fv(s)&&hv(r)})}function fv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Hn(r,o)}catch{return!0}}function hv(r){var s=Po(r,2);s!==null&&Xn(s,r,2)}function Pm(r){var s=Mn();if(typeof r=="function"){var o=r;if(r=o(),Fa){Ye(!0);try{o()}finally{Ye(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},s}function dv(r,s,o,u){return r.baseState=o,km(r,vt,typeof u=="function"?u:zi)}function f2(r,s,o,u,h){if(Of(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};$.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,mv(s,p)):(p.next=o.next,s.pending=o.next=p)}}function mv(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var p=$.T,b={};$.T=b;try{var w=o(h,u),D=$.S;D!==null&&D(b,w),pv(r,s,w)}catch(Q){Mm(r,s,Q)}finally{$.T=p}}else try{p=o(h,u),pv(r,s,p)}catch(Q){Mm(r,s,Q)}}function pv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){gv(r,s,u)},function(u){return Mm(r,s,u)}):gv(r,s,o)}function gv(r,s,o){s.status="fulfilled",s.value=o,yv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,mv(r,o)))}function Mm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,yv(s),s=s.next;while(s!==u)}r.action=null}function yv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function _v(r,s){return s}function vv(r,s){if(ht){var o=St.formState;if(o!==null){e:{var u=Qe;if(ht){if(kt){t:{for(var h=kt,p=Xr;h.nodeType!==8;){if(!p){h=null;break t}if(h=Ir(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){kt=Ir(h.nextSibling),u=h.data==="F!";break e}}Ua(u)}u=!1}u&&(s=o[0])}}return o=Mn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_v,lastRenderedState:s},o.queue=u,o=Uv.bind(null,Qe,u),u.dispatch=o,u=Pm(!1),p=Bm.bind(null,Qe,!1,u.queue),u=Mn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=f2.bind(null,Qe,h,p,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function bv(r){var s=Kt();return Ev(s,vt,r)}function Ev(r,s,o){if(s=km(r,s,_v)[0],r=If(zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=yu(s)}catch(b){throw b===fu?Tf:b}else u=s;s=Kt();var h=s.queue,p=h.dispatch;return o!==s.memoizedState&&(Qe.flags|=2048,Ho(9,Cf(),h2.bind(null,h,o),null)),[u,p,r]}function h2(r,s){r.action=s}function Tv(r){var s=Kt(),o=vt;if(o!==null)return Ev(s,o,r);Kt(),s=s.memoizedState,o=Kt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Ho(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Om(),Qe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Cf(){return{destroy:void 0,resource:void 0}}function wv(){return Kt().memoizedState}function Nf(r,s,o,u){var h=Mn();u=u===void 0?null:u,Qe.flags|=r,h.memoizedState=Ho(1|s,Cf(),o,u)}function _u(r,s,o,u){var h=Kt();u=u===void 0?null:u;var p=h.memoizedState.inst;vt!==null&&u!==null&&Rm(u,vt.memoizedState.deps)?h.memoizedState=Ho(s,p,o,u):(Qe.flags|=r,h.memoizedState=Ho(1|s,p,o,u))}function Av(r,s){Nf(8390656,8,r,s)}function Sv(r,s){_u(2048,8,r,s)}function Rv(r,s){return _u(4,2,r,s)}function xv(r,s){return _u(4,4,r,s)}function Iv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Cv(r,s,o){o=o!=null?o.concat([r]):null,_u(4,4,Iv.bind(null,s,r),o)}function Lm(){}function Nv(r,s){var o=Kt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Rm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Ov(r,s){var o=Kt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Rm(s,u[1]))return u[0];if(u=r(),Fa){Ye(!0);try{r()}finally{Ye(!1)}}return o.memoizedState=[u,s],u}function Um(r,s,o){return o===void 0||(ws&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=V0(),Qe.lanes|=r,Ns|=r,o)}function Dv(r,s,o,u){return Hn(o,s)?o:Bo.current!==null?(r=Um(r,o,u),Hn(r,s)||(ln=!0),r):(ws&42)===0?(ln=!0,r.memoizedState=o):(r=V0(),Qe.lanes|=r,Ns|=r,s)}function kv(r,s,o,u,h){var p=ue.p;ue.p=p!==0&&8>p?p:8;var b=$.T,w={};$.T=w,Bm(r,!1,s,o);try{var D=h(),Q=$.S;if(Q!==null&&Q(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var re=l2(D,u);vu(r,s,re,Qn(r))}else vu(r,s,u,Qn(r))}catch(oe){vu(r,s,{then:function(){},status:"rejected",reason:oe},Qn())}finally{ue.p=p,$.T=b}}function d2(){}function jm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=Vv(r).queue;kv(r,h,s,fe,o===null?d2:function(){return Pv(r),o(u)})}function Vv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Pv(r){var s=Vv(r).next.queue;vu(r,s,{},Qn())}function zm(){return En(Lu)}function Mv(){return Kt().memoizedState}function Lv(){return Kt().memoizedState}function m2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Qn();r=Es(o);var u=Ts(s,r,o);u!==null&&(Xn(u,s,o),du(u,s,o)),s={cache:gm()},r.payload=s;return}s=s.return}}function p2(r,s,o){var u=Qn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Of(r)?jv(s,o):(o=am(r,s,o,u),o!==null&&(Xn(o,r,u),zv(o,s,u)))}function Uv(r,s,o){var u=Qn();vu(r,s,o,u)}function vu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Of(r))jv(s,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,w=p(b,o);if(h.hasEagerState=!0,h.eagerState=w,Hn(w,b))return mf(r,s,h,0),St===null&&df(),!1}catch{}finally{}if(o=am(r,s,h,u),o!==null)return Xn(o,r,u),zv(o,s,u),!0}return!1}function Bm(r,s,o,u){if(u={lane:2,revertLane:vp(),action:u,hasEagerState:!1,eagerState:null,next:null},Of(r)){if(s)throw Error(i(479))}else s=am(r,o,u,2),s!==null&&Xn(s,r,2)}function Of(r){var s=r.alternate;return r===Qe||s!==null&&s===Qe}function jv(r,s){Fo=Sf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function zv(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Bl(r,o)}}var Df={readContext:En,use:xf,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Bv={readContext:En,use:xf,useCallback:function(r,s){return Mn().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:Av,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Nf(4194308,4,Iv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Nf(4194308,4,r,s)},useInsertionEffect:function(r,s){Nf(4,2,r,s)},useMemo:function(r,s){var o=Mn();s=s===void 0?null:s;var u=r();if(Fa){Ye(!0);try{r()}finally{Ye(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Mn();if(o!==void 0){var h=o(s);if(Fa){Ye(!0);try{o(s)}finally{Ye(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=p2.bind(null,Qe,r),[u.memoizedState,r]},useRef:function(r){var s=Mn();return r={current:r},s.memoizedState=r},useState:function(r){r=Pm(r);var s=r.queue,o=Uv.bind(null,Qe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Lm,useDeferredValue:function(r,s){var o=Mn();return Um(o,r,s)},useTransition:function(){var r=Pm(!1);return r=kv.bind(null,Qe,r.queue,!0,!1),Mn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Qe,h=Mn();if(ht){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),St===null)throw Error(i(349));(at&124)!==0||lv(u,s,o)}h.memoizedState=o;var p={value:o,getSnapshot:s};return h.queue=p,Av(cv.bind(null,u,p,r),[r]),u.flags|=2048,Ho(9,Cf(),uv.bind(null,u,p,o,s),null),o},useId:function(){var r=Mn(),s=St.identifierPrefix;if(ht){var o=Li,u=Mi;o=(u&~(1<<32-pt(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Rf++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=u2++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:zm,useFormState:vv,useActionState:vv,useOptimistic:function(r){var s=Mn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bm.bind(null,Qe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Dm,useCacheRefresh:function(){return Mn().memoizedState=m2.bind(null,Qe)}},Fv={readContext:En,use:xf,useCallback:Nv,useContext:En,useEffect:Sv,useImperativeHandle:Cv,useInsertionEffect:Rv,useLayoutEffect:xv,useMemo:Ov,useReducer:If,useRef:wv,useState:function(){return If(zi)},useDebugValue:Lm,useDeferredValue:function(r,s){var o=Kt();return Dv(o,vt.memoizedState,r,s)},useTransition:function(){var r=If(zi)[0],s=Kt().memoizedState;return[typeof r=="boolean"?r:yu(r),s]},useSyncExternalStore:ov,useId:Mv,useHostTransitionStatus:zm,useFormState:bv,useActionState:bv,useOptimistic:function(r,s){var o=Kt();return dv(o,vt,r,s)},useMemoCache:Dm,useCacheRefresh:Lv},g2={readContext:En,use:xf,useCallback:Nv,useContext:En,useEffect:Sv,useImperativeHandle:Cv,useInsertionEffect:Rv,useLayoutEffect:xv,useMemo:Ov,useReducer:Vm,useRef:wv,useState:function(){return Vm(zi)},useDebugValue:Lm,useDeferredValue:function(r,s){var o=Kt();return vt===null?Um(o,r,s):Dv(o,vt.memoizedState,r,s)},useTransition:function(){var r=Vm(zi)[0],s=Kt().memoizedState;return[typeof r=="boolean"?r:yu(r),s]},useSyncExternalStore:ov,useId:Mv,useHostTransitionStatus:zm,useFormState:Tv,useActionState:Tv,useOptimistic:function(r,s){var o=Kt();return vt!==null?dv(o,vt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:Lv},$o=null,bu=0;function kf(r){var s=bu;return bu+=1,$o===null&&($o=[]),J_($o,r,s)}function Eu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Vf(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function qv(r){var s=r._init;return s(r._payload)}function Hv(r){function s(H,z){if(r){var Y=H.deletions;Y===null?(H.deletions=[z],H.flags|=16):Y.push(z)}}function o(H,z){if(!r)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function h(H,z){return H=Pi(H,z),H.index=0,H.sibling=null,H}function p(H,z,Y){return H.index=Y,r?(Y=H.alternate,Y!==null?(Y=Y.index,Y<z?(H.flags|=67108866,z):Y):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function b(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function w(H,z,Y,se){return z===null||z.tag!==6?(z=lm(Y,H.mode,se),z.return=H,z):(z=h(z,Y),z.return=H,z)}function D(H,z,Y,se){var Se=Y.type;return Se===O?re(H,z,Y.props.children,se,Y.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&qv(Se)===z.type)?(z=h(z,Y.props),Eu(z,Y),z.return=H,z):(z=gf(Y.type,Y.key,Y.props,null,H.mode,se),Eu(z,Y),z.return=H,z)}function Q(H,z,Y,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=um(Y,H.mode,se),z.return=H,z):(z=h(z,Y.children||[]),z.return=H,z)}function re(H,z,Y,se,Se){return z===null||z.tag!==7?(z=Va(Y,H.mode,se,Se),z.return=H,z):(z=h(z,Y),z.return=H,z)}function oe(H,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=lm(""+z,H.mode,Y),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return Y=gf(z.type,z.key,z.props,null,H.mode,Y),Eu(Y,z),Y.return=H,Y;case k:return z=um(z,H.mode,Y),z.return=H,z;case S:var se=z._init;return z=se(z._payload),oe(H,z,Y)}if(ze(z)||P(z))return z=Va(z,H.mode,Y,null),z.return=H,z;if(typeof z.then=="function")return oe(H,kf(z),Y);if(z.$$typeof===G)return oe(H,bf(H,z),Y);Vf(H,z)}return null}function Z(H,z,Y,se){var Se=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Se!==null?null:w(H,z,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===Se?D(H,z,Y,se):null;case k:return Y.key===Se?Q(H,z,Y,se):null;case S:return Se=Y._init,Y=Se(Y._payload),Z(H,z,Y,se)}if(ze(Y)||P(Y))return Se!==null?null:re(H,z,Y,se,null);if(typeof Y.then=="function")return Z(H,z,kf(Y),se);if(Y.$$typeof===G)return Z(H,z,bf(H,Y),se);Vf(H,Y)}return null}function W(H,z,Y,se,Se){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(Y)||null,w(z,H,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return H=H.get(se.key===null?Y:se.key)||null,D(z,H,se,Se);case k:return H=H.get(se.key===null?Y:se.key)||null,Q(z,H,se,Se);case S:var Ze=se._init;return se=Ze(se._payload),W(H,z,Y,se,Se)}if(ze(se)||P(se))return H=H.get(Y)||null,re(z,H,se,Se,null);if(typeof se.then=="function")return W(H,z,Y,kf(se),Se);if(se.$$typeof===G)return W(H,z,Y,bf(z,se),Se);Vf(z,se)}return null}function je(H,z,Y,se){for(var Se=null,Ze=null,Oe=z,Me=z=0,cn=null;Oe!==null&&Me<Y.length;Me++){Oe.index>Me?(cn=Oe,Oe=null):cn=Oe.sibling;var ut=Z(H,Oe,Y[Me],se);if(ut===null){Oe===null&&(Oe=cn);break}r&&Oe&&ut.alternate===null&&s(H,Oe),z=p(ut,z,Me),Ze===null?Se=ut:Ze.sibling=ut,Ze=ut,Oe=cn}if(Me===Y.length)return o(H,Oe),ht&&Ma(H,Me),Se;if(Oe===null){for(;Me<Y.length;Me++)Oe=oe(H,Y[Me],se),Oe!==null&&(z=p(Oe,z,Me),Ze===null?Se=Oe:Ze.sibling=Oe,Ze=Oe);return ht&&Ma(H,Me),Se}for(Oe=u(Oe);Me<Y.length;Me++)cn=W(Oe,H,Me,Y[Me],se),cn!==null&&(r&&cn.alternate!==null&&Oe.delete(cn.key===null?Me:cn.key),z=p(cn,z,Me),Ze===null?Se=cn:Ze.sibling=cn,Ze=cn);return r&&Oe.forEach(function(js){return s(H,js)}),ht&&Ma(H,Me),Se}function ke(H,z,Y,se){if(Y==null)throw Error(i(151));for(var Se=null,Ze=null,Oe=z,Me=z=0,cn=null,ut=Y.next();Oe!==null&&!ut.done;Me++,ut=Y.next()){Oe.index>Me?(cn=Oe,Oe=null):cn=Oe.sibling;var js=Z(H,Oe,ut.value,se);if(js===null){Oe===null&&(Oe=cn);break}r&&Oe&&js.alternate===null&&s(H,Oe),z=p(js,z,Me),Ze===null?Se=js:Ze.sibling=js,Ze=js,Oe=cn}if(ut.done)return o(H,Oe),ht&&Ma(H,Me),Se;if(Oe===null){for(;!ut.done;Me++,ut=Y.next())ut=oe(H,ut.value,se),ut!==null&&(z=p(ut,z,Me),Ze===null?Se=ut:Ze.sibling=ut,Ze=ut);return ht&&Ma(H,Me),Se}for(Oe=u(Oe);!ut.done;Me++,ut=Y.next())ut=W(Oe,H,Me,ut.value,se),ut!==null&&(r&&ut.alternate!==null&&Oe.delete(ut.key===null?Me:ut.key),z=p(ut,z,Me),Ze===null?Se=ut:Ze.sibling=ut,Ze=ut);return r&&Oe.forEach(function(yR){return s(H,yR)}),ht&&Ma(H,Me),Se}function Et(H,z,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===O&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var Se=Y.key;z!==null;){if(z.key===Se){if(Se=Y.type,Se===O){if(z.tag===7){o(H,z.sibling),se=h(z,Y.props.children),se.return=H,H=se;break e}}else if(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===S&&qv(Se)===z.type){o(H,z.sibling),se=h(z,Y.props),Eu(se,Y),se.return=H,H=se;break e}o(H,z);break}else s(H,z);z=z.sibling}Y.type===O?(se=Va(Y.props.children,H.mode,se,Y.key),se.return=H,H=se):(se=gf(Y.type,Y.key,Y.props,null,H.mode,se),Eu(se,Y),se.return=H,H=se)}return b(H);case k:e:{for(Se=Y.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(H,z.sibling),se=h(z,Y.children||[]),se.return=H,H=se;break e}else{o(H,z);break}else s(H,z);z=z.sibling}se=um(Y,H.mode,se),se.return=H,H=se}return b(H);case S:return Se=Y._init,Y=Se(Y._payload),Et(H,z,Y,se)}if(ze(Y))return je(H,z,Y,se);if(P(Y)){if(Se=P(Y),typeof Se!="function")throw Error(i(150));return Y=Se.call(Y),ke(H,z,Y,se)}if(typeof Y.then=="function")return Et(H,z,kf(Y),se);if(Y.$$typeof===G)return Et(H,z,bf(H,Y),se);Vf(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(H,z.sibling),se=h(z,Y),se.return=H,H=se):(o(H,z),se=lm(Y,H.mode,se),se.return=H,H=se),b(H)):o(H,z)}return function(H,z,Y,se){try{bu=0;var Se=Et(H,z,Y,se);return $o=null,Se}catch(Oe){if(Oe===fu||Oe===Tf)throw Oe;var Ze=$n(29,Oe,null,H.mode);return Ze.lanes=se,Ze.return=H,Ze}finally{}}}var Go=Hv(!0),$v=Hv(!1),dr=ie(null),Zr=null;function As(r){var s=r.alternate;ce(rn,rn.current&1),ce(dr,r),Zr===null&&(s===null||Bo.current!==null||s.memoizedState!==null)&&(Zr=r)}function Gv(r){if(r.tag===22){if(ce(rn,rn.current),ce(dr,r),Zr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Zr=r)}}else Ss()}function Ss(){ce(rn,rn.current),ce(dr,dr.current)}function Bi(r){pe(dr),Zr===r&&(Zr=null),pe(rn)}var rn=ie(0);function Pf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Op(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Fm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var qm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Qn(),h=Es(u);h.payload=s,o!=null&&(h.callback=o),s=Ts(r,h,u),s!==null&&(Xn(s,r,u),du(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Qn(),h=Es(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Ts(r,h,u),s!==null&&(Xn(s,r,u),du(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Qn(),u=Es(o);u.tag=2,s!=null&&(u.callback=s),s=Ts(r,u,o),s!==null&&(Xn(s,r,o),du(s,r,o))}};function Kv(r,s,o,u,h,p,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,b):s.prototype&&s.prototype.isPureReactComponent?!ru(o,u)||!ru(h,p):!0}function Yv(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&qm.enqueueReplaceState(s,s.state,null)}function qa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Mf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Qv(r){Mf(r)}function Xv(r){console.error(r)}function Zv(r){Mf(r)}function Lf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Wv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hm(r,s,o){return o=Es(o),o.tag=3,o.payload={element:null},o.callback=function(){Lf(r,s)},o}function Jv(r){return r=Es(r),r.tag=3,r}function e0(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){Wv(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){Wv(s,o,u),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function y2(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&lu(s,o,h,!0),o=dr.current,o!==null){switch(o.tag){case 13:return Zr===null?mp():o.alternate===null&&Vt===0&&(Vt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===vm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),gp(r,u,h)),!1;case 22:return o.flags|=65536,u===vm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),gp(r,u,h)),!1}throw Error(i(435,o.tag))}return gp(r,u,h),mp(),!1}if(ht)return s=dr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==hm&&(r=Error(i(422),{cause:u}),ou(ur(r,o)))):(u!==hm&&(s=Error(i(423),{cause:u}),ou(ur(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=ur(u,o),h=Hm(r.stateNode,u,h),Tm(r,h),Vt!==4&&(Vt=2)),!1;var p=Error(i(520),{cause:u});if(p=ur(p,o),Iu===null?Iu=[p]:Iu.push(p),Vt!==4&&(Vt=2),s===null)return!0;u=ur(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Hm(o.stateNode,u,r),Tm(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Os===null||!Os.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Jv(h),e0(h,r,o,u),Tm(o,h),!1}o=o.return}while(o!==null);return!1}var t0=Error(i(461)),ln=!1;function mn(r,s,o,u){s.child=r===null?$v(s,null,o,u):Go(s,r.child,o,u)}function n0(r,s,o,u,h){o=o.render;var p=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return za(s),u=xm(r,s,o,b,p,h),w=Im(),r!==null&&!ln?(Cm(r,s,h),Fi(r,s,h)):(ht&&w&&cm(s),s.flags|=1,mn(r,s,u,h),s.child)}function r0(r,s,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!om(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,i0(r,s,p,u,h)):(r=gf(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Wm(r,h)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:ru,o(b,u)&&r.ref===s.ref)return Fi(r,s,h)}return s.flags|=1,r=Pi(p,u),r.ref=s.ref,r.return=s,s.child=r}function i0(r,s,o,u,h){if(r!==null){var p=r.memoizedProps;if(ru(p,u)&&r.ref===s.ref)if(ln=!1,s.pendingProps=u=p,Wm(r,h))(r.flags&131072)!==0&&(ln=!0);else return s.lanes=r.lanes,Fi(r,s,h)}return $m(r,s,o,u,h)}function s0(r,s,o){var u=s.pendingProps,h=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(h=s.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return a0(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ef(s,p!==null?p.cachePool:null),p!==null?iv(s,p):Am(),Gv(s);else return s.lanes=s.childLanes=536870912,a0(r,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(Ef(s,p.cachePool),iv(s,p),Ss(),s.memoizedState=null):(r!==null&&Ef(s,null),Am(),Ss());return mn(r,s,h,o),s.child}function a0(r,s,o,u){var h=_m();return h=h===null?null:{parent:nn._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Ef(s,null),Am(),Gv(s),r!==null&&lu(r,s,u,!0),null}function Uf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function $m(r,s,o,u,h){return za(s),o=xm(r,s,o,u,void 0,h),u=Im(),r!==null&&!ln?(Cm(r,s,h),Fi(r,s,h)):(ht&&u&&cm(s),s.flags|=1,mn(r,s,o,h),s.child)}function o0(r,s,o,u,h,p){return za(s),s.updateQueue=null,o=av(s,u,o,h),sv(r),u=Im(),r!==null&&!ln?(Cm(r,s,p),Fi(r,s,p)):(ht&&u&&cm(s),s.flags|=1,mn(r,s,o,p),s.child)}function l0(r,s,o,u,h){if(za(s),s.stateNode===null){var p=Mo,b=o.contextType;typeof b=="object"&&b!==null&&(p=En(b)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=qm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},bm(s),b=o.contextType,p.context=typeof b=="object"&&b!==null?En(b):Mo,p.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Fm(s,o,b,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&qm.enqueueReplaceState(p,p.state,null),pu(s,u,p,h),mu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var w=s.memoizedProps,D=qa(o,w);p.props=D;var Q=p.context,re=o.contextType;b=Mo,typeof re=="object"&&re!==null&&(b=En(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||Q!==b)&&Yv(s,p,u,b),bs=!1;var Z=s.memoizedState;p.state=Z,pu(s,u,p,h),mu(),Q=s.memoizedState,w||Z!==Q||bs?(typeof oe=="function"&&(Fm(s,o,oe,u),Q=s.memoizedState),(D=bs||Kv(s,o,D,u,Z,Q,b))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),p.props=u,p.state=Q,p.context=b,u=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,Em(r,s),b=s.memoizedProps,re=qa(o,b),p.props=re,oe=s.pendingProps,Z=p.context,Q=o.contextType,D=Mo,typeof Q=="object"&&Q!==null&&(D=En(Q)),w=o.getDerivedStateFromProps,(Q=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==oe||Z!==D)&&Yv(s,p,u,D),bs=!1,Z=s.memoizedState,p.state=Z,pu(s,u,p,h),mu();var W=s.memoizedState;b!==oe||Z!==W||bs||r!==null&&r.dependencies!==null&&vf(r.dependencies)?(typeof w=="function"&&(Fm(s,o,w,u),W=s.memoizedState),(re=bs||Kv(s,o,re,u,Z,W,D)||r!==null&&r.dependencies!==null&&vf(r.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=D,u=re):(typeof p.componentDidUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,Uf(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=Go(s,r.child,null,h),s.child=Go(s,null,o,h)):mn(r,s,o,h),s.memoizedState=p.state,r=s.child):r=Fi(r,s,h),r}function u0(r,s,o,u){return au(),s.flags|=256,mn(r,s,o,u),s.child}var Gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Km(r){return{baseLanes:r,cachePool:X_()}}function Ym(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function c0(r,s,o){var u=s.pendingProps,h=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(ht){if(h?As(s):Ss(),ht){var w=kt,D;if(D=w){e:{for(D=w,w=Xr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Ir(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(s.memoizedState={dehydrated:w,treeContext:Pa!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},D=$n(18,null,null,0),D.stateNode=w,D.return=s,s.child=D,Nn=s,kt=null,D=!0):D=!1}D||Ua(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Op(w)?s.lanes=32:s.lanes=536870912,null;Bi(s)}return w=u.children,u=u.fallback,h?(Ss(),h=s.mode,w=jf({mode:"hidden",children:w},h),u=Va(u,h,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,h=s.child,h.memoizedState=Km(o),h.childLanes=Ym(r,b,o),s.memoizedState=Gm,u):(As(s),Qm(s,w))}if(D=r.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(p)s.flags&256?(As(s),s.flags&=-257,s=Xm(r,s,o)):s.memoizedState!==null?(Ss(),s.child=r.child,s.flags|=128,s=null):(Ss(),h=u.fallback,w=s.mode,u=jf({mode:"visible",children:u.children},w),h=Va(h,w,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Go(s,r.child,null,o),u=s.child,u.memoizedState=Km(o),u.childLanes=Ym(r,b,o),s.memoizedState=Gm,s=h);else if(As(s),Op(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(i(419)),u.stack="",u.digest=b,ou({value:u,source:null,stack:null}),s=Xm(r,s,o)}else if(ln||lu(r,s,o,!1),b=(o&r.childLanes)!==0,ln||b){if(b=St,b!==null&&(u=o&-o,u=(u&42)!==0?1:hs(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Po(r,u),Xn(b,r,u),t0;w.data==="$?"||mp(),s=Xm(r,s,o)}else w.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=D.treeContext,kt=Ir(w.nextSibling),Nn=s,ht=!0,La=null,Xr=!1,r!==null&&(fr[hr++]=Mi,fr[hr++]=Li,fr[hr++]=Pa,Mi=r.id,Li=r.overflow,Pa=s),s=Qm(s,u.children),s.flags|=4096);return s}return h?(Ss(),h=u.fallback,w=s.mode,D=r.child,Q=D.sibling,u=Pi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,Q!==null?h=Pi(Q,h):(h=Va(h,w,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,w=r.child.memoizedState,w===null?w=Km(o):(D=w.cachePool,D!==null?(Q=nn._currentValue,D=D.parent!==Q?{parent:Q,pool:Q}:D):D=X_(),w={baseLanes:w.baseLanes|o,cachePool:D}),h.memoizedState=w,h.childLanes=Ym(r,b,o),s.memoizedState=Gm,u):(As(s),o=r.child,r=o.sibling,o=Pi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Qm(r,s){return s=jf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function jf(r,s){return r=$n(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Xm(r,s,o){return Go(s,r.child,null,o),r=Qm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function f0(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),mm(r.return,s,o)}function Zm(r,s,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function h0(r,s,o){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if(mn(r,s,u.children,o),u=rn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&f0(r,o,s);else if(r.tag===19)f0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ce(rn,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Pf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Zm(s,!1,h,o,p);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Pf(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Zm(s,!0,o,null,p);break;case"together":Zm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(lu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Pi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Pi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Wm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&vf(r)))}function _2(r,s,o){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),vs(s,nn,r.memoizedState.cache),au();break;case 27:case 5:nr(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(As(s),s.flags|=128,null):(o&s.child.childLanes)!==0?c0(r,s,o):(As(s),r=Fi(r,s,o),r!==null?r.sibling:null);As(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(lu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return h0(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(rn,rn.current),u)break;return null;case 22:case 23:return s.lanes=0,s0(r,s,o);case 24:vs(s,nn,r.memoizedState.cache)}return Fi(r,s,o)}function d0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)ln=!0;else{if(!Wm(r,o)&&(s.flags&128)===0)return ln=!1,_2(r,s,o);ln=(r.flags&131072)!==0}else ln=!1,ht&&(s.flags&1048576)!==0&&q_(s,_f,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")om(u)?(r=qa(u,r),s.tag=1,s=l0(null,s,u,r,o)):(s.tag=0,s=$m(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===ee){s.tag=11,s=n0(null,s,u,r,o);break e}else if(h===C){s.tag=14,s=r0(null,s,u,r,o);break e}}throw s=Ve(u)||u,Error(i(306,s,""))}}return s;case 0:return $m(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=qa(u,s.pendingProps),l0(r,s,u,h,o);case 3:e:{if(Fe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;h=p.element,Em(r,s),pu(s,u,null,o);var b=s.memoizedState;if(u=b.cache,vs(s,nn,u),u!==p.cache&&pm(s,[nn],o,!0),mu(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=u0(r,s,u,o);break e}else if(u!==h){h=ur(Error(i(424)),s),ou(h),s=u0(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kt=Ir(r.firstChild),Nn=s,ht=!0,La=null,Xr=!0,o=$v(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(au(),u===h){s=Fi(r,s,o);break e}mn(r,s,u,o)}s=s.child}return s;case 26:return Uf(r,s),r===null?(o=yb(s.type,null,s.pendingProps,null))?s.memoizedState=o:ht||(o=s.type,r=s.pendingProps,u=Jf(Ie.current).createElement(o),u[Jt]=s,u[Ht]=r,gn(u,o,r),Lt(u),s.stateNode=u):s.memoizedState=yb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return nr(s),r===null&&ht&&(u=s.stateNode=mb(s.type,s.pendingProps,Ie.current),Nn=s,Xr=!0,h=kt,Vs(s.type)?(Dp=h,kt=Ir(u.firstChild)):kt=h),mn(r,s,s.pendingProps.children,o),Uf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ht&&((h=u=kt)&&(u=G2(u,s.type,s.pendingProps,Xr),u!==null?(s.stateNode=u,Nn=s,kt=Ir(u.firstChild),Xr=!1,h=!0):h=!1),h||Ua(s)),nr(s),h=s.type,p=s.pendingProps,b=r!==null?r.memoizedProps:null,u=p.children,Ip(h,p)?u=null:b!==null&&Ip(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=xm(r,s,c2,null,null,o),Lu._currentValue=h),Uf(r,s),mn(r,s,u,o),s.child;case 6:return r===null&&ht&&((r=o=kt)&&(o=K2(o,s.pendingProps,Xr),o!==null?(s.stateNode=o,Nn=s,kt=null,r=!0):r=!1),r||Ua(s)),null;case 13:return c0(r,s,o);case 4:return Fe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Go(s,null,u,o):mn(r,s,u,o),s.child;case 11:return n0(r,s,s.type,s.pendingProps,o);case 7:return mn(r,s,s.pendingProps,o),s.child;case 8:return mn(r,s,s.pendingProps.children,o),s.child;case 12:return mn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,vs(s,s.type,u.value),mn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,za(s),h=En(h),u=u(h),s.flags|=1,mn(r,s,u,o),s.child;case 14:return r0(r,s,s.type,s.pendingProps,o);case 15:return i0(r,s,s.type,s.pendingProps,o);case 19:return h0(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=jf(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Pi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return s0(r,s,o);case 24:return za(s),u=En(nn),r===null?(h=_m(),h===null&&(h=St,p=gm(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),s.memoizedState={parent:u,cache:h},bm(s),vs(s,nn,h)):((r.lanes&o)!==0&&(Em(r,s),pu(s,null,null,o),mu()),h=r.memoizedState,p=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),vs(s,nn,u)):(u=p.cache,vs(s,nn,u),u!==h.cache&&pm(s,[nn],o,!0))),mn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function qi(r){r.flags|=4}function m0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Tb(s)){if(s=dr.current,s!==null&&((at&4194048)===at?Zr!==null:(at&62914560)!==at&&(at&536870912)===0||s!==Zr))throw hu=vm,Z_;r.flags|=8192}}function zf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?jl():536870912,r.lanes|=s,Xo|=s)}function Tu(r,s){if(!ht)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Ot(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function v2(r,s,o){var u=s.pendingProps;switch(fm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Ot(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ji(nn),Vn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(su(s)?qi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,G_())),Ot(s),null;case 26:return o=s.memoizedState,r===null?(qi(s),o!==null?(Ot(s),m0(s,o)):(Ot(s),s.flags&=-16777217)):o?o!==r.memoizedState?(qi(s),Ot(s),m0(s,o)):(Ot(s),s.flags&=-16777217):(r.memoizedProps!==u&&qi(s),Ot(s),s.flags&=-16777217),null;case 27:Er(s),o=Ie.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&qi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ot(s),null}r=Ne.current,su(s)?H_(s):(r=mb(h,u,o),s.stateNode=r,qi(s))}return Ot(s),null;case 5:if(Er(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&qi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ot(s),null}if(r=Ne.current,su(s))H_(s);else{switch(h=Jf(Ie.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Jt]=s,r[Ht]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(gn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&qi(s)}}return Ot(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&qi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ie.current,su(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Nn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||ob(r.nodeValue,o)),r||Ua(s)}else r=Jf(r).createTextNode(u),r[Jt]=s,s.stateNode=r}return Ot(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=su(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Jt]=s}else au(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),h=!1}else h=G_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Bi(s),s):(Bi(s),null)}if(Bi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),zf(s,s.updateQueue),Ot(s),null;case 4:return Vn(),r===null&&wp(s.stateNode.containerInfo),Ot(s),null;case 10:return ji(s.type),Ot(s),null;case 19:if(pe(rn),h=s.memoizedState,h===null)return Ot(s),null;if(u=(s.flags&128)!==0,p=h.rendering,p===null)if(u)Tu(h,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=Pf(r),p!==null){for(s.flags|=128,Tu(h,!1),r=p.updateQueue,s.updateQueue=r,zf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)F_(o,r),o=o.sibling;return ce(rn,rn.current&1|2),s.child}r=r.sibling}h.tail!==null&&Pn()>qf&&(s.flags|=128,u=!0,Tu(h,!1),s.lanes=4194304)}else{if(!u)if(r=Pf(p),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,zf(s,r),Tu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!ht)return Ot(s),null}else 2*Pn()-h.renderingStartTime>qf&&o!==536870912&&(s.flags|=128,u=!0,Tu(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(r=h.last,r!==null?r.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Pn(),s.sibling=null,r=rn.current,ce(rn,u?r&1|2:r&1),s):(Ot(s),null);case 22:case 23:return Bi(s),Sm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),o=s.updateQueue,o!==null&&zf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&pe(Ba),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ji(nn),Ot(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function b2(r,s){switch(fm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ji(nn),Vn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Er(s),null;case 13:if(Bi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));au()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return pe(rn),null;case 4:return Vn(),null;case 10:return ji(s.type),null;case 22:case 23:return Bi(s),Sm(),r!==null&&pe(Ba),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ji(nn),null;case 25:return null;default:return null}}function p0(r,s){switch(fm(s),s.tag){case 3:ji(nn),Vn();break;case 26:case 27:case 5:Er(s);break;case 4:Vn();break;case 13:Bi(s);break;case 19:pe(rn);break;case 10:ji(s.type);break;case 22:case 23:Bi(s),Sm(),r!==null&&pe(Ba);break;case 24:ji(nn)}}function wu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==h)}}catch(w){wt(s,s.return,w)}}function Rs(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=s;var D=o,Q=w;try{Q()}catch(re){wt(h,D,re)}}}u=u.next}while(u!==p)}}catch(re){wt(s,s.return,re)}}function g0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{rv(s,o)}catch(u){wt(r,r.return,u)}}}function y0(r,s,o){o.props=qa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){wt(r,s,u)}}function Au(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){wt(r,s,h)}}function Wr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){wt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){wt(r,s,h)}else o.current=null}function _0(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){wt(r,r.return,h)}}function Jm(r,s,o){try{var u=r.stateNode;B2(u,r.type,o,s),u[Ht]=s}catch(h){wt(r,r.return,h)}}function v0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vs(r.type)||r.tag===4}function ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||v0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Wf));else if(u!==4&&(u===27&&Vs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(tp(r,s,o),r=r.sibling;r!==null;)tp(r,s,o),r=r.sibling}function Bf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Vs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Bf(r,s,o),r=r.sibling;r!==null;)Bf(r,s,o),r=r.sibling}function b0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);gn(s,u,o),s[Jt]=r,s[Ht]=o}catch(p){wt(r,r.return,p)}}var Hi=!1,jt=!1,np=!1,E0=typeof WeakSet=="function"?WeakSet:Set,un=null;function E2(r,s){if(r=r.containerInfo,Rp=sh,r=D_(r),em(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,w=-1,D=-1,Q=0,re=0,oe=r,Z=null;t:for(;;){for(var W;oe!==o||h!==0&&oe.nodeType!==3||(w=b+h),oe!==p||u!==0&&oe.nodeType!==3||(D=b+u),oe.nodeType===3&&(b+=oe.nodeValue.length),(W=oe.firstChild)!==null;)Z=oe,oe=W;for(;;){if(oe===r)break t;if(Z===o&&++Q===h&&(w=b),Z===p&&++re===u&&(D=b),(W=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=W}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:r,selectionRange:o},sh=!1,un=s;un!==null;)if(s=un,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,un=r;else for(;un!==null;){switch(s=un,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var je=qa(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(je,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(ke){wt(o,o.return,ke)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Np(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Np(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,un=r;break}un=s.return}}function T0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xs(r,o),u&4&&wu(5,o);break;case 1:if(xs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){wt(o,o.return,b)}else{var h=qa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){wt(o,o.return,b)}}u&64&&g0(o),u&512&&Au(o,o.return);break;case 3:if(xs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{rv(r,s)}catch(b){wt(o,o.return,b)}}break;case 27:s===null&&u&4&&b0(o);case 26:case 5:xs(r,o),s===null&&u&4&&_0(o),u&512&&Au(o,o.return);break;case 12:xs(r,o);break;case 13:xs(r,o),u&4&&S0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=N2.bind(null,o),Y2(r,o))));break;case 22:if(u=o.memoizedState!==null||Hi,!u){s=s!==null&&s.memoizedState!==null||jt,h=Hi;var p=jt;Hi=u,(jt=s)&&!p?Is(r,o,(o.subtreeFlags&8772)!==0):xs(r,o),Hi=h,jt=p}break;case 30:break;default:xs(r,o)}}function w0(r){var s=r.alternate;s!==null&&(r.alternate=null,w0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ps(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,Ln=!1;function $i(r,s,o){for(o=o.child;o!==null;)A0(r,s,o),o=o.sibling}function A0(r,s,o){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ye,o)}catch{}switch(o.tag){case 26:jt||Wr(o,s),$i(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:jt||Wr(o,s);var u=It,h=Ln;Vs(o.type)&&(It=o.stateNode,Ln=!1),$i(r,s,o),ku(o.stateNode),It=u,Ln=h;break;case 5:jt||Wr(o,s);case 6:if(u=It,h=Ln,It=null,$i(r,s,o),It=u,Ln=h,It!==null)if(Ln)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(p){wt(o,s,p)}else try{It.removeChild(o.stateNode)}catch(p){wt(o,s,p)}break;case 18:It!==null&&(Ln?(r=It,hb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Bu(r)):hb(It,o.stateNode));break;case 4:u=It,h=Ln,It=o.stateNode.containerInfo,Ln=!0,$i(r,s,o),It=u,Ln=h;break;case 0:case 11:case 14:case 15:jt||Rs(2,o,s),jt||Rs(4,o,s),$i(r,s,o);break;case 1:jt||(Wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&y0(o,s,u)),$i(r,s,o);break;case 21:$i(r,s,o);break;case 22:jt=(u=jt)||o.memoizedState!==null,$i(r,s,o),jt=u;break;default:$i(r,s,o)}}function S0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bu(r)}catch(o){wt(s,s.return,o)}}function T2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new E0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new E0),s;default:throw Error(i(435,r.tag))}}function rp(r,s){var o=T2(r);s.forEach(function(u){var h=O2.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Gn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Vs(w.type)){It=w.stateNode,Ln=!1;break e}break;case 5:It=w.stateNode,Ln=!1;break e;case 3:case 4:It=w.stateNode.containerInfo,Ln=!0;break e}w=w.return}if(It===null)throw Error(i(160));A0(p,b,h),It=null,Ln=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)R0(s,r),s=s.sibling}var xr=null;function R0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(s,r),Kn(r),u&4&&(Rs(3,r,r.return),wu(3,r),Rs(5,r,r.return));break;case 1:Gn(s,r),Kn(r),u&512&&(jt||o===null||Wr(o,o.return)),u&64&&Hi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=xr;if(Gn(s,r),Kn(r),u&512&&(jt||o===null||Wr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[_a]||p[Jt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),gn(p,u,o),p[Jt]=r,Lt(p),u=p;break e;case"link":var b=bb("link","href",h).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(p=b[w],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}p=h.createElement(u),gn(p,u,o),h.head.appendChild(p);break;case"meta":if(b=bb("meta","content",h).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(p=b[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}p=h.createElement(u),gn(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[Jt]=r,Lt(p),u=p}r.stateNode=u}else Eb(h,r.type,r.stateNode);else r.stateNode=vb(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?Eb(h,r.type,r.stateNode):vb(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Jm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Gn(s,r),Kn(r),u&512&&(jt||o===null||Wr(o,o.return)),o!==null&&u&4&&Jm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Gn(s,r),Kn(r),u&512&&(jt||o===null||Wr(o,o.return)),r.flags&32){h=r.stateNode;try{sr(h,"")}catch(W){wt(r,r.return,W)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Jm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(np=!0);break;case 6:if(Gn(s,r),Kn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){wt(r,r.return,W)}}break;case 3:if(nh=null,h=xr,xr=eh(s.containerInfo),Gn(s,r),xr=h,Kn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bu(s.containerInfo)}catch(W){wt(r,r.return,W)}np&&(np=!1,x0(r));break;case 4:u=xr,xr=eh(r.stateNode.containerInfo),Gn(s,r),Kn(r),xr=u;break;case 12:Gn(s,r),Kn(r);break;case 13:Gn(s,r),Kn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(up=Pn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,rp(r,u)));break;case 22:h=r.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,Q=Hi,re=jt;if(Hi=Q||h,jt=re||D,Gn(s,r),jt=re,Hi=Q,Kn(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||D||Hi||jt||Ha(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var oe=D.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){wt(D,D.return,W)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(W){wt(D,D.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,rp(r,o))));break;case 19:Gn(s,r),Kn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,rp(r,u)));break;case 30:break;case 21:break;default:Gn(s,r),Kn(r)}}function Kn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(v0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,p=ep(r);Bf(r,p,h);break;case 5:var b=o.stateNode;o.flags&32&&(sr(b,""),o.flags&=-33);var w=ep(r);Bf(r,w,b);break;case 3:case 4:var D=o.stateNode.containerInfo,Q=ep(r);tp(r,Q,D);break;default:throw Error(i(161))}}catch(re){wt(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function x0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;x0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function xs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)T0(r,s.alternate,s),s=s.sibling}function Ha(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Rs(4,s,s.return),Ha(s);break;case 1:Wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&y0(s,s.return,o),Ha(s);break;case 27:ku(s.stateNode);case 26:case 5:Wr(s,s.return),Ha(s);break;case 22:s.memoizedState===null&&Ha(s);break;case 30:Ha(s);break;default:Ha(s)}r=r.sibling}}function Is(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:Is(h,p,o),wu(4,p);break;case 1:if(Is(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){wt(u,u.return,Q)}if(u=p,h=u.updateQueue,h!==null){var w=u.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)nv(D[h],w)}catch(Q){wt(u,u.return,Q)}}o&&b&64&&g0(p),Au(p,p.return);break;case 27:b0(p);case 26:case 5:Is(h,p,o),o&&u===null&&b&4&&_0(p),Au(p,p.return);break;case 12:Is(h,p,o);break;case 13:Is(h,p,o),o&&b&4&&S0(h,p);break;case 22:p.memoizedState===null&&Is(h,p,o),Au(p,p.return);break;case 30:break;default:Is(h,p,o)}s=s.sibling}}function ip(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&uu(o))}function sp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&uu(r))}function Jr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)I0(r,s,o,u),s=s.sibling}function I0(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Jr(r,s,o,u),h&2048&&wu(9,s);break;case 1:Jr(r,s,o,u);break;case 3:Jr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&uu(r)));break;case 12:if(h&2048){Jr(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,b=p.id,w=p.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){wt(s,s.return,D)}}else Jr(r,s,o,u);break;case 13:Jr(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?Jr(r,s,o,u):Su(r,s):p._visibility&2?Jr(r,s,o,u):(p._visibility|=2,Ko(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&ip(b,s);break;case 24:Jr(r,s,o,u),h&2048&&sp(s.alternate,s);break;default:Jr(r,s,o,u)}}function Ko(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,b=s,w=o,D=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Ko(p,b,w,D,h),wu(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?Ko(p,b,w,D,h):Su(p,b):(re._visibility|=2,Ko(p,b,w,D,h)),h&&Q&2048&&ip(b.alternate,b);break;case 24:Ko(p,b,w,D,h),h&&Q&2048&&sp(b.alternate,b);break;default:Ko(p,b,w,D,h)}s=s.sibling}}function Su(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Su(o,u),h&2048&&ip(u.alternate,u);break;case 24:Su(o,u),h&2048&&sp(u.alternate,u);break;default:Su(o,u)}s=s.sibling}}var Ru=8192;function Yo(r){if(r.subtreeFlags&Ru)for(r=r.child;r!==null;)C0(r),r=r.sibling}function C0(r){switch(r.tag){case 26:Yo(r),r.flags&Ru&&r.memoizedState!==null&&oR(xr,r.memoizedState,r.memoizedProps);break;case 5:Yo(r);break;case 3:case 4:var s=xr;xr=eh(r.stateNode.containerInfo),Yo(r),xr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ru,Ru=16777216,Yo(r),Ru=s):Yo(r));break;default:Yo(r)}}function N0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function xu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];un=u,D0(u,r)}N0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O0(r),r=r.sibling}function O0(r){switch(r.tag){case 0:case 11:case 15:xu(r),r.flags&2048&&Rs(9,r,r.return);break;case 3:xu(r);break;case 12:xu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ff(r)):xu(r);break;default:xu(r)}}function Ff(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];un=u,D0(u,r)}N0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Rs(8,s,s.return),Ff(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ff(s));break;default:Ff(s)}r=r.sibling}}function D0(r,s){for(;un!==null;){var o=un;switch(o.tag){case 0:case 11:case 15:Rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:uu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,un=u;else e:for(o=r;un!==null;){u=un;var h=u.sibling,p=u.return;if(w0(u),u===o){un=null;break e}if(h!==null){h.return=p,un=h;break e}un=p}}}var w2={getCacheForType:function(r){var s=En(nn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},A2=typeof WeakMap=="function"?WeakMap:Map,gt=0,St=null,Je=null,at=0,yt=0,Yn=null,Cs=!1,Qo=!1,ap=!1,Gi=0,Vt=0,Ns=0,$a=0,op=0,mr=0,Xo=0,Iu=null,Un=null,lp=!1,up=0,qf=1/0,Hf=null,Os=null,pn=0,Ds=null,Zo=null,Wo=0,cp=0,fp=null,k0=null,Cu=0,hp=null;function Qn(){if((gt&2)!==0&&at!==0)return at&-at;if($.T!==null){var r=jo;return r!==0?r:vp()}return ds()}function V0(){mr===0&&(mr=(at&536870912)===0||ht?Ul():536870912);var r=dr.current;return r!==null&&(r.flags|=32),mr}function Xn(r,s,o){(r===St&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Jo(r,0),ks(r,at,mr,!1)),Ai(r,o),((gt&2)===0||r!==St)&&(r===St&&((gt&2)===0&&($a|=o),Vt===4&&ks(r,at,mr,!1)),ei(r))}function P0(r,s,o){if((gt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ti(r,s),h=u?x2(r,s):pp(r,s,!0),p=u;do{if(h===0){Qo&&!u&&ks(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!S2(o)){h=pp(r,s,!1),p=!1;continue}if(h===2){if(p=s,r.errorRecoveryDisabledLanes&p)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=r;h=Iu;var D=w.current.memoizedState.isDehydrated;if(D&&(Jo(w,b).flags|=256),b=pp(w,b,!1),b!==2){if(ap&&!D){w.errorRecoveryDisabledLanes|=p,$a|=p,h=4;break e}p=Un,Un=h,p!==null&&(Un===null?Un=p:Un.push.apply(Un,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){Jo(r,0),ks(r,s,0,!0);break}e:{switch(u=r,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ks(u,s,mr,!Cs);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=up+300-Pn(),10<h)){if(ks(u,s,mr,!Cs),Ei(u,0,!0)!==0)break e;u.timeoutHandle=cb(M0.bind(null,u,o,Un,Hf,lp,s,mr,$a,Xo,Cs,p,2,-0,0),h);break e}M0(u,o,Un,Hf,lp,s,mr,$a,Xo,Cs,p,0,-0,0)}}break}while(!0);ei(r)}function M0(r,s,o,u,h,p,b,w,D,Q,re,oe,Z,W){if(r.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Mu={stylesheets:null,count:0,unsuspend:aR},C0(s),oe=lR(),oe!==null)){r.cancelPendingCommit=oe(q0.bind(null,r,s,p,o,u,h,b,w,D,re,1,Z,W)),ks(r,p,b,!Q);return}q0(r,s,p,o,u,h,b,w,D)}function S2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Hn(p(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,u){s&=~op,s&=~$a,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var p=31-pt(h),b=1<<p;u[p]=-1,h&=~b}o!==0&&jr(r,o,s)}function $f(){return(gt&6)===0?(Nu(0),!1):!0}function dp(){if(Je!==null){if(yt===0)var r=Je.return;else r=Je,Ui=ja=null,Nm(r),$o=null,bu=0,r=Je;for(;r!==null;)p0(r.alternate,r),r=r.return;Je=null}}function Jo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,q2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),dp(),St=r,Je=o=Pi(r.current,null),at=s,yt=0,Yn=null,Cs=!1,Qo=Ti(r,s),ap=!1,Xo=mr=op=$a=Ns=Vt=0,Un=Iu=null,lp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-pt(u),p=1<<h;s|=r[h],u&=~p}return Gi=s,df(),o}function L0(r,s){Qe=null,$.H=Df,s===fu||s===Tf?(s=ev(),yt=3):s===Z_?(s=ev(),yt=4):yt=s===t0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,Je===null&&(Vt=1,Lf(r,ur(s,r.current)))}function U0(){var r=$.H;return $.H=Df,r===null?Df:r}function j0(){var r=$.A;return $.A=w2,r}function mp(){Vt=4,Cs||(at&4194048)!==at&&dr.current!==null||(Qo=!0),(Ns&134217727)===0&&($a&134217727)===0||St===null||ks(St,at,mr,!1)}function pp(r,s,o){var u=gt;gt|=2;var h=U0(),p=j0();(St!==r||at!==s)&&(Hf=null,Jo(r,s)),s=!1;var b=Vt;e:do try{if(yt!==0&&Je!==null){var w=Je,D=Yn;switch(yt){case 8:dp(),b=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(s=!0);var Q=yt;if(yt=0,Yn=null,el(r,w,D,Q),o&&Qo){b=0;break e}break;default:Q=yt,yt=0,Yn=null,el(r,w,D,Q)}}R2(),b=Vt;break}catch(re){L0(r,re)}while(!0);return s&&r.shellSuspendCounter++,Ui=ja=null,gt=u,$.H=h,$.A=p,Je===null&&(St=null,at=0,df()),b}function R2(){for(;Je!==null;)z0(Je)}function x2(r,s){var o=gt;gt|=2;var u=U0(),h=j0();St!==r||at!==s?(Hf=null,qf=Pn()+500,Jo(r,s)):Qo=Ti(r,s);e:do try{if(yt!==0&&Je!==null){s=Je;var p=Yn;t:switch(yt){case 1:yt=0,Yn=null,el(r,s,p,1);break;case 2:case 9:if(W_(p)){yt=0,Yn=null,B0(s);break}s=function(){yt!==2&&yt!==9||St!==r||(yt=7),ei(r)},p.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:W_(p)?(yt=0,Yn=null,B0(s)):(yt=0,Yn=null,el(r,s,p,7));break;case 5:var b=null;switch(Je.tag){case 26:b=Je.memoizedState;case 5:case 27:var w=Je;if(!b||Tb(b)){yt=0,Yn=null;var D=w.sibling;if(D!==null)Je=D;else{var Q=w.return;Q!==null?(Je=Q,Gf(Q)):Je=null}break t}}yt=0,Yn=null,el(r,s,p,5);break;case 6:yt=0,Yn=null,el(r,s,p,6);break;case 8:dp(),Vt=6;break e;default:throw Error(i(462))}}I2();break}catch(re){L0(r,re)}while(!0);return Ui=ja=null,$.H=u,$.A=h,gt=o,Je!==null?0:(St=null,at=0,df(),Vt)}function I2(){for(;Je!==null&&!us();)z0(Je)}function z0(r){var s=d0(r.alternate,r,Gi);r.memoizedProps=r.pendingProps,s===null?Gf(r):Je=s}function B0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=o0(o,s,s.pendingProps,s.type,void 0,at);break;case 11:s=o0(o,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:Nm(s);default:p0(o,s),s=Je=F_(s,Gi),s=d0(o,s,Gi)}r.memoizedProps=r.pendingProps,s===null?Gf(r):Je=s}function el(r,s,o,u){Ui=ja=null,Nm(s),$o=null,bu=0;var h=s.return;try{if(y2(r,h,s,o,at)){Vt=1,Lf(r,ur(o,r.current)),Je=null;return}}catch(p){if(h!==null)throw Je=h,p;Vt=1,Lf(r,ur(o,r.current)),Je=null;return}s.flags&32768?(ht||u===1?r=!0:Qo||(at&536870912)!==0?r=!1:(Cs=r=!0,(u===2||u===9||u===3||u===6)&&(u=dr.current,u!==null&&u.tag===13&&(u.flags|=16384))),F0(s,r)):Gf(s)}function Gf(r){var s=r;do{if((s.flags&32768)!==0){F0(s,Cs);return}r=s.return;var o=v2(s.alternate,s,Gi);if(o!==null){Je=o;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=r}while(s!==null);Vt===0&&(Vt=5)}function F0(r,s){do{var o=b2(r.alternate,r);if(o!==null){o.flags&=32767,Je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Je=r;return}Je=r=o}while(r!==null);Vt=6,Je=null}function q0(r,s,o,u,h,p,b,w,D){r.cancelPendingCommit=null;do Kf();while(pn!==0);if((gt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=sm,zl(r,o,p,b,w,D),r===St&&(Je=St=null,at=0),Zo=s,Ds=r,Wo=o,cp=p,fp=h,k0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,D2(X,function(){return Y0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,h=ue.p,ue.p=2,b=gt,gt|=4;try{E2(r,s,o)}finally{gt=b,ue.p=h,$.T=u}}pn=1,H0(),$0(),G0()}}function H0(){if(pn===1){pn=0;var r=Ds,s=Zo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ue.p;ue.p=2;var h=gt;gt|=4;try{R0(s,r);var p=xp,b=D_(r.containerInfo),w=p.focusedElem,D=p.selectionRange;if(b!==w&&w&&w.ownerDocument&&O_(w.ownerDocument.documentElement,w)){if(D!==null&&em(w)){var Q=D.start,re=D.end;if(re===void 0&&(re=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(re,w.value.length);else{var oe=w.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),je=w.textContent.length,ke=Math.min(D.start,je),Et=D.end===void 0?ke:Math.min(D.end,je);!W.extend&&ke>Et&&(b=Et,Et=ke,ke=b);var H=N_(w,ke),z=N_(w,Et);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var Y=oe.createRange();Y.setStart(H.node,H.offset),W.removeAllRanges(),ke>Et?(W.addRange(Y),W.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),W.addRange(Y))}}}}for(oe=[],W=w;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<oe.length;w++){var se=oe[w];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}sh=!!Rp,xp=Rp=null}finally{gt=h,ue.p=u,$.T=o}}r.current=s,pn=2}}function $0(){if(pn===2){pn=0;var r=Ds,s=Zo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ue.p;ue.p=2;var h=gt;gt|=4;try{T0(r,s.alternate,s)}finally{gt=h,ue.p=u,$.T=o}}pn=3}}function G0(){if(pn===4||pn===3){pn=0,go();var r=Ds,s=Zo,o=Wo,u=k0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?pn=5:(pn=0,Zo=Ds=null,K0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Os=null),yo(o),s=s.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ye,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,h=ue.p,ue.p=2,$.T=null;try{for(var p=r.onRecoverableError,b=0;b<u.length;b++){var w=u[b];p(w.value,{componentStack:w.stack})}}finally{$.T=s,ue.p=h}}(Wo&3)!==0&&Kf(),ei(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===hp?Cu++:(Cu=0,hp=r):Cu=0,Nu(0)}}function K0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,uu(s)))}function Kf(r){return H0(),$0(),G0(),Y0()}function Y0(){if(pn!==5)return!1;var r=Ds,s=cp;cp=0;var o=yo(Wo),u=$.T,h=ue.p;try{ue.p=32>o?32:o,$.T=null,o=fp,fp=null;var p=Ds,b=Wo;if(pn=0,Zo=Ds=null,Wo=0,(gt&6)!==0)throw Error(i(331));var w=gt;if(gt|=4,O0(p.current),I0(p,p.current,b,o),gt=w,Nu(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ye,p)}catch{}return!0}finally{ue.p=h,$.T=u,K0(r,s)}}function Q0(r,s,o){s=ur(o,s),s=Hm(r.stateNode,s,2),r=Ts(r,s,2),r!==null&&(Ai(r,2),ei(r))}function wt(r,s,o){if(r.tag===3)Q0(r,r,o);else for(;s!==null;){if(s.tag===3){Q0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Os===null||!Os.has(u))){r=ur(o,r),o=Jv(2),u=Ts(s,o,2),u!==null&&(e0(o,u,s,r),Ai(u,2),ei(u));break}}s=s.return}}function gp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new A2;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(ap=!0,h.add(o),r=C2.bind(null,r,s,o),s.then(r,r))}function C2(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,St===r&&(at&o)===o&&(Vt===4||Vt===3&&(at&62914560)===at&&300>Pn()-up?(gt&2)===0&&Jo(r,0):op|=o,Xo===at&&(Xo=0)),ei(r)}function X0(r,s){s===0&&(s=jl()),r=Po(r,s),r!==null&&(Ai(r,s),ei(r))}function N2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),X0(r,o)}function O2(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),X0(r,o)}function D2(r,s){return _i(r,s)}var Yf=null,tl=null,yp=!1,Qf=!1,_p=!1,Ga=0;function ei(r){r!==tl&&r.next===null&&(tl===null?Yf=tl=r:tl=tl.next=r),Qf=!0,yp||(yp=!0,V2())}function Nu(r,s){if(!_p&&Qf){_p=!0;do for(var o=!1,u=Yf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var b=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-pt(42|r)+1)-1,p&=h&~(b&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,eb(u,p))}else p=at,p=Ei(u,u===St?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ti(u,p)||(o=!0,eb(u,p));u=u.next}while(o);_p=!1}}function k2(){Z0()}function Z0(){Qf=yp=!1;var r=0;Ga!==0&&(F2()&&(r=Ga),Ga=0);for(var s=Pn(),o=null,u=Yf;u!==null;){var h=u.next,p=W0(u,s);p===0?(u.next=null,o===null?Yf=h:o.next=h,h===null&&(tl=o)):(o=u,(r!==0||(p&3)!==0)&&(Qf=!0)),u=h}Nu(r)}function W0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var b=31-pt(p),w=1<<b,D=h[b];D===-1?((w&o)===0||(w&u)!==0)&&(h[b]=fs(w,s)):D<=s&&(r.expiredLanes|=w),p&=~w}if(s=St,o=at,o=Ei(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ur(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ti(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Ur(u),yo(o)){case 2:case 8:o=L;break;case 32:o=X;break;case 268435456:o=be;break;default:o=X}return u=J0.bind(null,r),o=_i(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Ur(u),r.callbackPriority=2,r.callbackNode=null,2}function J0(r,s){if(pn!==0&&pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Kf()&&r.callbackNode!==o)return null;var u=at;return u=Ei(r,r===St?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(P0(r,u,s),W0(r,Pn()),r.callbackNode!=null&&r.callbackNode===o?J0.bind(null,r):null)}function eb(r,s){if(Kf())return null;P0(r,s,!0)}function V2(){H2(function(){(gt&6)!==0?_i(cs,k2):Z0()})}function vp(){return Ga===0&&(Ga=Ul()),Ga}function tb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:wo(""+r)}function nb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function P2(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var p=tb((h[Ht]||null).action),b=u.submitter;b&&(s=(s=b[Ht]||null)?tb(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var w=new Ao("action","action",null,u,h);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ga!==0){var D=b?nb(h,b):new FormData(h);jm(o,{pending:!0,data:D,method:h.method,action:p},null,D)}}else typeof p=="function"&&(w.preventDefault(),D=b?nb(h,b):new FormData(h),jm(o,{pending:!0,data:D,method:h.method,action:p},p,D))},currentTarget:h}]})}}for(var bp=0;bp<im.length;bp++){var Ep=im[bp],M2=Ep.toLowerCase(),L2=Ep[0].toUpperCase()+Ep.slice(1);Rr(M2,"on"+L2)}Rr(P_,"onAnimationEnd"),Rr(M_,"onAnimationIteration"),Rr(L_,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(e2,"onTransitionRun"),Rr(t2,"onTransitionStart"),Rr(n2,"onTransitionCancel"),Rr(U_,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function rb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],D=w.instance,Q=w.currentTarget;if(w=w.listener,D!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=Q;try{p(h)}catch(re){Mf(re)}h.currentTarget=null,p=D}else for(b=0;b<u.length;b++){if(w=u[b],D=w.instance,Q=w.currentTarget,w=w.listener,D!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=Q;try{p(h)}catch(re){Mf(re)}h.currentTarget=null,p=D}}}}function et(r,s){var o=s[Fl];o===void 0&&(o=s[Fl]=new Set);var u=r+"__bubble";o.has(u)||(ib(s,r,2,!1),o.add(u))}function Tp(r,s,o){var u=0;s&&(u|=4),ib(o,r,u,s)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function wp(r){if(!r[Xf]){r[Xf]=!0,ql.forEach(function(o){o!=="selectionchange"&&(U2.has(o)||Tp(o,!1,r),Tp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xf]||(s[Xf]=!0,Tp("selectionchange",!1,s))}}function ib(r,s,o,u){switch(Ib(s)){case 2:var h=fR;break;case 8:h=hR;break;default:h=Lp}o=h.bind(null,s,o,r),h=void 0,!or||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Ap(r,s,o,u,h){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=u.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=Si(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){u=p=b;continue e}w=w.parentNode}}u=u.return}Zc(function(){var Q=p,re=ar(o),oe=[];e:{var Z=j_.get(r);if(Z!==void 0){var W=Ao,je=r;switch(r){case"keypress":if($r(o)===0)break e;case"keydown":case"keyup":W=No;break;case"focusin":je="focus",W=xo;break;case"focusout":je="blur",W=xo;break;case"beforeblur":case"afterblur":W=xo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Xd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=af;break;case P_:case M_:case L_:W=Io;break;case U_:W=lf;break;case"scroll":case"scrollend":W=Wc;break;case"wheel":W=Oo;break;case"copy":case"cut":case"paste":W=Co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=tu;break;case"toggle":case"beforetoggle":W=cf}var ke=(s&4)!==0,Et=!ke&&(r==="scroll"||r==="scrollend"),H=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var z=Q,Y;z!==null;){var se=z;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||H===null||(se=Sa(z,H),se!=null&&ke.push(Du(z,se,Y))),Et)break;z=z.return}0<ke.length&&(Z=new W(Z,je,null,o,re),oe.push({event:Z,listeners:ke}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",Z&&o!==Ci&&(je=o.relatedTarget||o.fromElement)&&(Si(je)||je[ir]))break e;if((W||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(je=o.relatedTarget||o.toElement,W=Q,je=je?Si(je):null,je!==null&&(Et=l(je),ke=je.tag,je!==Et||ke!==5&&ke!==27&&ke!==6)&&(je=null)):(W=null,je=Q),W!==je)){if(ke=lr,se="onMouseLeave",H="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(ke=tu,se="onPointerLeave",H="onPointerEnter",z="pointer"),Et=W==null?Z:Br(W),Y=je==null?Z:Br(je),Z=new ke(se,z+"leave",W,o,re),Z.target=Et,Z.relatedTarget=Y,se=null,Si(re)===Q&&(ke=new ke(H,z+"enter",je,o,re),ke.target=Y,ke.relatedTarget=Et,se=ke),Et=se,W&&je)t:{for(ke=W,H=je,z=0,Y=ke;Y;Y=nl(Y))z++;for(Y=0,se=H;se;se=nl(se))Y++;for(;0<z-Y;)ke=nl(ke),z--;for(;0<Y-z;)H=nl(H),Y--;for(;z--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=nl(ke),H=nl(H)}ke=null}else ke=null;W!==null&&sb(oe,Z,W,ke,!1),je!==null&&Et!==null&&sb(oe,Et,je,ke,!0)}}e:{if(Z=Q?Br(Q):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var Se=A_;else if(tn(Z))if(S_)Se=ZS;else{Se=QS;var Ze=YS}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Yl(Q.elementType)&&(Se=A_):Se=XS;if(Se&&(Se=Se(r,Q))){Vi(oe,Se,o,re);break e}Ze&&Ze(r,Z,Q),r==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&ys(Z,"number",Z.value)}switch(Ze=Q?Br(Q):window,r){case"focusin":(tn(Ze)||Ze.contentEditable==="true")&&(Do=Ze,tm=Q,iu=null);break;case"focusout":iu=tm=Do=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,k_(oe,o,re);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":k_(oe,o,re)}var Oe;if(Yr)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else it?J(r,o)&&(Me="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(v&&o.locale!=="ko"&&(it||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&it&&(Oe=Xl()):(Hr=re,_s="value"in Hr?Hr.value:Hr.textContent,it=!0)),Ze=Zf(Q,Me),0<Ze.length&&(Me=new Jl(Me,r,null,o,re),oe.push({event:Me,listeners:Ze}),Oe?Me.data=Oe:(Oe=me(o),Oe!==null&&(Me.data=Oe)))),(Oe=y?en(r,o):st(r,o))&&(Me=Zf(Q,"onBeforeInput"),0<Me.length&&(Ze=new Jl("onBeforeInput","beforeinput",null,o,re),oe.push({event:Ze,listeners:Me}),Ze.data=Oe)),P2(oe,r,Q,o,re)}rb(oe,s)})}function Du(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Zf(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Sa(r,o),h!=null&&u.unshift(Du(r,h,p)),h=Sa(r,s),h!=null&&u.push(Du(r,h,p))),r.tag===3)return u;r=r.return}return[]}function nl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sb(r,s,o,u,h){for(var p=s._reactName,b=[];o!==null&&o!==u;){var w=o,D=w.alternate,Q=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||Q===null||(D=Q,h?(Q=Sa(o,p),Q!=null&&b.unshift(Du(o,Q,D))):h||(Q=Sa(o,p),Q!=null&&b.push(Du(o,Q,D)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var j2=/\r\n?/g,z2=/\u0000|\uFFFD/g;function ab(r){return(typeof r=="string"?r:""+r).replace(j2,`
`).replace(z2,"")}function ob(r,s){return s=ab(s),ab(r)===s}function Wf(){}function bt(r,s,o,u,h,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||sr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&sr(r,""+u);break;case"className":Fr(r,"class",u);break;case"tabIndex":Fr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(r,o,u);break;case"style":Kl(r,u,p);break;case"data":if(s!=="object"){Fr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=wo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&bt(r,s,"name",h.name,h,null),bt(r,s,"formEncType",h.formEncType,h,null),bt(r,s,"formMethod",h.formMethod,h,null),bt(r,s,"formTarget",h.formTarget,h,null)):(bt(r,s,"encType",h.encType,h,null),bt(r,s,"method",h.method,h,null),bt(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=wo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Wf);break;case"onScroll":u!=null&&et("scroll",r);break;case"onScrollEnd":u!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=wo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":et("beforetoggle",r),et("toggle",r),gs(r,"popover",u);break;case"xlinkActuate":hn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":hn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":hn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":hn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":hn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":hn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":hn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":hn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":hn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":gs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yd.get(o)||o,gs(r,o,u))}}function Sp(r,s,o,u,h,p){switch(o){case"style":Kl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?sr(r,u):(typeof u=="number"||typeof u=="bigint")&&sr(r,""+u);break;case"onScroll":u!=null&&et("scroll",r);break;case"onScrollEnd":u!=null&&et("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),p=r[Ht]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):gs(r,o,u)}}}function gn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(r,s,p,b,o,null)}}h&&bt(r,s,"srcSet",o.srcSet,o,null),u&&bt(r,s,"src",o.src,o,null);return;case"input":et("invalid",r);var w=p=b=h=null,D=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":h=re;break;case"type":b=re;break;case"checked":D=re;break;case"defaultChecked":Q=re;break;case"value":p=re;break;case"defaultValue":w=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:bt(r,s,u,re,o,null)}}Ta(r,p,w,D,Q,b,h,!1),To(r);return;case"select":et("invalid",r),u=b=p=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":p=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:bt(r,s,h,w,o,null)}s=p,o=b,r.multiple=!!u,s!=null?Ii(r,!!u,s,!1):o!=null&&Ii(r,!!u,o,!0);return;case"textarea":et("invalid",r),p=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":h=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:bt(r,s,b,w,o,null)}wa(r,u,h,p),To(r);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:bt(r,s,D,u,o,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(u=0;u<Ou.length;u++)et(Ou[u],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(r,s,Q,u,o,null)}return;default:if(Yl(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&Sp(r,s,re,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&bt(r,s,w,u,o,null))}function B2(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,w=null,D=null,Q=null,re=null;for(W in o){var oe=o[W];if(o.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=oe;default:u.hasOwnProperty(W)||bt(r,s,W,null,u,oe)}}for(var Z in u){var W=u[Z];if(oe=o[Z],u.hasOwnProperty(Z)&&(W!=null||oe!=null))switch(Z){case"type":p=W;break;case"name":h=W;break;case"checked":Q=W;break;case"defaultChecked":re=W;break;case"value":b=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==oe&&bt(r,s,Z,W,u,oe)}}qn(r,b,w,D,Q,re,p,h);return;case"select":W=b=w=Z=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(p)||bt(r,s,p,null,u,D)}for(h in u)if(p=u[h],D=o[h],u.hasOwnProperty(h)&&(p!=null||D!=null))switch(h){case"value":Z=p;break;case"defaultValue":w=p;break;case"multiple":b=p;default:p!==D&&bt(r,s,h,p,u,D)}s=w,o=b,u=W,Z!=null?Ii(r,!!o,Z,!1):!!u!=!!o&&(s!=null?Ii(r,!!o,s,!0):Ii(r,!!o,o?[]:"",!1));return;case"textarea":W=Z=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:bt(r,s,w,null,u,h)}for(b in u)if(h=u[b],p=o[b],u.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":Z=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&bt(r,s,b,h,u,p)}_t(r,Z,W);return;case"option":for(var je in o)if(Z=o[je],o.hasOwnProperty(je)&&Z!=null&&!u.hasOwnProperty(je))switch(je){case"selected":r.selected=!1;break;default:bt(r,s,je,null,u,Z)}for(D in u)if(Z=u[D],W=o[D],u.hasOwnProperty(D)&&Z!==W&&(Z!=null||W!=null))switch(D){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:bt(r,s,D,Z,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in o)Z=o[ke],o.hasOwnProperty(ke)&&Z!=null&&!u.hasOwnProperty(ke)&&bt(r,s,ke,null,u,Z);for(Q in u)if(Z=u[Q],W=o[Q],u.hasOwnProperty(Q)&&Z!==W&&(Z!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:bt(r,s,Q,Z,u,W)}return;default:if(Yl(s)){for(var Et in o)Z=o[Et],o.hasOwnProperty(Et)&&Z!==void 0&&!u.hasOwnProperty(Et)&&Sp(r,s,Et,void 0,u,Z);for(re in u)Z=u[re],W=o[re],!u.hasOwnProperty(re)||Z===W||Z===void 0&&W===void 0||Sp(r,s,re,Z,u,W);return}}for(var H in o)Z=o[H],o.hasOwnProperty(H)&&Z!=null&&!u.hasOwnProperty(H)&&bt(r,s,H,null,u,Z);for(oe in u)Z=u[oe],W=o[oe],!u.hasOwnProperty(oe)||Z===W||Z==null&&W==null||bt(r,s,oe,Z,u,W)}var Rp=null,xp=null;function Jf(r){return r.nodeType===9?r:r.ownerDocument}function lb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ub(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ip(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cp=null;function F2(){var r=window.event;return r&&r.type==="popstate"?r===Cp?!1:(Cp=r,!0):(Cp=null,!1)}var cb=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(r){return fb.resolve(null).then(r).catch($2)}:cb;function $2(r){setTimeout(function(){throw r})}function Vs(r){return r==="head"}function hb(r,s){var o=s,u=0,h=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&ku(b.documentElement),o&2&&ku(b.body),o&4)for(o=b.head,ku(o),b=o.firstChild;b;){var w=b.nextSibling,D=b.nodeName;b[_a]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(h===0){r.removeChild(p),Bu(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Bu(s)}function Np(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Np(o),ps(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function G2(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[_a])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Ir(r.nextSibling),r===null)break}return null}function K2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ir(r.nextSibling),r===null))return null;return r}function Op(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Y2(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Dp=null;function db(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function mb(r,s,o){switch(s=Jf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ku(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ps(r)}var pr=new Map,pb=new Set;function eh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ki=ue.d;ue.d={f:Q2,r:X2,D:Z2,C:W2,L:J2,m:eR,X:nR,S:tR,M:rR};function Q2(){var r=Ki.f(),s=$f();return r||s}function X2(r){var s=zr(r);s!==null&&s.tag===5&&s.type==="form"?Pv(s):Ki.r(r)}var rl=typeof document>"u"?null:document;function gb(r,s,o){var u=rl;if(u&&typeof s=="string"&&s){var h=$t(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),pb.has(h)||(pb.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),gn(s,"link",r),Lt(s),u.head.appendChild(s)))}}function Z2(r){Ki.D(r),gb("dns-prefetch",r,null)}function W2(r,s){Ki.C(r,s),gb("preconnect",r,s)}function J2(r,s,o){Ki.L(r,s,o);var u=rl;if(u&&r&&s){var h='link[rel="preload"][as="'+$t(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+$t(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+$t(o.imageSizes)+'"]')):h+='[href="'+$t(r)+'"]';var p=h;switch(s){case"style":p=il(r);break;case"script":p=sl(r)}pr.has(p)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),pr.set(p,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Vu(p))||s==="script"&&u.querySelector(Pu(p))||(s=u.createElement("link"),gn(s,"link",r),Lt(s),u.head.appendChild(s)))}}function eR(r,s){Ki.m(r,s);var o=rl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+$t(u)+'"][href="'+$t(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=sl(r)}if(!pr.has(p)&&(r=_({rel:"modulepreload",href:r},s),pr.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pu(p)))return}u=o.createElement("link"),gn(u,"link",r),Lt(u),o.head.appendChild(u)}}}function tR(r,s,o){Ki.S(r,s,o);var u=rl;if(u&&r){var h=xn(u).hoistableStyles,p=il(r);s=s||"default";var b=h.get(p);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Vu(p)))w.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=pr.get(p))&&kp(r,o);var D=b=u.createElement("link");Lt(D),gn(D,"link",r),D._p=new Promise(function(Q,re){D.onload=Q,D.onerror=re}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,th(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(p,b)}}}function nR(r,s){Ki.X(r,s);var o=rl;if(o&&r){var u=xn(o).hoistableScripts,h=sl(r),p=u.get(h);p||(p=o.querySelector(Pu(h)),p||(r=_({src:r,async:!0},s),(s=pr.get(h))&&Vp(r,s),p=o.createElement("script"),Lt(p),gn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function rR(r,s){Ki.M(r,s);var o=rl;if(o&&r){var u=xn(o).hoistableScripts,h=sl(r),p=u.get(h);p||(p=o.querySelector(Pu(h)),p||(r=_({src:r,async:!0,type:"module"},s),(s=pr.get(h))&&Vp(r,s),p=o.createElement("script"),Lt(p),gn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function yb(r,s,o,u){var h=(h=Ie.current)?eh(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=il(o.href),o=xn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=il(o.href);var p=xn(h).hoistableStyles,b=p.get(r);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,b),(p=h.querySelector(Vu(r)))&&!p._p&&(b.instance=p,b.state.loading=5),pr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(r,o),p||iR(h,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(o),o=xn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function il(r){return'href="'+$t(r)+'"'}function Vu(r){return'link[rel="stylesheet"]['+r+"]"}function _b(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function iR(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),gn(s,"link",o),Lt(s),r.head.appendChild(s))}function sl(r){return'[src="'+$t(r)+'"]'}function Pu(r){return"script[async]"+r}function vb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+$t(o.href)+'"]');if(u)return s.instance=u,Lt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Lt(u),gn(u,"style",h),th(u,o.precedence,r),s.instance=u;case"stylesheet":h=il(o.href);var p=r.querySelector(Vu(h));if(p)return s.state.loading|=4,s.instance=p,Lt(p),p;u=_b(o),(h=pr.get(h))&&kp(u,h),p=(r.ownerDocument||r).createElement("link"),Lt(p);var b=p;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),gn(p,"link",u),s.state.loading|=4,th(p,o.precedence,r),s.instance=p;case"script":return p=sl(o.src),(h=r.querySelector(Pu(p)))?(s.instance=h,Lt(h),h):(u=o,(h=pr.get(p))&&(u=_({},o),Vp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Lt(h),gn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,th(u,o.precedence,r));return s.instance}function th(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)p=w;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function kp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var nh=null;function bb(r,s,o){if(nh===null){var u=new Map,h=nh=new Map;h.set(o,u)}else h=nh,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[_a]||p[Jt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=r+b;var w=u.get(b);w?w.push(p):u.set(b,[p])}}return u}function Eb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function sR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Tb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Mu=null;function aR(){}function oR(r,s,o){if(Mu===null)throw Error(i(475));var u=Mu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=il(o.href),p=r.querySelector(Vu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=rh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=p,Lt(p);return}p=r.ownerDocument||r,o=_b(o),(h=pr.get(h))&&kp(o,h),p=p.createElement("link"),Lt(p);var b=p;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),gn(p,"link",o),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=rh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function lR(){if(Mu===null)throw Error(i(475));var r=Mu;return r.stylesheets&&r.count===0&&Pp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Pp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ih=null;function Pp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ih=new Map,s.forEach(uR,r),ih=null,rh.call(r))}function uR(r,s){if(!(s.state.loading&4)){var o=ih.get(r);if(o)var u=o.get(null);else{o=new Map,ih.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,h),o.set(b,h),this.count++,u=rh.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Lu={$$typeof:G,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function cR(r,s,o,u,h,p,b,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function wb(r,s,o,u,h,p,b,w,D,Q,re,oe){return r=new cR(r,s,o,b,w,D,Q,oe),s=1,p===!0&&(s|=24),p=$n(3,null,null,s),r.current=p,p.stateNode=r,s=gm(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},bm(p),r}function Ab(r){return r?(r=Mo,r):Mo}function Sb(r,s,o,u,h,p){h=Ab(h),u.context===null?u.context=h:u.pendingContext=h,u=Es(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ts(r,u,s),o!==null&&(Xn(o,r,s),du(o,r,s))}function Rb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Mp(r,s){Rb(r,s),(r=r.alternate)&&Rb(r,s)}function xb(r){if(r.tag===13){var s=Po(r,67108864);s!==null&&Xn(s,r,67108864),Mp(r,67108864)}}var sh=!0;function fR(r,s,o,u){var h=$.T;$.T=null;var p=ue.p;try{ue.p=2,Lp(r,s,o,u)}finally{ue.p=p,$.T=h}}function hR(r,s,o,u){var h=$.T;$.T=null;var p=ue.p;try{ue.p=8,Lp(r,s,o,u)}finally{ue.p=p,$.T=h}}function Lp(r,s,o,u){if(sh){var h=Up(u);if(h===null)Ap(r,s,u,ah,o),Cb(r,u);else if(mR(h,r,s,o,u))u.stopPropagation();else if(Cb(r,u),s&4&&-1<dR.indexOf(r)){for(;h!==null;){var p=zr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Fn(p.pendingLanes);if(b!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-pt(b);w.entanglements[1]|=D,b&=~D}ei(p),(gt&6)===0&&(qf=Pn()+500,Nu(0))}}break;case 13:w=Po(p,2),w!==null&&Xn(w,p,2),$f(),Mp(p,2)}if(p=Up(u),p===null&&Ap(r,s,u,ah,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ap(r,s,u,null,o)}}function Up(r){return r=ar(r),jp(r)}var ah=null;function jp(r){if(ah=null,r=Si(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return ah=r,null}function Ib(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qc()){case cs:return 2;case L:return 8;case X:case ne:return 32;case be:return 268435456;default:return 32}default:return 32}}var zp=!1,Ps=null,Ms=null,Ls=null,Uu=new Map,ju=new Map,Us=[],dR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cb(r,s){switch(r){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(s.pointerId)}}function zu(r,s,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=zr(s),s!==null&&xb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function mR(r,s,o,u,h){switch(s){case"focusin":return Ps=zu(Ps,r,s,o,u,h),!0;case"dragenter":return Ms=zu(Ms,r,s,o,u,h),!0;case"mouseover":return Ls=zu(Ls,r,s,o,u,h),!0;case"pointerover":var p=h.pointerId;return Uu.set(p,zu(Uu.get(p)||null,r,s,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ju.set(p,zu(ju.get(p)||null,r,s,o,u,h)),!0}return!1}function Nb(r){var s=Si(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Hc(r.priority,function(){if(o.tag===13){var u=Qn();u=hs(u);var h=Po(o,u);h!==null&&Xn(h,o,u),Mp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function oh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Up(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ci=u,o.target.dispatchEvent(u),Ci=null}else return s=zr(o),s!==null&&xb(s),r.blockedOn=o,!1;s.shift()}return!0}function Ob(r,s,o){oh(r)&&o.delete(s)}function pR(){zp=!1,Ps!==null&&oh(Ps)&&(Ps=null),Ms!==null&&oh(Ms)&&(Ms=null),Ls!==null&&oh(Ls)&&(Ls=null),Uu.forEach(Ob),ju.forEach(Ob)}function lh(r,s){r.blockedOn===s&&(r.blockedOn=null,zp||(zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pR)))}var uh=null;function Db(r){uh!==r&&(uh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uh===r&&(uh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(jp(u||o)===null)continue;break}var p=zr(o);p!==null&&(r.splice(s,3),s-=3,jm(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Bu(r){function s(D){return lh(D,r)}Ps!==null&&lh(Ps,r),Ms!==null&&lh(Ms,r),Ls!==null&&lh(Ls,r),Uu.forEach(s),ju.forEach(s);for(var o=0;o<Us.length;o++){var u=Us[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)Nb(o),o.blockedOn===null&&Us.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],b=h[Ht]||null;if(typeof p=="function")b||Db(o);else if(b){var w=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[Ht]||null)w=b.formAction;else if(jp(h)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),Db(o)}}}function Bp(r){this._internalRoot=r}ch.prototype.render=Bp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Qn();Sb(o,u,r,s,null,null)},ch.prototype.unmount=Bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Sb(r.current,2,null,r,null,null),$f(),s[ir]=null}};function ch(r){this._internalRoot=r}ch.prototype.unstable_scheduleHydration=function(r){if(r){var s=ds();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Us.length&&s!==0&&s<Us[o].priority;o++);Us.splice(o,0,r),o===0&&Nb(r)}};var kb=e.version;if(kb!=="19.1.0")throw Error(i(527,kb,"19.1.0"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var gR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{ye=fh.inject(gR),Re=fh}catch{}}return qu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=Qv,p=Xv,b=Zv,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=wb(r,1,!1,null,null,o,u,h,p,b,w,null),r[ir]=s.current,wp(r),new Bp(s)},qu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",p=Qv,b=Xv,w=Zv,D=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=wb(r,1,!0,s,o??null,u,h,p,b,w,D,Q),s.context=Ab(null),o=s.current,u=Qn(),u=hs(u),h=Es(u),h.callback=null,Ts(o,h,u),o=u,s.current.lanes=o,Ai(s,o),ei(s),r[ir]=s.current,wp(r),new ch(s)},qu.version="19.1.0",qu}var qb;function xR(){if(qb)return Hp.exports;qb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=RR(),Hp.exports}var IR=xR(),Hu={},Hb;function CR(){if(Hb)return Hu;Hb=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.parse=c,Hu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,k){const O=new l,j=T.length;if(j<2)return O;const U=k?.decode||_;let q=0;do{const B=T.indexOf("=",q);if(B===-1)break;const G=T.indexOf(";",q),ee=G===-1?j:G;if(B>ee){q=T.lastIndexOf(";",B-1)+1;continue}const ae=d(T,q,B),ve=m(T,B,ae),C=T.slice(ae,ve);if(O[C]===void 0){let S=d(T,B+1,ee),R=m(T,ee,S);const N=U(T.slice(S,R));O[C]=N}q=ee+1}while(q<j);return O}function d(T,k,O){do{const j=T.charCodeAt(k);if(j!==32&&j!==9)return k}while(++k<O);return O}function m(T,k,O){for(;k>O;){const j=T.charCodeAt(--k);if(j!==32&&j!==9)return k+1}return O}function g(T,k,O){const j=O?.encode||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const U=j(k);if(!e.test(U))throw new TypeError(`argument val is invalid: ${k}`);let q=T+"="+U;if(!O)return q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);q+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);q+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);q+="; Path="+O.path}if(O.expires){if(!E(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(q+="; HttpOnly"),O.secure&&(q+="; Secure"),O.partitioned&&(q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return q}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return a.call(T)==="[object Date]"}return Hu}CR();var $b="popstate";function NR(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return fg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:cc(a)}return DR(e,t,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OR(){return Math.random().toString(36).substring(2,10)}function Gb(n,e){return{usr:n.state,key:n.key,idx:e}}function fg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||i||OR()}}function cc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function DR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let U=_(),q=U==null?null:U-g;g=U,m&&m({action:d,location:j.location,delta:q})}function T(U,q){d="PUSH";let B=fg(j.location,U,q);g=_()+1;let G=Gb(B,g),ee=j.createHref(B);try{c.pushState(G,"",ee)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(ee)}l&&m&&m({action:d,location:j.location,delta:1})}function k(U,q){d="REPLACE";let B=fg(j.location,U,q);g=_();let G=Gb(B,g),ee=j.createHref(B);c.replaceState(G,"",ee),l&&m&&m({action:d,location:j.location,delta:0})}function O(U){return kR(U)}let j={get action(){return d},get location(){return n(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener($b,E),m=U,()=>{a.removeEventListener($b,E),m=null}},createHref(U){return e(a,U)},createURL:O,encodeLocation(U){let q=O(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:k,go(U){return c.go(U)}};return j}function kR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:cc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function dT(n,e,t="/"){return VR(n,e,t,!1)}function VR(n,e,t,i){let a=typeof e=="string"?Nl(e):e,l=ts(a.pathname||"/",t);if(l==null)return null;let c=mT(n);PR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=GR(l);d=HR(c[m],g,i)}return d}function mT(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Ct(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=Wi([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mT(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:FR(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of pT(l.path))a(l,c,d)}),e}function pT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=pT(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function PR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:qR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var MR=/^:[\w-]+$/,LR=3,UR=2,jR=1,zR=10,BR=-2,Kb=n=>n==="*";function FR(n,e){let t=n.split("/"),i=t.length;return t.some(Kb)&&(i+=BR),e&&(i+=UR),t.filter(a=>!Kb(a)).reduce((a,l)=>a+(MR.test(l)?LR:l===""?jR:zR),i)}function qR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function HR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),T=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Ph({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:Wi([l,E.pathname]),pathnameBase:XR(Wi([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=Wi([l,E.pathnameBase]))}return c}function Ph(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=$R(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:E},T)=>{if(_==="*"){let O=d[T]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const k=d[T];return E&&!k?g[_]=void 0:g[_]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function $R(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function GR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function KR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Nl(n):n;return{pathname:t?t.startsWith("/")?t:YR(t,e):e,search:ZR(i),hash:WR(a)}}function YR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Yp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ny(n){let e=QR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function ry(n,e,t,i=!1){let a;typeof n=="string"?a=Nl(n):(a={...n},Ct(!a.pathname||!a.pathname.includes("?"),Yp("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),Yp("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),Yp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;a.pathname=T.join("/")}d=E>=0?e[E]:"/"}let m=KR(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var Wi=n=>n.join("/").replace(/\/\/+/g,"/"),XR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gT=["POST","PUT","PATCH","DELETE"];new Set(gT);var ex=["GET",...gT];new Set(ex);var Ol=F.createContext(null);Ol.displayName="DataRouter";var hd=F.createContext(null);hd.displayName="DataRouterState";var yT=F.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var tx=F.createContext(new Map);tx.displayName="Fetchers";var nx=F.createContext(null);nx.displayName="Await";var Mr=F.createContext(null);Mr.displayName="Navigation";var Sc=F.createContext(null);Sc.displayName="Location";var gi=F.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var iy=F.createContext(null);iy.displayName="RouteError";function rx(n,{relative:e}={}){Ct(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Mr),{hash:a,pathname:l,search:c}=Rc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Wi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Dl(){return F.useContext(Sc)!=null}function ha(){return Ct(Dl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Sc).location}var _T="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vT(n){F.useContext(Mr).static||F.useLayoutEffect(n)}function dd(){let{isDataRoute:n}=F.useContext(gi);return n?gx():ix()}function ix(){Ct(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Ol),{basename:e,navigator:t}=F.useContext(Mr),{matches:i}=F.useContext(gi),{pathname:a}=ha(),l=JSON.stringify(ny(i)),c=F.useRef(!1);return vT(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Dr(c.current,_T),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=ry(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Wi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}F.createContext(null);function Rc(n,{relative:e}={}){let{matches:t}=F.useContext(gi),{pathname:i}=ha(),a=JSON.stringify(ny(t));return F.useMemo(()=>ry(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function sx(n,e){return bT(n,e)}function bT(n,e,t,i){Ct(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Mr),{matches:l}=F.useContext(gi),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let q=_&&_.path||"";ET(m,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=ha(),T;if(e){let q=typeof e=="string"?Nl(e):e;Ct(g==="/"||q.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${q.pathname}" was given in the \`location\` prop.`),T=q}else T=E;let k=T.pathname||"/",O=k;if(g!=="/"){let q=g.replace(/^\//,"").split("/");O="/"+k.replace(/^\//,"").split("/").slice(q.length).join("/")}let j=dT(n,{pathname:O});Dr(_||j!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Dr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=cx(j&&j.map(q=>Object.assign({},q,{params:Object.assign({},d,q.params),pathname:Wi([g,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:Wi([g,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),l,t,i);return e&&U?F.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function ax(){let n=px(),e=JR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var ox=F.createElement(ax,null),lx=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(gi.Provider,{value:this.props.routeContext},F.createElement(iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ux({routeContext:n,match:e,children:t}){let i=F.useContext(Ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(gi.Provider,{value:n},t)}function cx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:E}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let E,T=!1,k=null,O=null;t&&(E=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||ox,c&&(d<0&&_===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===_&&(T=!0,O=g.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,_+1)),U=()=>{let q;return E?q=k:T?q=O:g.route.Component?q=F.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,F.createElement(ux,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:t!=null},children:q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(lx,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}function sy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fx(n){let e=F.useContext(Ol);return Ct(e,sy(n)),e}function hx(n){let e=F.useContext(hd);return Ct(e,sy(n)),e}function dx(n){let e=F.useContext(gi);return Ct(e,sy(n)),e}function ay(n){let e=dx(n),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mx(){return ay("useRouteId")}function px(){let n=F.useContext(iy),e=hx("useRouteError"),t=ay("useRouteError");return n!==void 0?n:e.errors?.[t]}function gx(){let{router:n}=fx("useNavigate"),e=ay("useNavigate"),t=F.useRef(!1);return vT(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{Dr(t.current,_T),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Yb={};function ET(n,e,t){!e&&!Yb[n]&&(Yb[n]=!0,Dr(!1,t))}F.memo(yx);function yx({routes:n,future:e,state:t}){return bT(n,void 0,t,e)}function TT({to:n,replace:e,state:t,relative:i}){Ct(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Mr);Dr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(gi),{pathname:c}=ha(),d=dd(),m=ry(n,ny(l),c,i==="path"),g=JSON.stringify(m);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function wT(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _x({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Ct(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Nl(t));let{pathname:m="/",search:g="",hash:_="",state:E=null,key:T="default"}=t,k=F.useMemo(()=>{let O=ts(m,c);return O==null?null:{location:{pathname:O,search:g,hash:_,state:E,key:T},navigationType:i}},[c,m,g,_,E,T,i]);return Dr(k!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement(Mr.Provider,{value:d},F.createElement(Sc.Provider,{children:e,value:k}))}function vx({children:n,location:e}){return sx(hg(n),e)}function hg(n,e=[]){let t=[];return F.Children.forEach(n,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){t.push.apply(t,hg(i.props.children,l));return}Ct(i.type===wT,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=hg(i.props.children,l)),t.push(c)}),t}var Th="get",wh="application/x-www-form-urlencoded";function md(n){return n!=null&&typeof n.tagName=="string"}function bx(n){return md(n)&&n.tagName.toLowerCase()==="button"}function Ex(n){return md(n)&&n.tagName.toLowerCase()==="form"}function Tx(n){return md(n)&&n.tagName.toLowerCase()==="input"}function wx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ax(n,e){return n.button===0&&(!e||e==="_self")&&!wx(n)}var hh=null;function Sx(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var Rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(n){return n!=null&&!Rx.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):n}function xx(n,e){let t,i,a,l,c;if(Ex(n)){let d=n.getAttribute("action");i=d?ts(d,e):null,t=n.getAttribute("method")||Th,a=Qp(n.getAttribute("enctype"))||wh,l=new FormData(n)}else if(bx(n)||Tx(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?ts(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Th,a=Qp(n.getAttribute("formenctype"))||Qp(d.getAttribute("enctype"))||wh,l=new FormData(d,n),!Sx()){let{name:g,type:_,value:E}=n;if(_==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,E)}}else{if(md(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Th,i=null,a=wh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ix(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Nx(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Ix(l,t);return c.links?c.links():[]}return[]}));return Vx(i.flat(1).filter(Cx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qb(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Ox(n,e,{includeHydrateFallback:t}={}){return Dx(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Dx(n){return[...new Set(n)]}function kx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Vx(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(kx(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Px=new Set([100,101,204,205]);function Mx(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ts(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function AT(){let n=F.useContext(Ol);return oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Lx(){let n=F.useContext(hd);return oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ly=F.createContext(void 0);ly.displayName="FrameworkContext";function ST(){let n=F.useContext(ly);return oy(n,"You must render this element inside a <HydratedRouter> element"),n}function Ux(n,e){let t=F.useContext(ly),[i,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=q=>{q.forEach(B=>{c(B.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[n]),F.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let k=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:$u(d,k),onBlur:$u(m,O),onMouseEnter:$u(g,k),onMouseLeave:$u(_,O),onTouchStart:$u(E,k)}]:[!1,T,{}]}function $u(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jx({page:n,...e}){let{router:t}=AT(),i=F.useMemo(()=>dT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(Bx,{page:n,matches:i,...e}):null}function zx(n){let{manifest:e,routeModules:t}=ST(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return Nx(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function Bx({page:n,matches:e,...t}){let i=ha(),{manifest:a,routeModules:l}=ST(),{basename:c}=AT(),{loaderData:d,matches:m}=Lx(),g=F.useMemo(()=>Qb(n,e,m,a,i,"data"),[n,e,m,a,i]),_=F.useMemo(()=>Qb(n,e,m,a,i,"assets"),[n,e,m,a,i]),E=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,j=!1;if(e.forEach(q=>{let B=a.routes[q.route.id];!B||!B.hasLoader||(!g.some(G=>G.route.id===q.route.id)&&q.route.id in d&&l[q.route.id]?.shouldRevalidate||B.hasClientLoader?j=!0:O.add(q.route.id))}),O.size===0)return[];let U=Mx(n,c);return j&&O.size>0&&U.searchParams.set("_routes",e.filter(q=>O.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[c,d,i,a,g,e,n,l]),T=F.useMemo(()=>Ox(_,a),[_,a]),k=zx(_);return F.createElement(F.Fragment,null,E.map(O=>F.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),T.map(O=>F.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),k.map(({key:O,link:j})=>F.createElement("link",{key:O,...j})))}function Fx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RT&&(window.__reactRouterVersion="7.6.3")}catch{}function qx({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=NR({window:t,v5Compat:!0}));let a=i.current,[l,c]=F.useState({action:a.action,location:a.location}),d=F.useCallback(m=>{F.startTransition(()=>c(m))},[c]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.createElement(_x,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var xT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zn=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:E,...T},k){let{basename:O}=F.useContext(Mr),j=typeof g=="string"&&xT.test(g),U,q=!1;if(typeof g=="string"&&j&&(U=g,RT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=ts(N.pathname,O);N.origin===R.origin&&M!=null?g=M+N.search+N.hash:q=!0}catch{Dr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=rx(g,{relative:a}),[G,ee,ae]=Ux(i,T),ve=Kx(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:E});function C(R){e&&e(R),R.defaultPrevented||ve(R)}let S=F.createElement("a",{...T,...ae,href:U||B,onClick:q||l?e:C,ref:Fx(k,ee),target:m,"data-discover":!j&&t==="render"?"true":void 0});return G&&!j?F.createElement(F.Fragment,null,S,F.createElement(jx,{page:B})):S});Zn.displayName="Link";var Hx=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let E=Rc(c,{relative:g.relative}),T=ha(),k=F.useContext(hd),{navigator:O,basename:j}=F.useContext(Mr),U=k!=null&&Wx(E)&&d===!0,q=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,B=T.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&j&&(G=ts(G,j)||G);const ee=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ae=B===q||!a&&B.startsWith(q)&&B.charAt(ee)==="/",ve=G!=null&&(G===q||!a&&G.startsWith(q)&&G.charAt(q.length)==="/"),C={isActive:ae,isPending:ve,isTransitioning:U},S=ae?e:void 0,R;typeof i=="function"?R=i(C):R=[i,ae?"active":null,ve?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(C):l;return F.createElement(Zn,{...g,"aria-current":S,className:R,ref:_,style:N,to:c,viewTransition:d},typeof m=="function"?m(C):m)});Hx.displayName="NavLink";var $x=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Th,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:E,...T},k)=>{let O=Xx(),j=Zx(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&xT.test(d),B=G=>{if(m&&m(G),G.defaultPrevented)return;G.preventDefault();let ee=G.nativeEvent.submitter,ae=ee?.getAttribute("formmethod")||c;O(ee||G.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:E})};return F.createElement("form",{ref:k,method:U,action:j,onSubmit:i?m:B,...T,"data-discover":!q&&n==="render"?"true":void 0})});$x.displayName="Form";function Gx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(n){let e=F.useContext(Ol);return Ct(e,Gx(n)),e}function Kx(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=dd(),m=ha(),g=Rc(n,{relative:l});return F.useCallback(_=>{if(Ax(_,e)){_.preventDefault();let E=t!==void 0?t:cc(m)===cc(g);d(n,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,a,l,c])}var Yx=0,Qx=()=>`__${String(++Yx)}__`;function Xx(){let{router:n}=IT("useSubmit"),{basename:e}=F.useContext(Mr),t=mx();return F.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=xx(i,e);if(a.navigate===!1){let _=a.fetcherKey||Qx();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Zx(n,{relative:e}={}){let{basename:t}=F.useContext(Mr),i=F.useContext(gi);Ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Rc(n||".",{relative:e})},c=ha();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Wi([t,l.pathname])),cc(l)}function Wx(n,e={}){let t=F.useContext(yT);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=IT("useViewTransitionState"),a=Rc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ph(a.pathname,c)!=null||Ph(a.pathname,l)!=null}[...Px];const Jx=()=>{};var Xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},eI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,k=g&63;m||(k=64,c||(T=64)),i.push(t[_],t[E],t[T],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new tI;const T=l<<2|d>>4;if(i.push(T),g!==64){const k=d<<4&240|g>>2;if(i.push(k),E!==64){const O=g<<6&192|E;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nI=function(n){const e=CT(n);return NT.encodeByteArray(e,!0)},Mh=function(n){return nI(n).replace(/\./g,"")},OT=function(n){try{return NT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>rI().__FIREBASE_DEFAULTS__,sI=()=>{if(typeof process>"u"||typeof Xb>"u")return;const n=Xb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&OT(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return Jx()||iI()||sI()||aI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DT=n=>{var e,t;return(t=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kT=n=>{const e=DT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VT=()=>{var n;return(n=pd())===null||n===void 0?void 0:n.config},PT=n=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mh(JSON.stringify(t)),Mh(JSON.stringify(c)),""].join(".")}const nc={};function lI(){const n={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?n.emulator.push(e):n.prod.push(e);return n}function uI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Zb=!1;function cy(n,e){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||nc[n]===e||nc[n]||Zb)return;nc[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=lI().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,k){T.setAttribute("width","24"),T.setAttribute("id",k),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Zb=!0,c()},T}function _(T,k){T.setAttribute("id",k),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=uI(i),k=t("text"),O=document.getElementById(k)||document.createElement("span"),j=t("learnmore"),U=document.getElementById(j)||document.createElement("a"),q=t("preprendIcon"),B=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const G=T.element;d(G),_(U,j);const ee=g();m(B,q),G.append(B,O,U,ee),document.body.appendChild(G)}l?(O.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function fI(){var n;const e=(n=pd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gI(){return!fI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="FirebaseError";class yi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=vI,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?bI(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new yi(a,d,i)}}function bI(n,e){return n.replace(EI,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const EI=/\{\$([^}]+)}/g;function TI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ja(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(Wb(l)&&Wb(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Wb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Xu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wI(n,e){const t=new AI(n,e);return t.subscribe.bind(t)}class AI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");SI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Xp),a.error===void 0&&(a.error=Xp),a.complete===void 0&&(a.complete=Xp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n){return n&&n._delegate?n._delegate:n}class na{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new oI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(II(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xI(n){return n===Ka?void 0:n}function II(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const NI={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},OI=nt.INFO,DI={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},kI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=DI[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fy{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=kI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const VI=(n,e)=>e.some(t=>n instanceof t);let Jb,eE;function PI(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MI(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,dg=new WeakMap,UT=new WeakMap,Zp=new WeakMap,hy=new WeakMap;function LI(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Zs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&LT.set(t,n)}).catch(()=>{}),hy.set(e,n),e}function UI(n){if(dg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});dg.set(n,e)}let mg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jI(n){mg=n(mg)}function zI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Wp(this),e,...t);return UT.set(i,e.sort?e.sort():[e]),Zs(i)}:MI().includes(n)?function(...e){return n.apply(Wp(this),e),Zs(LT.get(this))}:function(...e){return Zs(n.apply(Wp(this),e))}}function BI(n){return typeof n=="function"?zI(n):(n instanceof IDBTransaction&&UI(n),VI(n,PI())?new Proxy(n,mg):n)}function Zs(n){if(n instanceof IDBRequest)return LI(n);if(Zp.has(n))return Zp.get(n);const e=BI(n);return e!==n&&(Zp.set(n,e),hy.set(e,n)),e}const Wp=n=>hy.get(n);function FI(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Zs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Zs(c.result),m.oldVersion,m.newVersion,Zs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const qI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Jp=new Map;function tE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=HI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||qI.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Jp.set(e,l),l}jI(n=>({...n,get:(e,t,i)=>tE(e,t)||n.get(e,t,i),has:(e,t)=>!!tE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function GI(n){const e=n.getComponent();return e?.type==="VERSION"}const pg="@firebase/app",nE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new fy("@firebase/app"),KI="@firebase/app-compat",YI="@firebase/analytics-compat",QI="@firebase/analytics",XI="@firebase/app-check-compat",ZI="@firebase/app-check",WI="@firebase/auth",JI="@firebase/auth-compat",eC="@firebase/database",tC="@firebase/data-connect",nC="@firebase/database-compat",rC="@firebase/functions",iC="@firebase/functions-compat",sC="@firebase/installations",aC="@firebase/installations-compat",oC="@firebase/messaging",lC="@firebase/messaging-compat",uC="@firebase/performance",cC="@firebase/performance-compat",fC="@firebase/remote-config",hC="@firebase/remote-config-compat",dC="@firebase/storage",mC="@firebase/storage-compat",pC="@firebase/firestore",gC="@firebase/ai",yC="@firebase/firestore-compat",_C="firebase",vC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",bC={[pg]:"fire-core",[KI]:"fire-core-compat",[QI]:"fire-analytics",[YI]:"fire-analytics-compat",[ZI]:"fire-app-check",[XI]:"fire-app-check-compat",[WI]:"fire-auth",[JI]:"fire-auth-compat",[eC]:"fire-rtdb",[tC]:"fire-data-connect",[nC]:"fire-rtdb-compat",[rC]:"fire-fn",[iC]:"fire-fn-compat",[sC]:"fire-iid",[aC]:"fire-iid-compat",[oC]:"fire-fcm",[lC]:"fire-fcm-compat",[uC]:"fire-perf",[cC]:"fire-perf-compat",[fC]:"fire-rc",[hC]:"fire-rc-compat",[dC]:"fire-gcs",[mC]:"fire-gcs-compat",[pC]:"fire-fst",[yC]:"fire-fst-compat",[gC]:"fire-vertex","fire-js":"fire-js",[_C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,EC=new Map,yg=new Map;function rE(n,e){try{n.container.addComponent(e)}catch(t){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function eo(n){const e=n.name;if(yg.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,n);for(const t of Lh.values())rE(t,n);for(const t of EC.values())rE(t,n);return!0}function gd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new xc("app","Firebase",TC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=vC;function jT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Ws.create("bad-app-name",{appName:String(a)});if(t||(t=VT()),!t)throw Ws.create("no-options");const l=Lh.get(a);if(l){if(Ja(t,l.options)&&Ja(i,l.config))return l;throw Ws.create("duplicate-app",{appName:a})}const c=new CI(a);for(const m of yg.values())c.addComponent(m);const d=new wC(t,i,c);return Lh.set(a,d),d}function dy(n=gg){const e=Lh.get(n);if(!e&&n===gg&&VT())return jT();if(!e)throw Ws.create("no-app",{appName:n});return e}function si(n,e,t){var i;let a=(i=bC[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}eo(new na(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",SC=1,fc="firebase-heartbeat-store";let eg=null;function zT(){return eg||(eg=FI(AC,SC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ws.create("idb-open",{originalErrorMessage:n.message})})),eg}async function RC(n){try{const t=(await zT()).transaction(fc),i=await t.objectStore(fc).get(BT(n));return await t.done,i}catch(e){if(e instanceof yi)ns.warn(e.message);else{const t=Ws.create("idb-get",{originalErrorMessage:e?.message});ns.warn(t.message)}}}async function iE(n,e){try{const i=(await zT()).transaction(fc,"readwrite");await i.objectStore(fc).put(e,BT(n)),await i.done}catch(t){if(t instanceof yi)ns.warn(t.message);else{const i=Ws.create("idb-set",{originalErrorMessage:t?.message});ns.warn(i.message)}}}function BT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1024,IC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>IC){const c=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ns.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sE(),{heartbeatsToSend:i,unsentEntries:a}=NC(this._heartbeatsCache.heartbeats),l=Mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function sE(){return new Date().toISOString().substring(0,10)}function NC(n,e=xC){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),aE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),aE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return iE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return iE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function aE(n){return Mh(JSON.stringify({version:2,heartbeats:n})).length}function DC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){eo(new na("platform-logger",e=>new $I(e),"PRIVATE")),eo(new na("heartbeat",e=>new CC(e),"PRIVATE")),si(pg,nE,n),si(pg,nE,"esm2017"),si("fire-js","")}kC("");function my(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VC=FT,qT=new xc("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new fy("@firebase/auth");function PC(n,...e){Uh.logLevel<=nt.WARN&&Uh.warn(`Auth (${lo}): ${n}`,...e)}function Ah(n,...e){Uh.logLevel<=nt.ERROR&&Uh.error(`Auth (${lo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(n,...e){throw py(n,...e)}function ai(n,...e){return py(n,...e)}function HT(n,e,t){const i=Object.assign(Object.assign({},VC()),{[e]:t});return new xc("auth","Firebase",i).create(e,{appName:n.name})}function Ji(n){return HT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function py(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return qT.create(n,...e)}function Le(n,e,...t){if(!n)throw py(e,...t)}function Xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ah(e),new Error(e)}function rs(n,e){n||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function MC(){return oE()==="http:"||oE()==="https:"}function oE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MC()||dI()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,rs(t>e,"Short delay should be less than long delay!"),this.isMobile=cI()||mI()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n,e){rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new Cc(3e4,6e4);function ma(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function pa(n,e,t,i,a={}){return GT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ic(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return hI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&da(n.emulatorConfig.host)&&(g.credentials="include"),$T.fetch()(await KT(n,n.config.apiHost,t,d),g)})}async function GT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jC),e);try{const a=new qC(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw dh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw dh(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw HT(n,_,g);kr(n,_)}}catch(a){if(a instanceof yi)throw a;kr(n,"network-request-failed",{message:String(a)})}}async function Nc(n,e,t,i,a={}){const l=await pa(n,e,t,i,a);return"mfaPendingCredential"in l&&kr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function KT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?gy(n.config,a):`${n.config.apiScheme}://${a}`;return zC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function FC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ai(this.auth,"network-request-failed")),BC.get())})}}function dh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ai(n,e,i);return a.customData._tokenResponse=t,a}function lE(n){return n!==void 0&&n.enterprise!==void 0}class HC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $C(n,e){return pa(n,"GET","/v2/recaptchaConfig",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e){return pa(n,"POST","/v1/accounts:delete",e)}async function jh(n,e){return pa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(n,e=!1){const t=Nt(n),i=await t.getIdToken(e),a=yy(i);Le(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:rc(tg(a.auth_time)),issuedAtTime:rc(tg(a.iat)),expirationTime:rc(tg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function tg(n){return Number(n)*1e3}function yy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const a=OT(t);return a?JSON.parse(a):(Ah("Failed to decode base64 JWT payload"),null)}catch(a){return Ah("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uE(n){const e=yy(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof yi&&YC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function YC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await hc(n,jh(t,{idToken:i}));Le(a?.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?YT(l.providerUserInfo):[],d=ZC(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!d?.length,_=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function XC(n){const e=Nt(n);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZC(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function YT(n){return n.map(e=>{var{providerId:t}=e,i=my(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e){const t=await GT(n,{},async()=>{const i=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await KT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return n.emulatorConfig&&da(n.emulatorConfig.host)&&(m.credentials="include"),$T.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JC(n,e){return pa(n,"POST","/v2/accounts:revokeToken",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=uE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await WC(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new ml;return i&&(Le(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Le(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=my(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await hc(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KC(this,e)}reload(){return XC(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await zh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await hc(this,GC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,m,g,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,U=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,B=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:ee,isAnonymous:ae,providerData:ve,stsTokenManager:C}=t;Le(G&&C,e,"internal-error");const S=ml.fromJSON(this.name,C);Le(typeof G=="string",e,"internal-error"),zs(E,e.name),zs(T,e.name),Le(typeof ee=="boolean",e,"internal-error"),Le(typeof ae=="boolean",e,"internal-error"),zs(k,e.name),zs(O,e.name),zs(j,e.name),zs(U,e.name),zs(q,e.name),zs(B,e.name);const R=new Or({uid:G,auth:e,email:T,emailVerified:ee,displayName:E,isAnonymous:ae,photoURL:O,phoneNumber:k,tenantId:j,stsTokenManager:S,createdAt:q,lastLoginAt:B});return ve&&Array.isArray(ve)&&(R.providerData=ve.map(N=>Object.assign({},N))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,t,i=!1){const a=new ml;a.updateFromServerResponse(t);const l=new Or({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await zh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Le(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?YT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new ml;d.updateFromIdToken(i);const m=new Or({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function Zi(n){rs(n instanceof Function,"Expected a class definition");let e=cE.get(n);return e?(rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QT.type="NONE";const fE=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n,e,t){return`firebase:${n}:${e}:${t}`}class pl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Sh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Sh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?Or._fromGetAccountInfoResponse(this.auth,t,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new pl(Zi(fE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Zi(fE);const c=Sh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const T=await jh(e,{idToken:_}).catch(()=>{});if(!T)break;E=await Or._fromGetAccountInfoResponse(e,T,_)}else E=Or._fromJSON(e,_);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new pl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new pl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tw(e))return"Blackberry";if(nw(e))return"Webos";if(ZT(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(ew(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function XT(n=Rn()){return/firefox\//i.test(n)}function ZT(n=Rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(n=Rn()){return/crios\//i.test(n)}function JT(n=Rn()){return/iemobile/i.test(n)}function ew(n=Rn()){return/android/i.test(n)}function tw(n=Rn()){return/blackberry/i.test(n)}function nw(n=Rn()){return/webos/i.test(n)}function _y(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eN(n=Rn()){var e;return _y(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tN(){return pI()&&document.documentMode===10}function rw(n=Rn()){return _y(n)||ew(n)||nw(n)||tw(n)||/windows phone/i.test(n)||JT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n,e=[]){let t;switch(n){case"Browser":t=hE(Rn());break;case"Worker":t=`${hE(Rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e={}){return pa(n,"GET","/v2/passwordPolicy",ma(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=6;class sN{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:iN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),i=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Ji(this));const t=e?Nt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rN(this),t=new sN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await JC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&PC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uo(n){return Nt(n)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wI(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(n){yd=n}function sw(n){return yd.loadJS(n)}function lN(){return yd.recaptchaEnterpriseScript}function uN(){return yd.gapiScript}function cN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fN{constructor(){this.enterprise=new hN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dN="recaptcha-enterprise",aw="NO_RECAPTCHA";class mN{constructor(e){this.type=dN,this.auth=uo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{$C(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new HC(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;lE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(aw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&lE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=lN();m.length!==0&&(m+=d),sw(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function mE(n,e,t,i=!1,a=!1){const l=new mN(n);let c;if(a)c=aw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await mE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n,e){const t=gd(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ja(l,e??{}))return a;kr(a,"already-initialized")}return t.initialize({options:e})}function gN(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function yN(n,e,t){const i=uo(n);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=ow(e),{host:c,port:d}=_N(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(Ja(g,i.config.emulator)&&Ja(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,da(c)?(uy(`${l}//${c}${m}`),cy("Auth",!0)):vN()}function ow(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _N(n){const e=ow(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:pE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:pE(c)}}}function pE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function bN(n,e){return pa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e){return Nc(n,"POST","/v1/accounts:signInWithPassword",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e){return Nc(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,e))}async function wN(n,e){return Nc(n,"POST","/v1/accounts:signInWithEmailLink",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends vy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new dc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new dc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,t,"signInWithPassword",EN);case"emailLink":return TN(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,i,"signUpPassword",bN);case"emailLink":return wN(e,{idToken:t,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n,e){return Nc(n,"POST","/v1/accounts:signInWithIdp",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class to extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=my(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new to(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return gl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,gl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gl(e,t)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ic(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RN(n){const e=Qu(Xu(n)).link,t=e?Qu(Xu(e)).deep_link_id:null,i=Qu(Xu(n)).deep_link_id;return(i?Qu(Xu(i)).link:null)||i||t||e||n}class by{constructor(e){var t,i,a,l,c,d;const m=Qu(Xu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(i=m.oobCode)!==null&&i!==void 0?i:null,E=SN((a=m.mode)!==null&&a!==void 0?a:null);Le(g&&_&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=RN(e);try{return new by(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,t){return dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=by.parseLink(t);return Le(i,"argument-error"),dc._fromEmailAndCode(e,i.code,i.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Oc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Hs.credential(t,i)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Oc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Oc{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){return Nc(n,"POST","/v1/accounts:signUp",ma(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Or._fromIdTokenResponse(e,i,a),c=gE(i);return new no({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=gE(i);return new no({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function gE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends yi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Bh(e,t,i,a)}}function uw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(n,l,e,i):l})}async function IN(n,e,t=!1){const i=await hc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return no._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e,t=!1){const{auth:i}=n;if(Wn(i.app))return Promise.reject(Ji(i));const a="reauthenticate";try{const l=await hc(n,uw(i,a,e,n),t);Le(l.idToken,i,"internal-error");const c=yy(l.idToken);Le(c,i,"internal-error");const{sub:d}=c;return Le(n.uid===d,i,"user-mismatch"),no._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&kr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(n,e,t=!1){if(Wn(n.app))return Promise.reject(Ji(n));const i="signIn",a=await uw(n,i,e),l=await no._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function NN(n,e){return cw(uo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(n){const e=uo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ON(n,e,t){if(Wn(n.app))return Promise.reject(Ji(n));const i=uo(n),c=await bg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&fw(n),m}),d=await no._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function DN(n,e,t){return Wn(n.app)?Promise.reject(Ji(n)):NN(Nt(n),kl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fw(n),i})}function kN(n,e,t,i){return Nt(n).onIdTokenChanged(e,t,i)}function VN(n,e,t){return Nt(n).beforeAuthStateChanged(e,t)}function PN(n,e,t,i){return Nt(n).onAuthStateChanged(e,t,i)}function MN(n){return Nt(n).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,UN=10;class dw extends hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);tN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,UN):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dw.type="LOCAL";const jN=dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mw.type="SESSION";const pw=mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new _d(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await zN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Ey("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function FN(n){oi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function qN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HN(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function $N(){return gw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebaseLocalStorageDb",GN=1,qh="firebaseLocalStorage",_w="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vd(n,e){return n.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function KN(){const n=indexedDB.deleteDatabase(yw);return new Dc(n).toPromise()}function Eg(){const n=indexedDB.open(yw,GN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(qh,{keyPath:_w})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(qh)?e(i):(i.close(),await KN(),e(await Eg()))})})}async function yE(n,e,t){const i=vd(n,!0).put({[_w]:e,value:t});return new Dc(i).toPromise()}async function YN(n,e){const t=vd(n,!1).get(e),i=await new Dc(t).toPromise();return i===void 0?null:i.value}function _E(n,e){const t=vd(n,!0).delete(e);return new Dc(t).toPromise()}const QN=800,XN=3;class vw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>XN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_d._getInstance($N()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await qN(),!this.activeServiceWorker)return;this.sender=new BN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await yE(e,Fh,"1"),await _E(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>yE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>YN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_E(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=vd(a,!1).getAll();return new Dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vw.type="LOCAL";const ZN=vw;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e){return e?Zi(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JN(n){return cw(n.auth,new Ty(n),n.bypassAuthState)}function e4(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),CN(t,new Ty(n),n.bypassAuthState)}async function t4(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),IN(t,new Ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JN;case"linkViaPopup":case"linkViaRedirect":return t4;case"reauthViaPopup":case"reauthViaRedirect":return e4;default:kr(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Cc(2e3,1e4);class hl extends bw{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n4.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="pendingRedirect",Rh=new Map;class i4 extends bw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const i=await s4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s4(n,e){const t=l4(e),i=o4(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function a4(n,e){Rh.set(n._key(),e)}function o4(n){return Zi(n._redirectPersistence)}function l4(n){return Sh(r4,n.config.apiKey,n.name)}async function u4(n,e,t=!1){if(Wn(n.app))return Promise.reject(Ji(n));const i=uo(n),a=WN(i,e),c=await new i4(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=10*60*1e3;class f4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ew(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ai(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c4&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ew({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function h4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ew(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(n,e={}){return pa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p4=/^https?/;async function g4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await d4(n);for(const t of e)try{if(y4(t))return}catch{}kr(n,"unauthorized-domain")}function y4(n){const e=_g(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!p4.test(t))return!1;if(m4.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Cc(3e4,6e4);function bE(){const n=oi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function v4(n){return new Promise((e,t)=>{var i,a,l;function c(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),t(ai(n,"network-request-failed"))},timeout:_4.get()})}if(!((a=(i=oi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=oi().gapi)===null||l===void 0)&&l.load)c();else{const d=cN("iframefcb");return oi()[d]=()=>{gapi.load?c():t(ai(n,"network-request-failed"))},sw(`${uN()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw xh=null,e})}let xh=null;function b4(n){return xh=xh||v4(n),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Cc(5e3,15e3),T4="__/auth/iframe",w4="emulator/auth/iframe",A4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R4(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gy(e,w4):`https://${n.config.authDomain}/${T4}`,i={apiKey:e.apiKey,appName:n.name,v:lo},a=S4.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ic(i).slice(1)}`}async function x4(n){const e=await b4(n),t=oi().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:R4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A4,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ai(n,"network-request-failed"),d=oi().setTimeout(()=>{l(c)},E4.get());function m(){oi().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C4=500,N4=600,O4="_blank",D4="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k4(n,e,t,i=C4,a=N4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},I4),{width:i.toString(),height:a.toString(),top:l,left:c}),g=Rn().toLowerCase();t&&(d=WT(g)?O4:t),XT(g)&&(e=e||D4,m.scrollbars="yes");const _=Object.entries(m).reduce((T,[k,O])=>`${T}${k}=${O},`,"");if(eN(g)&&d!=="_self")return V4(e||"",d),new EE(null);const E=window.open(e||"",d,_);Le(E,n,"popup-blocked");try{E.focus()}catch{}return new EE(E)}function V4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="__/auth/handler",M4="emulator/auth/handler",L4=encodeURIComponent("fac");async function TE(n,e,t,i,a,l){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:lo,eventId:a};if(e instanceof lw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",TI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Oc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${L4}=${encodeURIComponent(m)}`:"";return`${U4(n)}?${Ic(d).slice(1)}${g}`}function U4({config:n}){return n.emulator?gy(n,M4):`https://${n.authDomain}/${P4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class j4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pw,this._completeRedirectFn=u4,this._overrideRedirectResult=a4}async _openPopup(e,t,i,a){var l;rs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await TE(e,t,i,_g(),a);return k4(e,c,Ey())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await TE(e,t,i,_g(),a);return FN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(rs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await x4(e),i=new f4(e);return t.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ng,{type:ng},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[ng];c!==void 0&&t(!!c),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=g4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rw()||ZT()||_y()}}const z4=j4;var wE="@firebase/auth",AE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q4(n){eo(new na("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(n)},g=new aN(i,a,l,m);return gN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),eo(new na("auth-internal",e=>{const t=uo(e.getProvider("auth").getImmediate());return(i=>new B4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(wE,AE,F4(n)),si(wE,AE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=5*60,$4=PT("authIdTokenMaxAge")||H4;let SE=null;const G4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>$4)return;const a=t?.token;SE!==a&&(SE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function K4(n=dy()){const e=gd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=pN(n,{popupRedirectResolver:z4,persistence:[ZN,jN,pw]}),i=PT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=G4(l.toString());VN(t,c,()=>c(t.currentUser)),kN(t,d=>c(d))}}const a=DT("auth");return a&&yN(t,`http://${a}`),t}function Y4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}oN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ai("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Y4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q4("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Q4(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(_){try{g(i.next(_))}catch(E){c(E)}}function m(_){try{g(i.throw(_))}catch(E){c(E)}}function g(_){_.done?l(_.value):a(_.value).then(d,m)}g((i=i.apply(n,[])).next())})}function X4(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(g){return function(_){return m([g,_])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(_){g=[6,_],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dl=function(){return dl=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},dl.apply(this,arguments)},Tw=function(n){return{loading:n==null,value:n}},Z4=function(){return function(n,e){switch(e.type){case"error":return dl(dl({},n),{error:e.error,loading:!1,value:void 0});case"reset":return Tw(e.defaultValue);case"value":return dl(dl({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},W4=function(n){var e=n?n():void 0,t=F.useReducer(Z4(),Tw(e)),i=t[0],a=t[1],l=F.useCallback(function(){var m=n?n():void 0;a({type:"reset",defaultValue:m})},[n]),c=F.useCallback(function(m){a({type:"error",error:m})},[]),d=F.useCallback(function(m){a({type:"value",value:m})},[]);return F.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])},co=function(n,e){var t=W4(function(){return n.currentUser}),i=t.error,a=t.loading,l=t.setError,c=t.setValue,d=t.value;return F.useEffect(function(){var m=PN(n,function(g){return Q4(void 0,void 0,void 0,function(){var _;return X4(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),l(_),[3,4];case 4:return c(g),[2]}})})},l);return function(){m()}},[n]),[d,a,i]},J4="firebase",eO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(J4,eO,"app");var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,ww;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(N,M,P){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return S.prototype[M].apply(N,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],M=C.g[2];var P=C.g[3],I=S+(P^R&(M^P))+N[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+N[1]+3905402710&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+N[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+N[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(P^R&(M^P))+N[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+N[5]+1200080426&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+N[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+N[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(P^R&(M^P))+N[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+N[9]+2336552879&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+N[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+N[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(P^R&(M^P))+N[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=P+(M^S&(R^M))+N[13]+4254626195&4294967295,P=S+(I<<12&4294967295|I>>>20),I=M+(R^P&(S^R))+N[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=R+(S^M&(P^S))+N[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(M^P&(R^M))+N[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+N[6]+3225465664&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+N[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+N[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(R^M))+N[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+N[10]+38016083&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+N[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+N[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(R^M))+N[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+N[14]+3275163606&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+N[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+N[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^P&(R^M))+N[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=P+(R^M&(S^R))+N[2]+4243563512&4294967295,P=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(P^S))+N[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=R+(P^S&(M^P))+N[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(R^M^P)+N[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+N[8]+2272392833&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+N[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+N[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^P)+N[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+N[4]+1272893353&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+N[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+N[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^P)+N[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+N[0]+3936430074&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+N[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+N[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^P)+N[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=P+(S^R^M)+N[12]+3873151461&4294967295,P=S+(I<<11&4294967295|I>>>21),I=M+(P^S^R)+N[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=R+(M^P^S)+N[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(M^(R|~P))+N[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+N[7]+1126891415&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+N[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+N[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~P))+N[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+N[3]+2399980690&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+N[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+N[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~P))+N[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+N[15]+4264355552&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+N[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+N[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~P))+N[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=P+(R^(S|~M))+N[11]+3174756917&4294967295,P=S+(I<<10&4294967295|I>>>22),I=M+(S^(P|~R))+N[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=R+(P^(M|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+P&4294967295}i.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,N=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=R;)a(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<S;)if(N[M++]=C.charCodeAt(P++),M==this.blockSize){a(this,N),M=0;break}}else for(;P<S;)if(N[M++]=C[P++],M==this.blockSize){a(this,N),M=0;break}}this.h=M,this.o+=S},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)C[R++]=this.g[S]>>>N&255;return C};function l(C,S){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function c(C,S){this.h=S;for(var R=[],N=!0,M=C.length-1;0<=M;M--){var P=C[M]|0;N&&P==S||(R[M]=P,N=!1)}this.g=R}var d={};function m(C){return-128<=C&&128>C?l(C,function(S){return new c([S|0],0>S?-1:0)}):new c([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(0>C)return U(g(-C));for(var S=[],R=1,N=0;C>=R;N++)S[N]=C/R|0,R*=4294967296;return new c(S,0)}function _(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return U(_(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),N=E,M=0;M<C.length;M+=8){var P=Math.min(8,C.length-M),I=parseInt(C.substring(M,M+P),S);8>P?(P=g(Math.pow(S,P)),N=N.j(P).add(g(I))):(N=N.j(R),N=N.add(g(I)))}return N}var E=m(0),T=m(1),k=m(16777216);n=c.prototype,n.m=function(){if(j(this))return-U(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);C+=(0<=N?N:4294967296+N)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(j(this))return"-"+U(this).toString(C);for(var S=g(Math.pow(C,6)),R=this,N="";;){var M=ee(R,S).g;R=q(R,M.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=M,O(R))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function j(C){return C.h==-1}n.l=function(C){return C=q(this,C),j(C)?-1:O(C)?0:1};function U(C){for(var S=C.g.length,R=[],N=0;N<S;N++)R[N]=~C.g[N];return new c(R,~C.h).add(T)}n.abs=function(){return j(this)?U(this):this},n.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0,M=0;M<=S;M++){var P=N+(this.i(M)&65535)+(C.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);N=I>>>16,P&=65535,I&=65535,R[M]=I<<16|P}return new c(R,R[R.length-1]&-2147483648?-1:0)};function q(C,S){return C.add(U(S))}n.j=function(C){if(O(this)||O(C))return E;if(j(this))return j(C)?U(this).j(U(C)):U(U(this).j(C));if(j(C))return U(this.j(U(C)));if(0>this.l(k)&&0>C.l(k))return g(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<C.g.length;M++){var P=this.i(N)>>>16,I=this.i(N)&65535,Ve=C.i(M)>>>16,ze=C.i(M)&65535;R[2*N+2*M]+=I*ze,B(R,2*N+2*M),R[2*N+2*M+1]+=P*ze,B(R,2*N+2*M+1),R[2*N+2*M+1]+=I*Ve,B(R,2*N+2*M+1),R[2*N+2*M+2]+=P*Ve,B(R,2*N+2*M+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new c(R,0)};function B(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function G(C,S){this.g=C,this.h=S}function ee(C,S){if(O(S))throw Error("division by zero");if(O(C))return new G(E,E);if(j(C))return S=ee(U(C),S),new G(U(S.g),U(S.h));if(j(S))return S=ee(C,U(S)),new G(U(S.g),S.h);if(30<C.g.length){if(j(C)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,N=S;0>=N.l(C);)R=ae(R),N=ae(N);var M=ve(R,1),P=ve(N,1);for(N=ve(N,2),R=ve(R,2);!O(N);){var I=P.add(N);0>=I.l(C)&&(M=M.add(R),P=I),N=ve(N,1),R=ve(R,1)}return S=q(C,M.j(S)),new G(M,S)}for(M=E;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=g(R),I=P.j(S);j(I)||0<I.l(C);)R-=N,P=g(R),I=P.j(S);O(P)&&(P=T),M=M.add(P),C=q(C,I)}return new G(M,C)}n.A=function(C){return ee(this,C).h},n.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&C.i(N);return new c(R,this.h&C.h)},n.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|C.i(N);return new c(R,this.h|C.h)},n.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^C.i(N);return new c(R,this.h^C.h)};function ae(C){for(var S=C.g.length+1,R=[],N=0;N<S;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new c(R,C.h)}function ve(C,S){var R=S>>5;S%=32;for(var N=C.g.length-R,M=[],P=0;P<N;P++)M[P]=0<S?C.i(P+R)>>>S|C.i(P+R+1)<<32-S:C.i(P+R);return new c(M,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ww=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Js=c}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aw,Zu,Sw,Ih,Tg,Rw,xw,Iw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,v){return f==Array.prototype||f==Object.prototype||(f[y]=v.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<f.length;++y){var v=f[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var v=i;f=f.split(".");for(var A=0;A<f.length-1;A++){var K=f[A];if(!(K in v))break e;v=v[K]}f=f[f.length-1],A=v[f],y=y(A),y!=A&&y!=null&&e(v,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var v=0,A=!1,K={next:function(){if(!A&&v<f.length){var J=v++;return{value:y(J,f[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,v){return f.call.apply(f.bind,arguments)}function E(f,y,v){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,A),f.apply(y,K)}}return function(){return f.apply(y,arguments)}}function T(f,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function k(f,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function O(f,y){function v(){}v.prototype=y.prototype,f.aa=y.prototype,f.prototype=new v,f.prototype.constructor=f,f.Qb=function(A,K,J){for(var me=Array(arguments.length-2),it=2;it<arguments.length;it++)me[it-2]=arguments[it];return y.prototype[K].apply(A,me)}}function j(f){const y=f.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=f[A];return v}return[]}function U(f,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(m(A)){const K=f.length||0,J=A.length||0;f.length=K+J;for(let me=0;me<J;me++)f[K+me]=A[me]}else f.push(A)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function ee(f){return ee[" "](f),f}ee[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ve(f,y,v){for(const A in f)y.call(v,f[A],A,f)}function C(f,y){for(const v in f)y.call(void 0,f[v],v,f)}function S(f){const y={};for(const v in f)y[v]=f[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let v,A;for(let K=1;K<arguments.length;K++){A=arguments[K];for(v in A)f[v]=A[v];for(let J=0;J<R.length;J++)v=R[J],Object.prototype.hasOwnProperty.call(A,v)&&(f[v]=A[v])}}function M(f){var y=1;f=f.split(":");const v=[];for(;0<y&&f.length;)v.push(f.shift()),y--;return f.length&&v.push(f.join(":")),v}function P(f){d.setTimeout(()=>{throw f},0)}function I(){var f=Pe;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,v){const A=ze.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ze=new q(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,fe=!1,Pe=new Ve,V=()=>{const f=d.Promise.resolve(void 0);ue=()=>{f.then(ie)}};var ie=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(v){P(v)}var y=ze;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}fe=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return f}();function Ae(f,y){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var v=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ae){e:{try{ee(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else v=="mouseover"?y=f.fromElement:v=="mouseout"&&(y=f.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ae.aa.h.call(this)}}O(Ae,ce);var Ie={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Vn(f,y,v,A,K){this.listener=f,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=K,this.key=++Fe,this.da=this.fa=!1}function nr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Er(f){this.src=f,this.g={},this.h=0}Er.prototype.add=function(f,y,v,A,K){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var me=_i(f,y,A,K);return-1<me?(y=f[me],v||(y.fa=!1)):(y=new Vn(y,this.src,J,!!A,K),y.fa=v,f.push(y)),y};function Lr(f,y){var v=y.type;if(v in f.g){var A=f.g[v],K=Array.prototype.indexOf.call(A,y,void 0),J;(J=0<=K)&&Array.prototype.splice.call(A,K,1),J&&(nr(y),f.g[v].length==0&&(delete f.g[v],f.h--))}}function _i(f,y,v,A){for(var K=0;K<f.length;++K){var J=f[K];if(!J.da&&J.listener==y&&J.capture==!!v&&J.ha==A)return K}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),us={};function go(f,y,v,A,K){if(Array.isArray(y)){for(var J=0;J<y.length;J++)go(f,y[J],v,A,K);return null}return v=he(v),f&&f[ft]?f.K(y,v,g(A)?!!A.capture:!1,K):Pn(f,y,v,!1,A,K)}function Pn(f,y,v,A,K,J){if(!y)throw Error("Invalid event type");var me=g(K)?!!K.capture:!!K,it=be(f);if(it||(f[Ur]=it=new Er(f)),v=it.add(y,v,A,me,J),v.proxy)return v;if(A=qc(),v.proxy=A,A.src=f,A.listener=v,f.addEventListener)Ne||(K=me),K===void 0&&(K=!1),f.addEventListener(y.toString(),A,K);else if(f.attachEvent)f.attachEvent(X(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qc(){function f(v){return y.call(f.src,f.listener,v)}const y=ne;return f}function cs(f,y,v,A,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)cs(f,y[J],v,A,K);else A=g(A)?!!A.capture:!!A,v=he(v),f&&f[ft]?(f=f.i,y=String(y).toString(),y in f.g&&(J=f.g[y],v=_i(J,v,A,K),-1<v&&(nr(J[v]),Array.prototype.splice.call(J,v,1),J.length==0&&(delete f.g[y],f.h--)))):f&&(f=be(f))&&(y=f.g[y.toString()],f=-1,y&&(f=_i(y,v,A,K)),(v=-1<f?y[f]:null)&&L(v))}function L(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[ft])Lr(y.i,f);else{var v=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(v,A,f.capture):y.detachEvent?y.detachEvent(X(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=be(y))?(Lr(v,f),v.h==0&&(v.src=null,y[Ur]=null)):nr(f)}}}function X(f){return f in us?us[f]:us[f]="on"+f}function ne(f,y){if(f.da)f=!0;else{y=new Ae(y,this);var v=f.listener,A=f.ha||f.src;f.fa&&L(f),f=v.call(A,y)}return f}function be(f){return f=f[Ur],f instanceof Er?f:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(f){return typeof f=="function"?f:(f[ge]||(f[ge]=function(y){return f.handleEvent(y)}),f[ge])}function ye(){pe.call(this),this.i=new Er(this),this.M=this,this.F=null}O(ye,pe),ye.prototype[ft]=!0,ye.prototype.removeEventListener=function(f,y,v,A){cs(this,f,y,v,A)};function Re(f,y){var v,A=f.F;if(A)for(v=[];A;A=A.F)v.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new ce(y,f);else if(y instanceof ce)y.target=y.target||f;else{var K=y;y=new ce(A,f),N(y,K)}if(K=!0,v)for(var J=v.length-1;0<=J;J--){var me=y.g=v[J];K=Ye(me,A,!0,y)&&K}if(me=y.g=f,K=Ye(me,A,!0,y)&&K,K=Ye(me,A,!1,y)&&K,v)for(J=0;J<v.length;J++)me=y.g=v[J],K=Ye(me,A,!1,y)&&K}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var v=f.g[y],A=0;A<v.length;A++)nr(v[A]);delete f.g[y],f.h--}}this.F=null},ye.prototype.K=function(f,y,v,A){return this.i.add(String(f),y,!1,v,A)},ye.prototype.L=function(f,y,v,A){return this.i.add(String(f),y,!0,v,A)};function Ye(f,y,v,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,J=0;J<y.length;++J){var me=y[J];if(me&&!me.da&&me.capture==v){var it=me.listener,en=me.ha||me.src;me.fa&&Lr(f.i,me),K=it.call(en,A)!==!1&&K}}return K&&!A.defaultPrevented}function pt(f,y,v){if(typeof f=="function")v&&(f=T(f,v));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function vi(f){f.g=pt(()=>{f.g=null,f.i&&(f.i=!1,vi(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class rr extends pe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(f){pe.call(this),this.h=f,this.g={}}O(bi,pe);var Tr=[];function wr(f){ve(f.g,function(y,v){this.g.hasOwnProperty(v)&&L(y)},f),f.g={}}bi.prototype.N=function(){bi.aa.N.call(this),wr(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=d.JSON.stringify,Ei=d.JSON.parse,Ti=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function fs(){}fs.prototype.h=null;function Ul(f){return f.h||(f.h=f.i())}function jl(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ce.call(this,"d")}O(Ai,ce);function zl(){ce.call(this,"c")}O(zl,ce);var jr={},Bl=null;function hs(){return Bl=Bl||new ye}jr.La="serverreachability";function yo(f){ce.call(this,jr.La,f)}O(yo,ce);function ds(f){const y=hs();Re(y,new yo(y))}jr.STAT_EVENT="statevent";function Hc(f,y){ce.call(this,jr.STAT_EVENT,f),this.stat=y}O(Hc,ce);function xt(f){const y=hs();Re(y,new Hc(y,f))}jr.Ma="timingevent";function Jt(f,y){ce.call(this,jr.Ma,f),this.size=y}O(Jt,ce);function Ht(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function Fl(f,y,v,A,K,J){f.info(function(){if(f.g)if(J)for(var me="",it=J.split("&"),en=0;en<it.length;en++){var st=it[en].split("=");if(1<st.length){var on=st[0];st=st[1];var tn=on.split("_");me=2<=tn.length&&tn[1]=="type"?me+(on+"="+st+"&"):me+(on+"=redacted&")}}else me=null;else me=J;return"XMLHTTP REQ ("+A+") [attempt "+K+"]: "+y+`
`+v+`
`+me})}function $d(f,y,v,A,K,J,me){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+K+"]: "+y+`
`+v+`
`+J+" "+me})}function ms(f,y,v,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+_a(f,v)+(A?" "+A:"")})}function $c(f,y){f.info(function(){return"TIMEOUT: "+y})}ir.prototype.info=function(){};function _a(f,y){if(!f.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(f=0;f<v.length;f++)if(Array.isArray(v[f])){var A=v[f];if(!(2>A.length)){var K=A[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return Fn(v)}catch{return y}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zr;function Br(){}O(Br,fs),Br.prototype.g=function(){return new XMLHttpRequest},Br.prototype.i=function(){return{}},zr=new Br;function xn(f,y,v,A){this.j=f,this.i=y,this.l=v,this.R=A||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var ql={},_o={};function Ar(f,y,v){f.L=1,f.v=wa(qn(y)),f.m=v,f.P=!0,Ri(f,null)}function Ri(f,y){f.F=Date.now(),va(f),f.A=qn(f.v);var v=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),Ql(v.i,"t",A),f.C=0,v=f.j.J,f.h=new Lt,f.g=lf(f.j,v?y:null,!f.m),0<f.O&&(f.M=new rr(T(f.Y,f,f.g),f.O)),y=f.U,v=f.g,A=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Tr[0]=K.toString()),K=Tr);for(var J=0;J<K.length;J++){var me=go(v,K[J],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ds(),Fl(f.i,f.u,f.A,f.l,f.R,f.m)}xn.prototype.ca=function(f){f=f.target;const y=this.M;y&&lr(f)==3?y.j():this.Y(f)},xn.prototype.Y=function(f){try{if(f==this.g)e:{const tn=lr(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||tn!=4||y==7||(y==8||0>=Vi?ds(3):ds(2)),gs(this);var v=this.g.Z();this.X=v;t:if(Gc(this)){var A=Jc(this.g);f="";var K=A.length,J=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Fr(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,f+=this.h.i.decode(A[y],{stream:!(J&&y==K-1)});A.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=v==200,$d(this.i,this.u,this.A,this.l,this.R,tn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var it,en=this.g;if((it=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(it)){var st=it;break t}}st=null}if(v=st)ms(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ba(this,v);else{this.o=!1,this.s=3,xt(12),hn(this),Fr(this);break e}}if(this.P){v=!0;let dn;for(;!this.J&&this.C<me.length;)if(dn=Kc(this,me),dn==_o){tn==4&&(this.s=4,xt(14),v=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==ql){this.s=4,xt(15),ms(this.i,this.l,me,"[Invalid Chunk]"),v=!1;break}else ms(this.i,this.l,dn,null),ba(this,dn);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||me.length!=0||this.h.h||(this.s=1,xt(16),v=!1),this.o=this.o&&v,!v)ms(this.i,this.l,me,"[Invalid Chunked Response]"),hn(this),Fr(this);else if(0<me.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Oa(on),on.M=!0,xt(11))}}else ms(this.i,this.l,me,null),ba(this,me);tn==4&&hn(this),this.o&&!this.J&&(tn==4?sf(this.j,this):(this.o=!1,va(this)))}else Xd(this.g),v==400&&0<me.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),hn(this),Fr(this)}}}catch{}finally{}};function Gc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Kc(f,y){var v=f.C,A=y.indexOf(`
`,v);return A==-1?_o:(v=Number(y.substring(v,A)),isNaN(v)?ql:(A+=1,A+v>y.length?_o:(y=y.slice(A,A+v),f.C=A+v,y)))}xn.prototype.cancel=function(){this.J=!0,hn(this)};function va(f){f.S=Date.now()+f.I,Yc(f,f.I)}function Yc(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ht(T(f.ba,f),y)}function gs(f){f.B&&(d.clearTimeout(f.B),f.B=null)}xn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?($c(this.i,this.A),this.L!=2&&(ds(),xt(17)),hn(this),this.s=2,Fr(this)):Yc(this,this.S-f)};function Fr(f){f.j.G==0||f.J||sf(f.j,f)}function hn(f){gs(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,wr(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function ba(f,y){try{var v=f.j;if(v.G!=0&&(v.g==f||Hl(v.h,f))){if(!f.K&&Hl(v.h,f)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var K=A;if(K[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<f.F)No(v),Io(v);else break e;eu(v),xt(18)}}else v.za=K[1],0<v.za-v.T&&37500>K[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ht(T(v.Za,v),6e3));if(1>=bo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ki(v,11)}else if((f.K||v.g==f)&&No(v),!B(y))for(K=v.Da.g.parse(y),y=0;y<K.length;y++){let st=K[y];if(v.T=st[0],st=st[1],v.G==2)if(st[0]=="c"){v.K=st[1],v.ia=st[2];const on=st[3];on!=null&&(v.la=on,v.j.info("VER="+v.la));const tn=st[4];tn!=null&&(v.Aa=tn,v.j.info("SVER="+v.Aa));const Vi=st[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const dn=f.g;if(dn){const Qr=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var J=A.h;J.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Eo(J,J.h),J.h=null))}if(A.D){const nu=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;nu&&(A.ya=nu,_t(A.I,A.D,nu))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-f.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var me=f;if(A.qa=of(A,A.J?A.ia:null,A.W),me.K){In(A.h,me);var it=me,en=A.L;en&&(it.I=en),it.B&&(gs(it),va(it)),A.g=me}else nf(A);0<v.i.length&&Co(v)}else st[0]!="stop"&&st[0]!="close"||ki(v,7);else v.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?ki(v,7):Wl(v):st[0]!="noop"&&v.l&&v.l.ta(st),v.v=0)}}ds(4)}catch{}}var Qc=class{constructor(f,y){this.g=f,this.map=y}};function xi(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bo(f){return f.h?1:f.g?f.g.size:0}function Hl(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Eo(f,y){f.g?f.g.add(y):f.h=y}function In(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}xi.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $l(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const v of f.g.values())y=y.concat(v.D);return y}return j(f.i)}function Gd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],v=f.length,A=0;A<v;A++)y.push(f[A]);return y}y=[],v=0;for(A in f)y[v++]=f[A];return y}function To(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var v=0;v<f;v++)y.push(v);return y}y=[],v=0;for(const A in f)y[v++]=A;return y}}}function Gl(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var v=To(f),A=Gd(f),K=A.length,J=0;J<K;J++)y.call(void 0,A[J],v&&v[J],f)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kd(f,y){if(f){f=f.split("&");for(var v=0;v<f.length;v++){var A=f[v].indexOf("="),K=null;if(0<=A){var J=f[v].substring(0,A);K=f[v].substring(A+1)}else J=f[v];y(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $t(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof $t){this.h=f.h,Ta(this,f.j),this.o=f.o,this.g=f.g,ys(this,f.s),this.l=f.l;var y=f.i,v=new Ci;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ii(this,v),this.m=f.m}else f&&(y=String(f).match(Ea))?(this.h=!1,Ta(this,y[1]||"",!0),this.o=sr(y[2]||""),this.g=sr(y[3]||"",!0),ys(this,y[4]),this.l=sr(y[5]||"",!0),Ii(this,y[6]||"",!0),this.m=sr(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}$t.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Aa(y,Kl,!0),":");var v=this.g;return(v||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Aa(y,Kl,!0),"@"),f.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&f.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Aa(v,v.charAt(0)=="/"?Yd:Yl,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Aa(v,wo)),f.join("")};function qn(f){return new $t(f)}function Ta(f,y,v){f.j=v?sr(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ys(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Ii(f,y,v){y instanceof Ci?(f.i=y,Zc(f.i,f.h)):(v||(y=Aa(y,Qd)),f.i=new Ci(y,f.h))}function _t(f,y,v){f.i.set(y,v)}function wa(f){return _t(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function sr(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Aa(f,y,v){return typeof f=="string"?(f=encodeURI(f).replace(y,Xc),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Xc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Kl=/[#\/\?@]/g,Yl=/[#\?:]/g,Yd=/[#\?]/g,Qd=/[#\?@]/g,wo=/#/g;function Ci(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function ar(f){f.g||(f.g=new Map,f.h=0,f.i&&Kd(f.i,function(y,v){f.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Ci.prototype,n.add=function(f,y){ar(this),this.i=null,f=qr(this,f);var v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(y),this.h+=1,this};function Ni(f,y){ar(f),y=qr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Oi(f,y){return ar(f),y=qr(f,y),f.g.has(y)}n.forEach=function(f,y){ar(this),this.g.forEach(function(v,A){v.forEach(function(K){f.call(y,K,A,this)},this)},this)},n.na=function(){ar(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const K=f[A];for(let J=0;J<K.length;J++)v.push(y[A])}return v},n.V=function(f){ar(this);let y=[];if(typeof f=="string")Oi(this,f)&&(y=y.concat(this.g.get(qr(this,f))));else{f=Array.from(this.g.values());for(let v=0;v<f.length;v++)y=y.concat(f[v])}return y},n.set=function(f,y){return ar(this),this.i=null,f=qr(this,f),Oi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Ql(f,y,v){Ni(f,y),0<v.length&&(f.i=null,f.g.set(qr(f,y),j(v)),f.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const J=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var K=J;me[A]!==""&&(K+="="+encodeURIComponent(String(me[A]))),f.push(K)}}return this.i=f.join("&")};function qr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Zc(f,y){y&&!f.j&&(ar(f),f.i=null,f.g.forEach(function(v,A){var K=A.toLowerCase();A!=K&&(Ni(this,A),Ql(this,K,v))},f)),f.j=y}function Sa(f,y){const v=new ir;if(d.Image){const A=new Image;A.onload=k(or,v,"TestLoadImage: loaded",!0,y,A),A.onerror=k(or,v,"TestLoadImage: error",!1,y,A),A.onabort=k(or,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(or,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function Sr(f,y){const v=new ir,A=new AbortController,K=setTimeout(()=>{A.abort(),or(v,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(J=>{clearTimeout(K),J.ok?or(v,"TestPingServer: ok",!0,y):or(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),or(v,"TestPingServer: error",!1,y)})}function or(f,y,v,A,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),A(v)}catch{}}function Ra(){this.g=new Ti}function Hr(f,y,v){const A=v||"";try{Gl(f,function(K,J){let me=K;g(K)&&(me=Fn(K)),y.push(A+J+"="+encodeURIComponent(me))})}catch(K){throw y.push(A+"type="+encodeURIComponent("_badmap")),K}}function _s(f){this.l=f.Ub||null,this.j=f.eb||!1}O(_s,fs),_s.prototype.g=function(){return new Di(this.l,this.j)},_s.prototype.i=function(f){return function(){return f}}({});function Di(f,y){ye.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Di,ye),n=Di.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Gr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?$r(this):Gr(this),this.readyState==3&&Xl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,$r(this))},n.Qa=function(f){this.g&&(this.response=f,$r(this))},n.ga=function(){this.g&&$r(this)};function $r(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=y.next();return f.join(`\r
`)};function Gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zl(f){let y="";return ve(f,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function an(f,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Zl(v),typeof f=="string"?v!=null&&encodeURIComponent(String(v)):_t(f,y,v))}function dt(f){ye.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(dt,ye);var Ao=/^https?$/i,xa=["POST","PUT"];n=dt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zr.g(),this.v=this.o?Ul(this.o):Ul(zr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){Wc(this,J);return}if(f=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var K in A)v.set(K,A[K]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())v.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),K=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(xa,y,void 0))||A||K||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of v)this.g.setRequestHeader(J,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Wc(this,J)}};function Wc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,So(f),Kr(f)}function So(f){f.A||(f.A=!0,Re(f,"complete"),Re(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Re(this,"complete"),Re(this,"abort"),Kr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},n.bb=function(){Ro(this)};function Ro(f){if(f.h&&typeof c<"u"&&(!f.v[1]||lr(f)!=4||f.Z()!=2)){if(f.u&&lr(f)==4)pt(f.Ea,0,f);else if(Re(f,"readystatechange"),lr(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=me===0){var K=String(f.D).match(Ea)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),A=!Ao.test(K?K.toLowerCase():"")}v=A}if(v)Re(f,"complete"),Re(f,"success");else{f.m=6;try{var J=2<lr(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",So(f)}}finally{Kr(f)}}}}function Kr(f,y){if(f.g){Ia(f);const v=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Re(f,"ready");try{v.onreadystatechange=A}catch{}}}function Ia(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function lr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Ei(y)}};function Jc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xd(f){const y={};f=(f.g&&2<=lr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(B(f[A]))continue;var v=M(f[A]);const K=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=y[K]||[];y[K]=J,J.push(v)}C(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(f,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||y}function xo(f){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,f),this.cb=Ca("retryDelaySeedMs",1e4,f),this.Wa=Ca("forwardChannelMaxRetries",2,f),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(f&&f.concurrentRequestLimit),this.Da=new Ra,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xo.prototype,n.la=8,n.G=1,n.connect=function(f,y,v,A){xt(0),this.W=f,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=of(this,null,this.W),Co(this)};function Wl(f){if(ef(f),f.G==3){var y=f.U++,v=qn(f.I);if(_t(v,"SID",f.K),_t(v,"RID",y),_t(v,"TYPE","terminate"),Na(f,v),y=new xn(f,f.j,y),y.L=2,y.v=wa(qn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=lf(y.j,null),y.g.ea(y.v)),y.F=Date.now(),va(y)}af(f)}function Io(f){f.g&&(Oa(f),f.g.cancel(),f.g=null)}function ef(f){Io(f),f.u&&(d.clearTimeout(f.u),f.u=null),No(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Co(f){if(!vo(f.h)&&!f.s){f.s=!0;var y=f.Ga;ue||V(),fe||(ue(),fe=!0),Pe.add(y,f),f.B=0}}function Zd(f,y){return bo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ht(T(f.Ga,f,y),tu(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new xn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=S(J),N(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=tf(this,K,y),v=qn(this.I),_t(v,"RID",f),_t(v,"CVER",22),this.D&&_t(v,"X-HTTP-Session-Id",this.D),Na(this,v),J&&(this.O?y="headers="+encodeURIComponent(String(Zl(J)))+"&"+y:this.m&&an(v,this.m,J)),Eo(this.h,K),this.Ua&&_t(v,"TYPE","init"),this.P?(_t(v,"$req",y),_t(v,"SID","null"),K.T=!0,Ar(K,v,null)):Ar(K,v,y),this.G=2}}else this.G==3&&(f?Jl(this,f):this.i.length==0||vo(this.h)||Jl(this))};function Jl(f,y){var v;y?v=y.l:v=f.U++;const A=qn(f.I);_t(A,"SID",f.K),_t(A,"RID",v),_t(A,"AID",f.T),Na(f,A),f.m&&f.o&&an(A,f.m,f.o),v=new xn(f,f.j,v,f.B+1),f.m===null&&(v.H=f.o),y&&(f.i=y.D.concat(f.i)),y=tf(f,v,1e3),v.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Eo(f.h,v),Ar(v,A,y)}function Na(f,y){f.H&&ve(f.H,function(v,A){_t(y,A,v)}),f.l&&Gl({},function(v,A){_t(y,A,v)})}function tf(f,y,v){v=Math.min(f.i.length,v);var A=f.l?T(f.l.Na,f.l,f):null;e:{var K=f.i;let J=-1;for(;;){const me=["count="+v];J==-1?0<v?(J=K[0].g,me.push("ofs="+J)):J=0:me.push("ofs="+J);let it=!0;for(let en=0;en<v;en++){let st=K[en].g;const on=K[en].map;if(st-=J,0>st)J=Math.max(0,K[en].g-100),it=!1;else try{Hr(on,me,"req"+st+"_")}catch{A&&A(on)}}if(it){A=me.join("&");break e}}}return f=f.i.splice(0,v),y.D=f,A}function nf(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;ue||V(),fe||(ue(),fe=!0),Pe.add(y,f),f.v=0}}function eu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ht(T(f.Fa,f),tu(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,rf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ht(T(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),Io(this),rf(this))};function Oa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function rf(f){f.g=new xn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=qn(f.qa);_t(y,"RID","rpc"),_t(y,"SID",f.K),_t(y,"AID",f.T),_t(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&_t(y,"TO",f.ja),_t(y,"TYPE","xmlhttp"),Na(f,y),f.m&&f.o&&an(y,f.m,f.o),f.L&&(f.g.I=f.L);var v=f.g;f=f.ia,v.L=1,v.v=wa(qn(y)),v.m=null,v.P=!0,Ri(v,f)}n.Za=function(){this.C!=null&&(this.C=null,Io(this),eu(this),xt(19))};function No(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function sf(f,y){var v=null;if(f.g==y){No(f),Oa(f),f.g=null;var A=2}else if(Hl(f.h,y))v=y.D,In(f.h,y),A=1;else return;if(f.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var K=f.B;A=hs(),Re(A,new Jt(A,v)),Co(f)}else nf(f);else if(K=y.s,K==3||K==0&&0<y.X||!(A==1&&Zd(f,y)||A==2&&eu(f)))switch(v&&0<v.length&&(y=f.h,y.i=y.i.concat(v)),K){case 1:ki(f,5);break;case 4:ki(f,10);break;case 3:ki(f,6);break;default:ki(f,2)}}}function tu(f,y){let v=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(v*=2),v*y}function ki(f,y){if(f.j.info("Error code "+y),y==2){var v=T(f.fb,f),A=f.Xa;const K=!A;A=new $t(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ta(A,"https"),wa(A),K?Sa(A.toString(),v):Sr(A.toString(),v)}else xt(2);f.G=0,f.l&&f.l.sa(y),af(f),ef(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function af(f){if(f.G=0,f.ka=[],f.l){const y=$l(f.h);(y.length!=0||f.i.length!=0)&&(U(f.ka,y),U(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function of(f,y,v){var A=v instanceof $t?qn(v):new $t(v);if(A.g!="")y&&(A.g=y+"."+A.g),ys(A,A.s);else{var K=d.location;A=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var J=new $t(null);A&&Ta(J,A),y&&(J.g=y),K&&ys(J,K),v&&(J.l=v),A=J}return v=f.D,y=f.ya,v&&y&&_t(A,v,y),_t(A,"VER",f.la),Na(f,A),A}function lf(f,y,v){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new dt(new _s({eb:v})):new dt(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uf(){}n=uf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Oo(){}Oo.prototype.g=function(f,y){return new Cn(f,y)};function Cn(f,y){ye.call(this),this.g=new xo(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!B(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Yr(this)}O(Cn,ye),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Wl(this.g)},Cn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.u&&(v={},v.__data__=Fn(f),f=v);y.i.push(new Qc(y.Ya++,f)),y.G==3&&Co(y)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,Cn.aa.N.call(this)};function cf(f){Ai.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const v in y){f=v;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}O(cf,Ai);function ff(){zl.call(this),this.status=1}O(ff,zl);function Yr(f){this.g=f}O(Yr,uf),Yr.prototype.ua=function(){Re(this.g,"a")},Yr.prototype.ta=function(f){Re(this.g,new cf(f))},Yr.prototype.sa=function(f){Re(this.g,new ff)},Yr.prototype.ra=function(){Re(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,Iw=function(){return new Oo},xw=function(){return hs()},Rw=jr,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Ih=ps,Si.COMPLETE="complete",Sw=Si,jl.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Zu=jl,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,Aw=dt}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const xE="@firebase/firestore",IE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new fy("@firebase/firestore");function ol(){return ro.logLevel}function Te(n,...e){if(ro.logLevel<=nt.DEBUG){const t=e.map(wy);ro.debug(`Firestore (${Vl}): ${n}`,...t)}}function is(n,...e){if(ro.logLevel<=nt.ERROR){const t=e.map(wy);ro.error(`Firestore (${Vl}): ${n}`,...t)}}function ra(n,...e){if(ro.logLevel<=nt.WARN){const t=e.map(wy);ro.warn(`Firestore (${Vl}): ${n}`,...t)}}function wy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Cw(n,i,t)}function Cw(n,e,t){let i=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw is(i),new Error(i)}function mt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||Cw(e,a,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class nO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rO{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new es;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new es,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new es)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new Nw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class iO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new iO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const i=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new CE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=oO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function wg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Xe(i,a);{const l=Ow(),c=lO(l.encode(NE(n,t)),l.encode(NE(e,t)));return c!==0?c:Xe(i,a)}}t+=i>65535?2:1}return Xe(n.length,e.length)}function NE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function bl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class ti{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ti.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Xe(e.length,t.length)}static compareSegments(e,t){const i=ti.isNumericId(e),a=ti.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ti.extractNumericId(e).compare(ti.extractNumericId(t)):wg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class At extends ti{construct(e,t,i){return new At(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new At(t)}static emptyPath(){return new At([])}}const uO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ti{construct(e,t,i){return new vn(e,t,i)}static isValidIdentifier(e){return uO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new vn([OE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(At.fromString(e))}static fromName(e){return new De(At.fromString(e).popFirst(5))}static empty(){return new De(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n,e,t){if(!t)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cO(n,e,t,i){if(e===!0&&i===!0)throw new _e(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function DE(n){if(!De.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(De.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bd(n);throw new _e(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function kc(n,e){if(!kw(n))throw new _e(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new _e(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,PE=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*PE);return new Rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VE)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Wt("string",Rt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Rt(0,0))}static max(){return new Be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function fO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(i===1e9?new Rt(t+1,0):new Rt(t,i));return new ia(a,De.empty(),e)}function hO(n){return new ia(n.readTime,n.key,mc)}class ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ia(Be.min(),De.empty(),mc)}static max(){return new ia(Be.max(),De.empty(),mc)}}function dO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==mO)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(a=>a?le.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new le((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,t){return new le((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function gO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ml(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ed.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function Td(n){return n==null}function Hh(n){return n===0&&1/n==-1/0}function yO(n){return typeof n=="number"&&Number.isInteger(n)&&!Hh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="";function _O(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ME(e)),e=vO(n.get(t),e);return ME(e)}function vO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Vw:t+="";break;default:t+=l}}return t}function ME(n){return n+Vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ga(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new _n(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new sn(vn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Mw("Invalid base64 string: "+l):l}}(e);return new bn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const bO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=bO.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function aa(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="server_timestamp",Uw="__type__",jw="__previous_value__",zw="__local_write_time__";function wd(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Uw])===null||t===void 0?void 0:t.stringValue)===Lw}function Ad(n){const e=n.mapValue.fields[jw];return wd(e)?Ad(e):e}function pc(n){const e=sa(n.mapValue.fields[zw].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,i,a,l,c,d,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const $h="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||$h}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__type__",TO="__max__",gh={mapValue:{}},Fw="__vector__",Gh="value";function oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wd(n)?4:AO(n)?9007199254740991:wO(n)?10:11:Ue(28295,{value:n})}function mi(n,e){if(n===e)return!0;const t=oa(n);if(t!==oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=sa(a.timestampValue),d=sa(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return aa(a.bytesValue).isEqual(aa(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Bt(a.doubleValue),d=Bt(l.doubleValue);return c===d?Hh(c)===Hh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return bl(n.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(LE(c)!==LE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!mi(c[m],d[m])))return!1;return!0}(n,e);default:return Ue(52216,{left:n})}}function yc(n,e){return(n.values||[]).find(t=>mi(t,e))!==void 0}function El(n,e){if(n===e)return 0;const t=oa(n),i=oa(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return jE(n.timestampValue,e.timestampValue);case 4:return jE(pc(n),pc(e));case 5:return wg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=aa(l),m=aa(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Xe(d[g],m[g]);if(_!==0)return _}return Xe(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Xe(Bt(l.latitude),Bt(c.latitude));return d!==0?d:Xe(Bt(l.longitude),Bt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return zE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,_;const E=l.fields||{},T=c.fields||{},k=(d=E[Gh])===null||d===void 0?void 0:d.arrayValue,O=(m=T[Gh])===null||m===void 0?void 0:m.arrayValue,j=Xe(((g=k?.values)===null||g===void 0?void 0:g.length)||0,((_=O?.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:zE(k,O)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===gh.mapValue&&c===gh.mapValue)return 0;if(l===gh.mapValue)return 1;if(c===gh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const T=wg(m[E],_[E]);if(T!==0)return T;const k=El(d[m[E]],g[_[E]]);if(k!==0)return k}return Xe(m.length,_.length)}(n.mapValue,e.mapValue);default:throw Ue(23264,{le:t})}}function jE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=sa(n),i=sa(e),a=Xe(t.seconds,i.seconds);return a!==0?a:Xe(t.nanos,i.nanos)}function zE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=El(t[a],i[a]);if(l)return l}return Xe(t.length,i.length)}function Tl(n){return Ag(n)}function Ag(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=sa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return aa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ag(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ag(t.fields[c])}`;return a+"}"}(n.mapValue):Ue(61005,{value:n})}function Ch(n){switch(oa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ad(n);return e?16+Ch(e):16;case 5:return 2*n.stringValue.length;case 6:return aa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Ch(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return ga(i.fields,(l,c)=>{a+=l.length+Ch(c)}),a}(n.mapValue);default:throw Ue(13486,{value:n})}}function Kh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sg(n){return!!n&&"integerValue"in n}function Ry(n){return!!n&&"arrayValue"in n}function BE(n){return!!n&&"nullValue"in n}function FE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nh(n){return!!n&&"mapValue"in n}function wO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bw])===null||t===void 0?void 0:t.stringValue)===Fw}function ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ga(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ic(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(t)}setAll(e){let t=vn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=ic(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Nh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ga(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Bn(ic(this.value))}}function qw(n){const e=[];return ga(n.fields,(t,i)=>{const a=new vn([t]);if(Nh(i)){const l=qw(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Sn(e,0,Be.min(),Be.min(),Be.min(),Bn.empty(),0)}static newFoundDocument(e,t,i,a){return new Sn(e,1,t,Be.min(),i,a,0)}static newNoDocument(e,t){return new Sn(e,2,t,Be.min(),Be.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,Be.min(),Be.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this.position=e,this.inclusive=t}}function qE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=De.comparator(De.fromName(c.referenceValue),t.key):i=El(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function HE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t="asc"){this.field=e,this.dir=t}}function SO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{}class Zt extends Hw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xO(e,t,i):t==="array-contains"?new NO(e,i):t==="in"?new OO(e,i):t==="not-in"?new DO(e,i):t==="array-contains-any"?new kO(e,i):new Zt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new IO(e,i):new CO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(El(t,this.value)):t!==null&&oa(this.value)===oa(t)&&this.matchesComparison(El(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends Hw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Pr(e,t)}matches(e){return $w(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function $w(n){return n.op==="and"}function Gw(n){return RO(n)&&$w(n)}function RO(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function Rg(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Tl(n.value);if(Gw(n))return n.filters.map(e=>Rg(e)).join(",");{const e=n.filters.map(t=>Rg(t)).join(",");return`${n.op}(${e})`}}function Kw(n,e){return n instanceof Zt?function(i,a){return a instanceof Zt&&i.op===a.op&&i.field.isEqual(a.field)&&mi(i.value,a.value)}(n,e):n instanceof Pr?function(i,a){return a instanceof Pr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&Kw(c,a.filters[d]),!0):!1}(n,e):void Ue(19439)}function Yw(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Tl(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Yw).join(" ,")+"}"}(n):"Filter"}class xO extends Zt{constructor(e,t,i){super(e,t,i),this.key=De.fromName(i.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class IO extends Zt{constructor(e,t){super(e,"in",t),this.keys=Qw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CO extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=Qw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>De.fromName(i.referenceValue))}class NO extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ry(t)&&yc(t.arrayValue,this.value)}}class OO extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yc(this.value.arrayValue,t)}}class DO extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yc(this.value.arrayValue,t)}}class kO extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Pe=null}}function $E(n,e=null,t=[],i=[],a=null,l=null,c=null){return new VO(n,e,t,i,a,l,c)}function xy(n){const e=$e(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Tl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Tl(i)).join(",")),e.Pe=t}return e.Pe}function Iy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Kw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HE(n.startAt,e.startAt)&&HE(n.endAt,e.endAt)}function xg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function PO(n,e,t,i,a,l,c,d){return new fo(n,e,t,i,a,l,c,d)}function Cy(n){return new fo(n)}function GE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ny(n){return n.collectionGroup!==null}function yl(n){const e=$e(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new sn(vn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new _c(l,i))}),t.has(vn.keyField().canonicalString())||e.Te.push(new _c(vn.keyField(),i))}return e.Te}function li(n){const e=$e(n);return e.Ie||(e.Ie=MO(e,yl(n))),e.Ie}function MO(n,e){if(n.limitType==="F")return $E(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new _c(a.field,l)});const t=n.endAt?new wl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wl(n.startAt.position,n.startAt.inclusive):null;return $E(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ig(n,e){const t=n.filters.concat([e]);return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yh(n,e,t){return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sd(n,e){return Iy(li(n),li(e))&&n.limitType===e.limitType}function Xw(n){return`${xy(li(n))}|lt:${n.limitType}`}function ll(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Yw(a)).join(", ")}]`),Td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Tl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Tl(a)).join(",")),`Target(${i})`}(li(n))}; limitType=${n.limitType})`}function Rd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):De.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of yl(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const g=qE(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,yl(i),a)||i.endAt&&!function(c,d,m){const g=qE(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,yl(i),a))}(n,e)}function LO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zw(n){return(e,t)=>{let i=!1;for(const a of yl(n)){const l=UO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function UO(n,e,t){const i=n.field.isKeyField()?De.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?El(m,g):Ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Dt(De.comparator);function ss(){return jO}const Ww=new Dt(De.comparator);function Wu(...n){let e=Ww;for(const t of n)e=e.insert(t.key,t);return e}function Jw(n){let e=Ww;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ya(){return sc()}function eA(){return sc()}function sc(){return new ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const zO=new Dt(De.comparator),BO=new sn(De.comparator);function rt(...n){let e=BO;for(const t of n)e=e.add(t);return e}const FO=new sn(Xe);function qO(){return FO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function tA(n){return{integerValue:""+n}}function HO(n,e){return yO(e)?tA(e):Oy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function $O(n,e,t){return n instanceof Qh?function(a,l){const c={fields:{[Uw]:{stringValue:Lw},[zw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wd(l)&&(l=Ad(l)),l&&(c.fields[jw]=l),{mapValue:c}}(t,e):n instanceof vc?rA(n,e):n instanceof bc?iA(n,e):function(a,l){const c=nA(a,l),d=KE(c)+KE(a.Ee);return Sg(c)&&Sg(a.Ee)?tA(d):Oy(a.serializer,d)}(n,e)}function GO(n,e,t){return n instanceof vc?rA(n,e):n instanceof bc?iA(n,e):t}function nA(n,e){return n instanceof Xh?function(i){return Sg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Qh extends xd{}class vc extends xd{constructor(e){super(),this.elements=e}}function rA(n,e){const t=sA(e);for(const i of n.elements)t.some(a=>mi(a,i))||t.push(i);return{arrayValue:{values:t}}}class bc extends xd{constructor(e){super(),this.elements=e}}function iA(n,e){let t=sA(e);for(const i of n.elements)t=t.filter(a=>!mi(a,i));return{arrayValue:{values:t}}}class Xh extends xd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function KE(n){return Bt(n.integerValue||n.doubleValue)}function sA(n){return Ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function KO(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof vc&&a instanceof vc||i instanceof bc&&a instanceof bc?bl(i.elements,a.elements,mi):i instanceof Xh&&a instanceof Xh?mi(i.Ee,a.Ee):i instanceof Qh&&a instanceof Qh}(n.transform,e.transform)}class YO{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Id{}function aA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dy(n.key,_r.none()):new Vc(n.key,n.data,_r.none());{const t=n.data,i=Bn.empty();let a=new sn(vn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ya(n.key,i,new Jn(a.toArray()),_r.none())}}function QO(n,e,t){n instanceof Vc?function(a,l,c){const d=a.value.clone(),m=QE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ya?function(a,l,c){if(!Oh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=QE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(oA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ac(n,e,t,i){return n instanceof Vc?function(l,c,d,m){if(!Oh(l.precondition,c))return d;const g=l.value.clone(),_=XE(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof ya?function(l,c,d,m){if(!Oh(l.precondition,c))return d;const g=XE(l.fieldTransforms,m,c),_=c.data;return _.setAll(oA(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,d){return Oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function XO(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=nA(i.transform,a||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(i.field,l))}return t||null}function YE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&bl(i,a,(l,c)=>KO(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vc extends Id{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ya extends Id{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function QE(n,e,t){const i=new Map;mt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,GO(c,d,t[a]))}return i}function XE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,$O(l,c,e))}return i}class Dy extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&QO(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ac(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ac(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=eA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=aA(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(t,i)=>YE(t,i))&&bl(this.baseMutations,e.baseMutations,(t,i)=>YE(t,i))}}class ky{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){mt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let a=function(){return zO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new ky(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,ot;function tD(n){switch(n){case te.OK:return Ue(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function lA(n){if(n===void 0)return is("GRPC error has no .code"),te.UNKNOWN;switch(n){case Qt.OK:return te.OK;case Qt.CANCELLED:return te.CANCELLED;case Qt.UNKNOWN:return te.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return te.INTERNAL;case Qt.UNAVAILABLE:return te.UNAVAILABLE;case Qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Qt.NOT_FOUND:return te.NOT_FOUND;case Qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Qt.ABORTED:return te.ABORTED;case Qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Qt.DATA_LOSS:return te.DATA_LOSS;default:return Ue(39323,{code:n})}}(ot=Qt||(Qt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Js([4294967295,4294967295],0);function ZE(n){const e=Ow().encode(n),t=new ww;return t.update(e),new Uint8Array(t.digest())}function WE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([t,i],0),new Js([a,l],0)]}class Vy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ju(`Invalid padding: ${t}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Js.fromNumber(this.fe)}pe(e,t,i){let a=e.add(t.multiply(Js.fromNumber(i)));return a.compare(nD)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=ZE(e),[i,a]=WE(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,a,l);if(!this.ye(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Vy(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.fe===0)return;const t=ZE(e),[i,a]=WE(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(i,a,l);this.we(c)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Cd(Be.min(),a,new Dt(Xe),ss(),rt())}}class Pc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pc(i,t,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=a}}class uA{constructor(e,t){this.targetId=e,this.De=t}}class cA{constructor(e,t,i=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class JE{constructor(){this.ve=0,this.Ce=e1(),this.Fe=bn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=rt(),t=rt(),i=rt();return this.Ce.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ue(38017,{changeType:l})}}),new Pc(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=e1()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class rD{constructor(e){this.We=e,this.Ge=new Map,this.ze=ss(),this.je=yh(),this.Je=yh(),this.He=new Dt(Xe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,i=e.De.count,a=this.st(t);if(a){const l=a.target;if(xg(l))if(i===0){const c=new De(l.path);this.Xe(t,c,Sn.newNoDocument(c,Be.min()))}else mt(i===1,20013,{expectedCount:i});else{const c=this.ot(t);if(c!==i){const d=this._t(e),m=d?this.ut(d,e,c):1;if(m!==0){this.rt(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=aa(i).toUint8Array()}catch(m){if(m instanceof Mw)return ra("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Vy(c,a,l)}catch(m){return ra(m instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.We.lt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const d=this.st(c);if(d){if(l.current&&xg(d.target)){const m=new De(d.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,Sn.newNoDocument(m,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let i=rt();this.Je.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const a=new Cd(e,t,this.He,this.ze,i);return this.ze=ss(),this.je=yh(),this.Je=yh(),this.He=new Dt(Xe),a}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new JE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new sn(Xe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new sn(Xe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new JE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function yh(){return new Dt(De.comparator)}function e1(){return new Dt(De.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},sD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aD={and:"AND",or:"OR"};class oD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cg(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function Zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lD(n,e){return Zh(n,e.toTimestamp())}function ui(n){return mt(!!n,49232),Be.fromTimestamp(function(t){const i=sa(t);return new Rt(i.seconds,i.nanos)}(n))}function Py(n,e){return Ng(n,e).canonicalString()}function Ng(n,e){const t=function(a){return new At(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hA(n){const e=At.fromString(n);return mt(yA(e),10190,{key:e.toString()}),e}function Og(n,e){return Py(n.databaseId,e.path)}function rg(n,e){const t=hA(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(mA(t))}function dA(n,e){return Py(n.databaseId,e)}function uD(n){const e=hA(n);return e.length===4?At.emptyPath():mA(e)}function Dg(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mA(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function t1(n,e,t){return{name:Og(n,e),fields:t.value.mapValue.fields}}function cD(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(mt(_===void 0||typeof _=="string",58123),bn.fromBase64String(_||"")):(mt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),bn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?te.UNKNOWN:lA(g.code);return new _e(_,g.message||"")}(c);t=new cA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=rg(n,i.document.name),l=ui(i.document.updateTime),c=i.document.createTime?ui(i.document.createTime):Be.min(),d=new Bn({mapValue:{fields:i.document.fields}}),m=Sn.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Dh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=rg(n,i.document),l=i.readTime?ui(i.readTime):Be.min(),c=Sn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Dh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=rg(n,i.document),l=i.removedTargetIds||[];t=new Dh([],l,a,null)}else{if(!("filter"in e))return Ue(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new eD(a,l),d=i.targetId;t=new uA(d,c)}}return t}function fD(n,e){let t;if(e instanceof Vc)t={update:t1(n,e.key,e.value)};else if(e instanceof Dy)t={delete:Og(n,e.key)};else if(e instanceof ya)t={update:t1(n,e.key,e.data),updateMask:bD(e.fieldMask)};else{if(!(e instanceof ZO))return Ue(16599,{Rt:e.type});t={verify:Og(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Qh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xh)return{fieldPath:c.field.canonicalString(),increment:d.Ee};throw Ue(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:lD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)}(n,e.precondition)),t}function hD(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?ui(a.updateTime):ui(l);return c.isEqual(Be.min())&&(c=ui(l)),new YO(c,a.transformResults||[])}(t,e))):[]}function dD(n,e){return{documents:[dA(n,e.path)]}}function mD(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=dA(n,a);const l=function(g){if(g.length!==0)return gA(Pr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:ul(T.field),direction:yD(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Cg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:a}}function pD(n){let e=uD(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){mt(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const T=pA(E);return T instanceof Pr&&Gw(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(O){return new _c(cl(O.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(E){let T;return T=typeof E=="object"?E.value:E,Td(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(E){const T=!!E.before,k=E.values||[];return new wl(k,T)}(t.startAt));let g=null;return t.endAt&&(g=function(E){const T=!E.before,k=E.values||[];return new wl(k,T)}(t.endAt)),PO(e,a,c,l,d,"F",m,g)}function gD(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=cl(t.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=cl(t.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=cl(t.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=cl(t.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(cl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(i=>pA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(t.compositeFilter.op))}(n):Ue(30097,{filter:n})}function yD(n){return iD[n]}function _D(n){return sD[n]}function vD(n){return aD[n]}function ul(n){return{fieldPath:n.canonicalString()}}function cl(n){return vn.fromServerFormat(n.fieldPath)}function gA(n){return n instanceof Zt?function(t){if(t.op==="=="){if(FE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NAN"}};if(BE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NOT_NAN"}};if(BE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(t.field),op:_D(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const i=t.getFilters().map(a=>gA(a));return i.length===1?i[0]:{compositeFilter:{op:vD(t.op),filters:i}}}(n):Ue(54877,{filter:n})}function bD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t,i,a,l=Be.min(),c=Be.min(),d=bn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.gt=e}}function TD(n){const e=pD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Dn=new AD}addToCollectionParentIndex(e,t){return this.Dn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ia.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class AD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new sn(At.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new sn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_A=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(_A,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Al(0)}static ur(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="LruGarbageCollector",SD=1048576;function i1([n,e],[t,i]){const a=Xe(n,t);return a===0?Xe(e,i):a}class RD{constructor(e){this.Tr=e,this.buffer=new sn(i1),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();i1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Te(r1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ml(t)?Te(r1,"Ignoring IndexedDB error during garbage collection: ",t):await Pl(t)}await this.Rr(3e5)})}}class ID{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Ed.ue);const i=new RD(t);return this.Vr.forEachTarget(e,a=>i.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>i.Er(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(n1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(g=Date.now(),ol()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function CD(n,e){return new ID(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&ac(i.mutation,a,Jn.empty(),Rt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rt()){const a=Ya();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Wu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ya();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rt()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=ss();const c=sc(),d=function(){return sc()}();return t.forEach((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof ya)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),ac(_.mutation,g,_.mutation.getFieldMask(),Rt.now())):c.set(g.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var E;return d.set(g,new OD(_,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=sc();let a=new Dt((c,d)=>c-d),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Jn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const E=(a.get(d.batchId)||rt()).add(m);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,E=eA();_.forEach(T=>{if(!l.has(T)){const k=aA(t.get(T),i.get(T));k!==null&&E.set(T,k),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ny(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):le.resolve(Ya());let d=mc,m=l;return c.next(g=>le.forEach(g,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{m=m.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,rt())).next(_=>({batchId:d,changes:Jw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(i=>{let a=Wu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Wu();return this.indexManager.getCollectionParents(e,l).next(d=>le.forEach(d,m=>{const g=function(E,T){return new fo(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(_=>{_.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Sn.newInvalidDocument(_)))});let d=Wu();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&ac(_.mutation,g,Jn.empty(),Rt.now()),Rd(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return le.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ui(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:TD(a.bundledQuery),readTime:ui(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.overlays=new Dt(De.comparator),this.kr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ya();return le.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.wt(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.kr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const a=Ya(),l=t.length+1,c=new De(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Dt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Ya(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return le.resolve(d)}wt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(i.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new JO(t,i));let l=this.kr.get(t);l===void 0&&(l=rt(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.qr=new sn(fn.Qr),this.$r=new sn(fn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new fn(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new fn(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new De(new At([])),i=new fn(t,e),a=new fn(t,e+1),l=[];return this.$r.forEachInRange([i,a],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new De(new At([])),i=new fn(t,e),a=new fn(t,e+1);let l=rt();return this.$r.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new fn(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class fn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return De.comparator(e.key,t.key)||Xe(e.Hr,t.Hr)}static Ur(e,t){return Xe(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new sn(fn.Qr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new WO(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Yr=this.Yr.add(new fn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Sy:this.er-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new fn(t,0),a=new fn(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,a],c=>{const d=this.Zr(c.Hr);l.push(d)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(Xe);return t.forEach(a=>{const l=new fn(a,0),c=new fn(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],d=>{i=i.add(d.Hr)})}),le.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;De.isDocumentKey(l)||(l=l.child(""));const c=new fn(new De(l),0);let d=new sn(Xe);return this.Yr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)},c),le.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(i=>{const a=this.Zr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){mt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return le.forEach(t.mutations,a=>{const l=new fn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new fn(t,0),a=this.Yr.firstAfterOrEqual(i);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.ni=e,this.docs=function(){return new Dt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=ss();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Sn.newInvalidDocument(a))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=ss();const c=t.path,d=new De(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||dO(hO(_),i)<=0||(a.has(_.key)||Rd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ue(9500)}ri(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new UD(this)}getSize(e){return le.resolve(this.size)}}class UD extends ND{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.persistence=e,this.ii=new ho(t=>xy(t),Iy),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.si=0,this.oi=new My,this.targetCount=0,this._i=Al.ar()}forEachTarget(e,t){return this.ii.forEach((i,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),le.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Al(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.hr(t),le.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ii.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ed(0),this.ci=!1,this.ci=!0,this.li=new PD,this.referenceDelegate=e(this),this.hi=new jD(this),this.indexManager=new wD,this.remoteDocumentCache=function(a){return new LD(a)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new ED(t),this.Ti=new kD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new MD(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Te("MemoryPersistence","Starting transaction:",e);const a=new zD(this.ui.next());return this.referenceDelegate.Ii(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(e,t){return le.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class zD extends pO{constructor(e){super(),this.currentSequenceNumber=e}}class Ly{constructor(e){this.persistence=e,this.Ai=new My,this.Ri=null}static Vi(e){return new Ly(e)}get mi(){if(this.Ri)return this.Ri;throw Ue(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.mi,i=>{const a=De.fromPath(i);return this.fi(e,a).next(l=>{l||t.removeEntry(a,Be.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return le.or([()=>le.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.gi=new ho(i=>_O(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=CD(this,t)}static Vi(e,t){return new Wh(e,t)}Ii(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return le.forEach(this.gi,(i,a)=>this.Sr(e,i,a).next(l=>l?le.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,c=>this.Sr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),le.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}Sr(e,t,i){return le.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return le.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=a}static Es(e,t){let i=rt(),a=rt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Uy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return gI()?8:gO(Rn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new BD;return this.ws(e,t,c).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,c,d.size)})}).next(()=>l.result)}Ss(e,t,i,a){return i.documentReadCount<this.Vs?(ol()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ll(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(ol()<=nt.DEBUG&&Te("QueryEngine","Query:",ll(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.fs*a?(ol()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ll(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):le.resolve())}ps(e,t){if(GE(t))return le.resolve(null);let i=li(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Yh(t,null,"F"),i=li(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=rt(...l);return this.gs.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.bs(t,d);return this.Ds(t,g,c,m.readTime)?this.ps(e,Yh(t,null,"F")):this.vs(e,g,t,m)}))})))}ys(e,t,i,a){return GE(t)||a.isEqual(Be.min())?le.resolve(null):this.gs.getDocuments(e,i).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,i,a)?le.resolve(null):(ol()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(t)),this.vs(e,c,t,fO(a,mc)).next(d=>d))})}bs(e,t){let i=new sn(Zw(e));return t.forEach((a,l)=>{Rd(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,t,i){return ol()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ll(t)),this.gs.getDocumentsMatchingQuery(e,t,ia.min(),i)}vs(e,t,i,a){return this.gs.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",qD=3e8;class HD{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new Dt(Xe),this.Ms=new ho(l=>xy(l),Iy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function $D(n,e,t,i){return new HD(n,e,t,i)}async function bA(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=rt();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Bs:g,removedBatchIds:c,addedBatchIds:d}))})})}function GD(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const E=g.batch,T=E.keys();let k=le.resolve();return T.forEach(O=>{k=k.next(()=>_.getEntry(m,O)).next(j=>{const U=g.docVersions.get(O);mt(U!==null,48541),j.version.compareTo(U)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(m,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=rt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function EA(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function KD(n,e){const t=$e(n),i=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const d=[];e.targetChanges.forEach((_,E)=>{const T=a.get(E);if(!T)return;d.push(t.hi.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.hi.addMatchingKeys(l,_.addedDocuments,E)));let k=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(bn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),a=a.insert(E,k),function(j,U,q){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=qD?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,k,_)&&d.push(t.hi.updateTargetData(l,k))});let m=ss(),g=rt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(YD(l,c,e.documentUpdates).next(_=>{m=_.Ls,g=_.ks})),!i.isEqual(Be.min())){const _=t.hi.getLastRemoteSnapshotVersion(l).next(E=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return le.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Fs=a,l))}function YD(n,e,t){let i=rt(),a=rt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ss();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):Te(jy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Ls:c,ks:a}})}function QD(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function XD(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.hi.getTargetData(i,e).next(l=>l?(a=l,le.resolve(a)):t.hi.allocateTargetId(i).next(c=>(a=new Qs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Fs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function kg(n,e,t){const i=$e(n),a=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Ml(c))throw c;Te(jy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(a.target)}function s1(n,e,t){const i=$e(n);let a=Be.min(),l=rt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const E=$e(m),T=E.Ms.get(_);return T!==void 0?le.resolve(E.Fs.get(T)):E.hi.getTargetData(g,_)}(i,c,li(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:Be.min(),t?l:rt())).next(d=>(ZD(i,LO(e),d),{documents:d,qs:l})))}function ZD(n,e,t){let i=n.xs.get(e)||Be.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class a1{constructor(){this.activeTargetIds=qO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WD{constructor(){this.Fo=new a1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new a1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="ConnectivityMonitor";class l1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Te(o1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Te(o1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Vg(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",ek={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.Ko=this.databaseId.database===$h?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=Vg(),d=this.Go(e,t.toUriEncodedString());Te(ig,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,l);const{host:g}=new URL(d),_=da(g);return this.jo(e,d,m,i,_).then(E=>(Te(ig,`Received RPC '${e}' ${c}: `,E),E),E=>{throw ra(ig,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E})}Jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}Go(e,t){const i=ek[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class rk extends tk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,a,l){const c=Vg();return new Promise((d,m)=>{const g=new Aw;g.setWithCredentials(!0),g.listenOnce(Sw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ih.NO_ERROR:const E=g.getResponseJson();Te(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Ih.TIMEOUT:Te(wn,`RPC '${e}' ${c} timed out`),m(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const T=g.getStatus();if(Te(wn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const O=k?.error;if(O&&O.status&&O.message){const j=function(q){const B=q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN}(O.status);m(new _e(j,O.message))}else m(new _e(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(te.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{c_:e,streamId:c,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Te(wn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);Te(wn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)})}P_(e,t,i){const a=Vg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Iw(),d=xw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");Te(wn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const E=c.createWebChannel(_,m);this.T_(E);let T=!1,k=!1;const O=new nk({Ho:U=>{k?Te(wn,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(T||(Te(wn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),Te(wn,`RPC '${e}' stream ${a} sending:`,U),E.send(U))},Yo:()=>E.close()}),j=(U,q,B)=>{U.listen(q,G=>{try{B(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return j(E,Zu.EventType.OPEN,()=>{k||(Te(wn,`RPC '${e}' stream ${a} transport opened.`),O.s_())}),j(E,Zu.EventType.CLOSE,()=>{k||(k=!0,Te(wn,`RPC '${e}' stream ${a} transport closed`),O.__(),this.I_(E))}),j(E,Zu.EventType.ERROR,U=>{k||(k=!0,ra(wn,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),O.__(new _e(te.UNAVAILABLE,"The operation could not be completed")))}),j(E,Zu.EventType.MESSAGE,U=>{var q;if(!k){const B=U.data[0];mt(!!B,16349);const G=B,ee=G?.error||((q=G[0])===null||q===void 0?void 0:q.error);if(ee){Te(wn,`RPC '${e}' stream ${a} received error:`,ee);const ae=ee.status;let ve=function(R){const N=Qt[R];if(N!==void 0)return lA(N)}(ae),C=ee.message;ve===void 0&&(ve=te.INTERNAL,C="Unknown error status: "+ae+" with message "+ee.message),k=!0,O.__(new _e(ve,C)),E.close()}else Te(wn,`RPC '${e}' stream ${a} received:`,B),O.a_(B)}}),j(d,Rw.STAT_EVENT,U=>{U.stat===Tg.PROXY?Te(wn,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Tg.NOPROXY&&Te(wn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){return new oD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-i);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="PersistentStream";class wA{constructor(e,t,i,a,l,c,d,m){this.Fi=e,this.w_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new TA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(is(t.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.b_===t&&this.W_(i,a)},i=>{e(()=>{const a=new _e(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(a)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{i(()=>this.G_(a))}),this.stream.onMessage(a=>{i(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Te(u1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Te(u1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ik extends wA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=cD(this.serializer,e),i=function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ui(c.readTime):Be.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Dg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=xg(m)?{documents:dD(l,m)}:{query:mD(l,m).Vt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=fA(l,c.resumeToken);const g=Cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Be.min())>0){d.readTime=Zh(l,c.snapshotVersion.toTimestamp());const g=Cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=gD(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Dg(this.serializer),t.removeTarget=e,this.k_(t)}}class sk extends wA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=hD(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Dg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>fD(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{}class ok extends ak{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Ng(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(te.UNKNOWN,l.toString())})}Jo(e,t,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Jo(e,Ng(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(te.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class lk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(is(t),this._a=!1):Te("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class uk{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{i.enqueueAndForget(async()=>{mo(this)&&(Te(io,"Restarting streams for network reachability change."),await async function(m){const g=$e(m);g.Ia.add(4),await Mc(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Od(g)}(this))})}),this.Aa=new lk(i,a)}}async function Od(n){if(mo(n))for(const e of n.da)await e(!0)}async function Mc(n){for(const e of n.da)await e(!1)}function AA(n,e){const t=$e(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),qy(t)?Fy(t):Ll(t).x_()&&By(t,e))}function zy(n,e){const t=$e(n),i=Ll(t);t.Ta.delete(e),i.x_()&&SA(t,e),t.Ta.size===0&&(i.x_()?i.B_():mo(t)&&t.Aa.set("Unknown"))}function By(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ll(n).H_(e)}function SA(n,e){n.Ra.$e(e),Ll(n).Y_(e)}function Fy(n){n.Ra=new rD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ll(n).start(),n.Aa.aa()}function qy(n){return mo(n)&&!Ll(n).M_()&&n.Ta.size>0}function mo(n){return $e(n).Ia.size===0}function RA(n){n.Ra=void 0}async function ck(n){n.Aa.set("Online")}async function fk(n){n.Ta.forEach((e,t)=>{By(n,e)})}async function hk(n,e){RA(n),qy(n)?(n.Aa.la(e),Fy(n)):n.Aa.set("Unknown")}async function dk(n,e,t){if(n.Aa.set("Online"),e instanceof cA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ta.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ta.delete(d),a.Ra.removeTarget(d))}(n,e)}catch(i){Te(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jh(n,i)}else if(e instanceof Dh?n.Ra.Ye(e):e instanceof uA?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Be.min()))try{const i=await EA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Ra.Pt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ta.get(g);_&&l.Ta.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.Ta.get(m);if(!_)return;l.Ta.set(m,_.withResumeToken(bn.EMPTY_BYTE_STRING,_.snapshotVersion)),SA(l,m);const E=new Qs(_.target,m,g,_.sequenceNumber);By(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Te(io,"Failed to raise snapshot:",i),await Jh(n,i)}}async function Jh(n,e,t){if(!Ml(e))throw e;n.Ia.add(1),await Mc(n),n.Aa.set("Offline"),t||(t=()=>EA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(io,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Od(n)})}function xA(n,e){return e().catch(t=>Jh(n,t,e))}async function Dd(n){const e=$e(n),t=la(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Sy;for(;mk(e);)try{const a=await QD(e.localStore,i);if(a===null){e.Pa.length===0&&t.B_();break}i=a.batchId,pk(e,a)}catch(a){await Jh(e,a)}IA(e)&&CA(e)}function mk(n){return mo(n)&&n.Pa.length<10}function pk(n,e){n.Pa.push(e);const t=la(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function IA(n){return mo(n)&&!la(n).M_()&&n.Pa.length>0}function CA(n){la(n).start()}async function gk(n){la(n).na()}async function yk(n){const e=la(n);for(const t of n.Pa)e.X_(t.mutations)}async function _k(n,e,t){const i=n.Pa.shift(),a=ky.from(i,e,t);await xA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Dd(n)}async function vk(n,e){e&&la(n).Z_&&await async function(i,a){if(function(c){return tD(c)&&c!==te.ABORTED}(a.code)){const l=i.Pa.shift();la(i).N_(),await xA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Dd(i)}}(n,e),IA(n)&&CA(n)}async function c1(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Te(io,"RemoteStore received new credentials");const i=mo(t);t.Ia.add(3),await Mc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Od(t)}async function bk(n,e){const t=$e(n);e?(t.Ia.delete(2),await Od(t)):e||(t.Ia.add(2),await Mc(t),t.Aa.set("Unknown"))}function Ll(n){return n.Va||(n.Va=function(t,i,a){const l=$e(t);return l.ia(),new ik(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:ck.bind(null,n),e_:fk.bind(null,n),n_:hk.bind(null,n),J_:dk.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),qy(n)?Fy(n):n.Aa.set("Unknown")):(await n.Va.stop(),RA(n))})),n.Va}function la(n){return n.ma||(n.ma=function(t,i,a){const l=$e(t);return l.ia(),new sk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:gk.bind(null,n),n_:vk.bind(null,n),ea:yk.bind(null,n),ta:_k.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Dd(n)):(await n.ma.stop(),n.Pa.length>0&&(Te(io,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Hy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(n,e){if(is("AsyncQueue",`${e}: ${n}`),Ml(n))return new _e(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||De.comparator(t.key,i.key):(t,i)=>De.comparator(t.key,i.key),this.keyedMap=Wu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new _l;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.fa=new Dt(De.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ue(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Sl{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Sl(e,t,_l.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Tk{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const a=$e(t),l=a.queries;a.queries=h1(),l.forEach((c,d)=>{for(const m of d.wa)m.onError(i)})})(this,new _e(te.ABORTED,"Firestore shutting down"))}}function h1(){return new ho(n=>Xw(n),Sd)}async function NA(n,e){const t=$e(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.ba()&&(i=2):(l=new Ek,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(a,!0);break;case 1:l.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=$y(c,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Gy(t)}async function OA(n,e){const t=$e(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function wk(n,e){const t=$e(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.wa)d.Ca(a)&&(i=!0);c.ya=a}}i&&Gy(t)}function Ak(n,e,t){const i=$e(n),a=i.queries.get(e);if(a)for(const l of a.wa)l.onError(t);i.queries.delete(e)}function Gy(n){n.Da.forEach(e=>{e.next()})}var Pg,d1;(d1=Pg||(Pg={})).Fa="default",d1.Cache="cache";class DA{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class Sk{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=rt(),this.mutatedKeys=rt(),this.Xa=Zw(e),this.eu=new _l(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new f1,a=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,E)=>{const T=a.get(_),k=Rd(this.query,E)?E:null,O=!!T&&this.mutatedKeys.has(T.key),j=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;T&&k?T.data.isEqual(k.data)?O!==j&&(i.track({type:3,doc:k}),U=!0):this.iu(T,k)||(i.track({type:2,doc:k}),U=!0,(m&&this.Xa(k,m)>0||g&&this.Xa(k,g)<0)&&(d=!0)):!T&&k?(i.track({type:0,doc:k}),U=!0):T&&!k&&(i.track({type:1,doc:T}),U=!0,(m||g)&&(d=!0)),U&&(k?(c=c.add(k),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{eu:c,ru:i,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((_,E)=>function(k,O){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{At:U})}};return j(k)-j(O)}(_.type,E.type)||this.Xa(_.doc,E.doc)),this.su(i),a=a!=null&&a;const d=t&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,g=m!==this.Ya;return this.Ya=m,c.length!==0||g?{snapshot:new Sl(this.query,e.eu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new f1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=rt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new VA(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new kA(i))}),t}uu(e){this.Ha=e.qs,this.Za=rt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Sl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ky="SyncEngine";class Rk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class xk{constructor(e){this.key=e,this.lu=!1}}class Ik{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new ho(d=>Xw(d),Sd),this.Tu=new Map,this.Iu=new Set,this.du=new Dt(De.comparator),this.Eu=new Map,this.Au=new My,this.Ru={},this.Vu=new Map,this.mu=Al.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Ck(n,e,t=!0){const i=zA(n);let a;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await PA(i,e,t,!0),a}async function Nk(n,e){const t=zA(n);await PA(t,e,!0,!1)}async function PA(n,e,t,i){const a=await XD(n.localStore,li(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Ok(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&AA(n.remoteStore,a),d}async function Ok(n,e,t,i,a){n.gu=(E,T,k)=>async function(j,U,q,B){let G=U.view.nu(q);G.Ds&&(G=await s1(j.localStore,U.query,!1).then(({documents:C})=>U.view.nu(C,G)));const ee=B&&B.targetChanges.get(U.targetId),ae=B&&B.targetMismatches.get(U.targetId)!=null,ve=U.view.applyChanges(G,j.isPrimaryClient,ee,ae);return p1(j,U.targetId,ve._u),ve.snapshot}(n,E,T,k);const l=await s1(n.localStore,e,!0),c=new Sk(e,l.qs),d=c.nu(l.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);p1(n,t,g._u);const _=new Rk(e,t,c);return n.Pu.set(e,_),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function Dk(n,e,t){const i=$e(n),a=i.Pu.get(e),l=i.Tu.get(a.targetId);if(l.length>1)return i.Tu.set(a.targetId,l.filter(c=>!Sd(c,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await kg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&zy(i.remoteStore,a.targetId),Mg(i,a.targetId)}).catch(Pl)):(Mg(i,a.targetId),await kg(i.localStore,a.targetId,!0))}async function kk(n,e){const t=$e(n),i=t.Pu.get(e),a=t.Tu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),zy(t.remoteStore,i.targetId))}async function Vk(n,e,t){const i=Bk(n);try{const a=await function(c,d){const m=$e(c),g=Rt.now(),_=d.reduce((k,O)=>k.add(O.key),rt());let E,T;return m.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=ss(),j=rt();return m.Os.getEntries(k,_).next(U=>{O=U,O.forEach((q,B)=>{B.isValidDocument()||(j=j.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(k,O)).next(U=>{E=U;const q=[];for(const B of d){const G=XO(B,E.get(B.key).overlayedDocument);G!=null&&q.push(new ya(B.key,G,qw(G.value.mapValue),_r.exists(!0)))}return m.mutationQueue.addMutationBatch(k,g,q,d)}).next(U=>{T=U;const q=U.applyToLocalDocumentSet(E,j);return m.documentOverlayCache.saveOverlays(k,U.batchId,q)})}).then(()=>({batchId:T.batchId,changes:Jw(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Ru[c.currentUser.toKey()];g||(g=new Dt(Xe)),g=g.insert(d,m),c.Ru[c.currentUser.toKey()]=g}(i,a.batchId,t),await Lc(i,a.changes),await Dd(i.remoteStore)}catch(a){const l=$y(a,"Failed to persist write");t.reject(l)}}async function MA(n,e){const t=$e(n);try{const i=await KD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?mt(c.lu,14607):a.removedDocuments.size>0&&(mt(c.lu,42227),c.lu=!1))}),await Lc(t,i,e)}catch(i){await Pl(i)}}function m1(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Pu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=$e(c);m.onlineState=d;let g=!1;m.queries.forEach((_,E)=>{for(const T of E.wa)T.va(d)&&(g=!0)}),g&&Gy(m)}(i.eventManager,e),a.length&&i.hu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Pk(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Dt(De.comparator);c=c.insert(l,Sn.newNoDocument(l,Be.min()));const d=rt().add(l),m=new Cd(Be.min(),new Map,new Dt(Xe),c,d);await MA(i,m),i.du=i.du.remove(l),i.Eu.delete(e),Yy(i)}else await kg(i.localStore,e,!1).then(()=>Mg(i,e,t)).catch(Pl)}async function Mk(n,e){const t=$e(n),i=e.batch.batchId;try{const a=await GD(t.localStore,e);UA(t,i,null),LA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Lc(t,a)}catch(a){await Pl(a)}}async function Lk(n,e,t){const i=$e(n);try{const a=await function(c,d){const m=$e(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(E=>(mt(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(g,E))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(i.localStore,e);UA(i,e,t),LA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Lc(i,a)}catch(a){await Pl(a)}}function LA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function UA(n,e,t){const i=$e(n);let a=i.Ru[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Ru[i.currentUser.toKey()]=a}}function Mg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||jA(n,i)})}function jA(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(zy(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Yy(n))}function p1(n,e,t){for(const i of t)i instanceof kA?(n.Au.addReference(i.key,e),Uk(n,i)):i instanceof VA?(Te(Ky,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||jA(n,i.key)):Ue(19791,{yu:i})}function Uk(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Te(Ky,"New document in limbo: "+t),n.Iu.add(i),Yy(n))}function Yy(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new De(At.fromString(e)),i=n.mu.next();n.Eu.set(i,new xk(t)),n.du=n.du.insert(t,i),AA(n.remoteStore,new Qs(li(Cy(t.path)),i,"TargetPurposeLimboResolution",Ed.ue))}}async function Lc(n,e,t){const i=$e(n),a=[],l=[],c=[];i.Pu.isEmpty()||(i.Pu.forEach((d,m)=>{c.push(i.gu(m,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const E=g?!g.fromCache:(_=t?.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){a.push(g);const E=Uy.Es(m.targetId,g);l.push(E)}}))}),await Promise.all(c),i.hu.J_(a),await async function(m,g){const _=$e(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>le.forEach(g,T=>le.forEach(T.Is,k=>_.persistence.referenceDelegate.addReference(E,T.targetId,k)).next(()=>le.forEach(T.ds,k=>_.persistence.referenceDelegate.removeReference(E,T.targetId,k)))))}catch(E){if(!Ml(E))throw E;Te(jy,"Failed to update sequence numbers: "+E)}for(const E of g){const T=E.targetId;if(!E.fromCache){const k=_.Fs.get(T),O=k.snapshotVersion,j=k.withLastLimboFreeSnapshotVersion(O);_.Fs=_.Fs.insert(T,j)}}}(i.localStore,l))}async function jk(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Te(Ky,"User change. New user:",e.toKey());const i=await bA(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(d=>{d.forEach(m=>{m.reject(new _e(te.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lc(t,i.Bs)}}function zk(n,e){const t=$e(n),i=t.Eu.get(e);if(i&&i.lu)return rt().add(i.key);{let a=rt();const l=t.Tu.get(e);if(!l)return a;for(const c of l){const d=t.Pu.get(c);a=a.unionWith(d.view.tu)}return a}}function zA(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pk.bind(null,e),e.hu.J_=wk.bind(null,e.eventManager),e.hu.pu=Ak.bind(null,e.eventManager),e}function Bk(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lk.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return $D(this.persistence,new FD,e.initialUser,this.serializer)}Du(e){return new vA(Ly.Vi,this.serializer)}bu(e){return new WD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class Fk extends ed{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){mt(this.persistence.referenceDelegate instanceof Wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new xD(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new vA(i=>Wh.Vi(i,t),this.serializer)}}class Lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tk}()}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),i=function(l){return new rk(l)}(e.databaseInfo);return function(l,c,d,m){return new ok(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new uk(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>m1(this.syncEngine,t,0),function(){return l1.C()?new l1:new JD}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,_){const E=new Ik(a,l,c,d,m,g);return _&&(E.fu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=$e(a);Te(io,"RemoteStore shutting down."),l.Ia.add(5),await Mc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class qk{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=Ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Te(ua,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Te(ua,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=$y(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ag(n,e){n.asyncQueue.verifyOperationInProgress(),Te(ua,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await bA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>{ra("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{ra("Terminating Firestore due to IndexedDb database deletion failed",a)})}),n._offlineComponents=e}async function g1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Hk(n);Te(ua,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>c1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>c1(e.remoteStore,a)),n._onlineComponents=e}async function Hk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(ua,"Using user provided OfflineComponentProvider");try{await ag(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),await ag(n,new ed)}}else Te(ua,"Using default OfflineComponentProvider"),await ag(n,new Fk(void 0));return n._offlineComponents}async function FA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(ua,"Using user provided OnlineComponentProvider"),await g1(n,n._uninitializedComponentsProvider._online)):(Te(ua,"Using default OnlineComponentProvider"),await g1(n,new Lg))),n._onlineComponents}function $k(n){return FA(n).then(e=>e.syncEngine)}async function qA(n){const e=await FA(n),t=e.eventManager;return t.onListen=Ck.bind(null,e.syncEngine),t.onUnlisten=Dk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kk.bind(null,e.syncEngine),t}function Gk(n,e,t={}){const i=new es;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new BA({next:T=>{_.Ou(),c.enqueueAndForget(()=>OA(l,E));const k=T.docs.has(d);!k&&T.fromCache?g.reject(new _e(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&m&&m.source==="server"?g.reject(new _e(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new DA(Cy(d.path),_,{includeMetadataChanges:!0,ka:!0});return NA(l,E)}(await qA(n),n.asyncQueue,e,t,i)),i.promise}function Kk(n,e,t={}){const i=new es;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new BA({next:T=>{_.Ou(),c.enqueueAndForget(()=>OA(l,E)),T.fromCache&&m.source==="server"?g.reject(new _e(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),E=new DA(d,_,{includeMetadataChanges:!0,ka:!0});return NA(l,E)}(await qA(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",_1=!0;class v1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=_1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SD)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tO;switch(i.type){case"firstParty":return new sO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=y1.get(t);i&&(Te("ComponentProvider","Removing Datastore"),y1.delete(t),i.terminate())}(this),Promise.resolve()}}function Yk(n,e,t,i={}){var a;n=Vr(n,kd);const l=da(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(uy(`https://${m}`),cy("Firestore",!0)),c.host!==$A&&c.host!==m&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Ja(g,d)&&(n._setSettings(g),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=An.MOCK_USER;else{_=MT(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new An(T)}n._authCredentials=new nO(new Nw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class Ft{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(kc(t,Ft._jsonSchema))return new Ft(e,i||null,new De(At.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Wt("string",Ft._jsonSchemaVersion),referencePath:Wt("string")};class ea extends ls{constructor(e,t,i){super(e,t,Cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new De(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function Ug(n,e,...t){if(n=Nt(n),Dw("collection","path",e),n instanceof kd){const i=At.fromString(e,...t);return kE(i),new ea(n,null,i)}{if(!(n instanceof Ft||n instanceof ea))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return kE(i),new ea(n.firestore,null,i)}}function ci(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=Ay.newId()),Dw("doc","path",e),n instanceof kd){const i=At.fromString(e,...t);return DE(i),new Ft(n,null,new De(i))}{if(!(n instanceof Ft||n instanceof ea))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(At.fromString(e,...t));return DE(i),new Ft(n.firestore,n instanceof ea?n.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="AsyncQueue";class E1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new TA(this,"async_queue_retry"),this.oc=()=>{const i=sg();i&&Te(b1,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=sg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=sg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new es;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ml(e))throw e;Te(b1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,is("INTERNAL UNHANDLED ERROR: ",T1(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=Hy.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&Ue(47125,{hc:T1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function T1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class po extends kd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new E1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E1(e),this._firestoreClient=void 0,await e}}}function Qk(n,e){const t=typeof n=="object"?n:dy(),i=typeof n=="string"?n:$h,a=gd(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=kT("firestore");l&&Yk(a,...l)}return a}function Qy(n){if(n._terminated)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Xk(n),n._firestoreClient}function Xk(n){var e,t,i;const a=n._freezeSettings(),l=function(d,m,g,_){return new EO(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,HA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new qk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d?._online.build();return{_offline:d?._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(bn.fromBase64String(e))}catch(t){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Wt("string",gr._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(kc(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Wt("string",fi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new hi(e.vectorValues);throw new _e(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Wt("string",hi._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=/^__.*__$/;class Wk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class GA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ec:n})}}class Zy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Zy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:i,mc:!1});return a.fc(e),a}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:i,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return td(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(KA(this.Ec)&&Zk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Jk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Nd(e)}Dc(e,t,i,a=!1){return new Zy({Ec:e,methodName:t,bc:i,path:vn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uc(n){const e=n._freezeSettings(),t=Nd(n._databaseId);return new Jk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YA(n,e,t,i,a,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,a);Wy("Data must be an object, but it was:",c,i);const d=XA(i,c);let m,g;if(l.merge)m=new Jn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const T=jg(e,E,t);if(!c.contains(T))throw new _e(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);WA(_,T)||_.push(T)}m=new Jn(_),g=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,g=c.fieldTransforms;return new Wk(new Bn(d),m,g)}class Pd extends Xy{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pd}}function e3(n,e,t,i){const a=n.Dc(1,e,t);Wy("Data must be an object, but it was:",a,i);const l=[],c=Bn.empty();ga(i,(m,g)=>{const _=Jy(e,m,t);g=Nt(g);const E=a.gc(_);if(g instanceof Pd)l.push(_);else{const T=jc(g,E);T!=null&&(l.push(_),c.set(_,T))}});const d=new Jn(l);return new GA(c,d,a.fieldTransforms)}function t3(n,e,t,i,a,l){const c=n.Dc(1,e,t),d=[jg(e,i,t)],m=[a];if(l.length%2!=0)throw new _e(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(jg(e,l[T])),m.push(l[T+1]);const g=[],_=Bn.empty();for(let T=d.length-1;T>=0;--T)if(!WA(g,d[T])){const k=d[T];let O=m[T];O=Nt(O);const j=c.gc(k);if(O instanceof Pd)g.push(k);else{const U=jc(O,j);U!=null&&(g.push(k),_.set(k,U))}}const E=new Jn(g);return new GA(_,E,c.fieldTransforms)}function QA(n,e,t,i=!1){return jc(t,n.Dc(i?4:3,e))}function jc(n,e){if(ZA(n=Nt(n)))return Wy("Unsupported field value:",e,n),XA(n,e);if(n instanceof Xy)return function(i,a){if(!KA(a.Ec))throw a.wc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=jc(d,a.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return HO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Rt.fromDate(i);return{timestampValue:Zh(a.serializer,l)}}if(i instanceof Rt){const l=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zh(a.serializer,l)}}if(i instanceof fi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gr)return{bytesValue:fA(a.serializer,i._byteString)};if(i instanceof Ft){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Py(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof hi)return function(c,d){return{mapValue:{fields:{[Bw]:{stringValue:Fw},[Gh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Oy(d.serializer,g)})}}}}}}(i,a);throw a.wc(`Unsupported field value: ${bd(i)}`)}(n,e)}function XA(n,e){const t={};return Pw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(n,(i,a)=>{const l=jc(a,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function ZA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof fi||n instanceof gr||n instanceof Ft||n instanceof Xy||n instanceof hi)}function Wy(n,e,t){if(!ZA(t)||!kw(t)){const i=bd(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function jg(n,e,t){if((e=Nt(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return Jy(n,e);throw td("Field path arguments must be of type string or ",n,!1,void 0,t)}const n3=new RegExp("[~\\*/\\[\\]]");function Jy(n,e,t){if(e.search(n3)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function td(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new _e(te.INVALID_ARGUMENT,d+n+m)}function WA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(t_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r3 extends e_{data(){return super.data()}}function t_(n,e){return typeof e=="string"?Jy(n,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class Md extends n_{}function w1(n,e,...t){let i=[];e instanceof n_&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof i_).length,d=l.filter(m=>m instanceof r_).length;if(c>1||c>0&&d>0)throw new _e(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class r_ extends Md{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new r_(e,t,i)}_apply(e){const t=this._parse(e);return JA(e._query,t),new ls(e.firestore,e.converter,Ig(e._query,t))}_parse(e){const t=Uc(e.firestore);return function(l,c,d,m,g,_,E){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){x1(E,_);const O=[];for(const j of E)O.push(R1(m,l,j));T={arrayValue:{values:O}}}else T=R1(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||x1(E,_),T=QA(d,c,E,_==="in"||_==="not-in");return Zt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class i_ extends n_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new i_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)JA(c,m),c=Ig(c,m)}(e._query,t),new ls(e.firestore,e.converter,Ig(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s_ extends Md{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new s_(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(l,c)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new fo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function A1(n,e="asc"){const t=e,i=t_("orderBy",n);return s_._create(i,t)}class a_ extends Md{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new a_(e,t,i)}_apply(e){return new ls(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function S1(n){return a_._create("limit",n,"F")}class o_ extends Md{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new o_(e,t,i)}_apply(e){const t=a3(e,this.type,this._docOrFields,this._inclusive);return new ls(e.firestore,e.converter,function(a,l){return new fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(e._query,t))}}function s3(...n){return o_._create("startAfter",n,!1)}function a3(n,e,t,i){if(t[0]=Nt(t[0]),t[0]instanceof e_)return function(l,c,d,m,g){if(!m)throw new _e(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const E of yl(l))if(E.field.isKeyField())_.push(Kh(c,m.key));else{const T=m.data.field(E.field);if(wd(T))throw new _e(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const k=E.field.canonicalString();throw new _e(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}_.push(T)}return new wl(_,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Uc(n.firestore);return function(c,d,m,g,_,E){const T=c.explicitOrderBy;if(_.length>T.length)throw new _e(te.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let O=0;O<_.length;O++){const j=_[O];if(T[O].field.isKeyField()){if(typeof j!="string")throw new _e(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof j}`);if(!Ny(c)&&j.indexOf("/")!==-1)throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${j}' contains a slash.`);const U=c.path.child(At.fromString(j));if(!De.isDocumentKey(U))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const q=new De(U);k.push(Kh(d,q))}else{const U=QA(m,g,j);k.push(U)}}return new wl(k,E)}(n._query,n.firestore._databaseId,a,e,t,i)}}function R1(n,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new _e(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ny(e)&&t.indexOf("/")!==-1)throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(At.fromString(t));if(!De.isDocumentKey(i))throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kh(n,new De(i))}if(t instanceof Ft)return Kh(n,t._key);throw new _e(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(t)}.`)}function x1(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JA(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class o3{convertValue(e,t="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ga(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Gh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Bt(c.doubleValue));return new hi(l)}convertGeoPoint(e){return new fi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ad(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=sa(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=At.fromString(e);mt(yA(i),9688,{name:e});const a=new gc(i.get(1),i.get(3)),l=new De(i.popFirst(5));return a.isEqual(t)||is(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends e_{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(t_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Wt("string",Xa._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class kh extends Xa{data(e={}){return super.data(e)}}class vl{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ec(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new kh(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new kh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ec(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new kh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ec(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:l3(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(n){n=Vr(n,Ft);const e=Vr(n.firestore,po);return Gk(Qy(e),n._key).then(t=>h3(e,n,t))}vl._jsonSchemaVersion="firestore/querySnapshot/1.0",vl._jsonSchema={type:Wt("string",vl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class tS extends o3{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function u3(n){n=Vr(n,ls);const e=Vr(n.firestore,po),t=Qy(e),i=new tS(e);return i3(n._query),Kk(t,n._query).then(a=>new vl(e,i,n,a))}function zg(n,e,t){n=Vr(n,Ft);const i=Vr(n.firestore,po),a=eS(n.converter,e,t);return Ud(i,[YA(Uc(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,_r.none())])}function c3(n,e,t,...i){n=Vr(n,Ft);const a=Vr(n.firestore,po),l=Uc(a);let c;return c=typeof(e=Nt(e))=="string"||e instanceof Vd?t3(l,"updateDoc",n._key,e,t,i):e3(l,"updateDoc",n._key,e),Ud(a,[c.toMutation(n._key,_r.exists(!0))])}function f3(n){return Ud(Vr(n.firestore,po),[new Dy(n._key,_r.none())])}function nS(n,e){const t=Vr(n.firestore,po),i=ci(n),a=eS(n.converter,e);return Ud(t,[YA(Uc(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,_r.exists(!1))]).then(()=>i)}function Ud(n,e){return function(i,a){const l=new es;return i.asyncQueue.enqueueAndForget(async()=>Vk(await $k(i),a,l)),l.promise}(Qy(n),e)}function h3(n,e,t){const i=t.docs.get(e._key),a=new tS(n);return new Xa(n,a,e._key,i,new ec(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Vl=a})(lo),eo(new na("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new po(new rO(i.getProvider("auth-internal")),new aO(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),si(xE,IE,e),si(xE,IE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebasestorage.googleapis.com",iS="storageBucket",d3=2*60*1e3,m3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends yi{constructor(e,t,i=0){super(og(e),`Firebase Storage: ${t} (${og(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function og(n){return"storage/"+n}function l_(){const n="An unknown error occurred, please check the error payload for server response.";return new Mt(Pt.UNKNOWN,n)}function p3(n){return new Mt(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function g3(n){return new Mt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y3(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Pt.UNAUTHENTICATED,n)}function _3(){return new Mt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function v3(n){return new Mt(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function b3(){return new Mt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E3(){return new Mt(Pt.CANCELED,"User canceled the upload/download.")}function T3(n){return new Mt(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function w3(n){return new Mt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function A3(){return new Mt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iS+"' property when initializing the app?")}function S3(){return new Mt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function R3(){return new Mt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function x3(n){return new Mt(Pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bg(n){return new Mt(Pt.INVALID_ARGUMENT,n)}function sS(){return new Mt(Pt.APP_DELETED,"The Firebase app was deleted.")}function I3(n){return new Mt(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oc(n,e){return new Mt(Pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Gu(n){throw new Mt(Pt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=er.makeFromUrl(e,t)}catch{return new er(e,"")}if(i.path==="")return i;throw w3(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(ee){ee.path_=decodeURIComponent(ee.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",k=new RegExp(`^https?://${E}/${_}/b/${a}/o${T}`,"i"),O={bucket:1,path:3},j=t===rS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",q=new RegExp(`^https?://${j}/${a}/${U}`,"i"),G=[{regex:d,indices:m,postModify:l},{regex:k,indices:O,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let ee=0;ee<G.length;ee++){const ae=G[ee],ve=ae.regex.exec(e);if(ve){const C=ve[ae.indices.bucket];let S=ve[ae.indices.path];S||(S=""),i=new er(C,S),ae.postModify(i);break}}if(i==null)throw T3(e);return i}}class C3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function _(...U){g||(g=!0,e.apply(null,U))}function E(U){a=setTimeout(()=>{a=null,n(k,m())},U)}function T(){l&&clearTimeout(l)}function k(U,...q){if(g){T();return}if(U){T(),_.call(null,U,...q);return}if(m()||c){T(),_.call(null,U,...q);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,E(G)}let O=!1;function j(U){O||(O=!0,T(),!g&&(a!==null?(U||(d=2),clearTimeout(a),E(0)):U||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,j(!0)},t),j}function O3(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n){return n!==void 0}function k3(n){return typeof n=="object"&&!Array.isArray(n)}function u_(n){return typeof n=="string"||n instanceof String}function I1(n){return c_()&&n instanceof Blob}function c_(){return typeof Blob<"u"}function C1(n,e,t,i){if(i<e)throw Bg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Bg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function aS(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Za;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Za||(Za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,t,i,a,l,c,d,m,g,_,E,T=!0,k=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=T,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,j)=>{this.resolve_=O,this.reject_=j,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new vh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Za.NO_ERROR,m=l.getStatus();if(!d||V3(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Za.ABORT;i(!1,new vh(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new vh(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());D3(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=l_();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?sS():E3();c(m)}else{const m=b3();c(m)}};this.canceled_?t(!1,new vh(!1,null,!0)):this.backoffId_=N3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function M3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function L3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function U3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function j3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function z3(n,e,t,i,a,l,c=!0,d=!1){const m=aS(n.urlParams),g=n.url+m,_=Object.assign({},n.headers);return U3(_,e),M3(_,t),L3(_,l),j3(_,i),new P3(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F3(...n){const e=B3();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(c_())return new Blob(n);throw new Mt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function q3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(n){if(typeof atob>"u")throw x3("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,t){this.data=e,this.contentType=t||null}}function $3(n,e){switch(n){case ri.RAW:return new lg(oS(e));case ri.BASE64:case ri.BASE64URL:return new lg(lS(n,e));case ri.DATA_URL:return new lg(K3(e),Y3(e))}throw l_()}function oS(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function G3(n){let e;try{e=decodeURIComponent(n)}catch{throw oc(ri.DATA_URL,"Malformed data URL.")}return oS(e)}function lS(n,e){switch(n){case ri.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw oc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw oc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=H3(e)}catch(a){throw a.message.includes("polyfill")?a:oc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class uS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw oc(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=Q3(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function K3(n){const e=new uS(n);return e.base64?lS(ri.BASE64,e.rest):G3(e.rest)}function Y3(n){return new uS(n).contentType}function Q3(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){let i=0,a="";I1(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(I1(this.data_)){const i=this.data_,a=q3(i,e,t);return a===null?null:new Ks(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ks(i,!0)}}static getBlob(...e){if(c_()){const t=e.map(i=>i instanceof Ks?i.data_:i);return new Ks(F3.apply(null,t))}else{const t=e.map(c=>u_(c)?$3(ri.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Ks(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n){let e;try{e=JSON.parse(n)}catch{return null}return k3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Z3(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function fS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(n,e){return e}class On{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||W3}}let bh=null;function J3(n){return!u_(n)||n.length<2?n:fS(n)}function hS(){if(bh)return bh;const n=[];n.push(new On("bucket")),n.push(new On("generation")),n.push(new On("metageneration")),n.push(new On("name","fullPath",!0));function e(l,c){return J3(c)}const t=new On("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new On("size");return a.xform=i,n.push(a),n.push(new On("timeCreated")),n.push(new On("updated")),n.push(new On("md5Hash",null,!0)),n.push(new On("cacheControl",null,!0)),n.push(new On("contentDisposition",null,!0)),n.push(new On("contentEncoding",null,!0)),n.push(new On("contentLanguage",null,!0)),n.push(new On("contentType",null,!0)),n.push(new On("metadata","customMetadata",!0)),bh=n,bh}function e6(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new er(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function t6(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return e6(i,n),i}function dS(n,e,t){const i=cS(e);return i===null?null:t6(n,i,t)}function n6(n,e,t,i){const a=cS(e);if(a===null||!u_(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const _=n.bucket,E=n.fullPath,T="/b/"+c(_)+"/o/"+c(E),k=jd(T,t,i),O=aS({alt:"media",token:g});return k+O})[0]}function r6(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class f_{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n){if(!n)throw l_()}function i6(n,e){function t(i,a){const l=dS(n,a,e);return mS(l!==null),l}return t}function s6(n,e){function t(i,a){const l=dS(n,a,e);return mS(l!==null),n6(l,a,n.host,n._protocol)}return t}function pS(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=_3():a=y3():t.getStatus()===402?a=g3(n.bucket):t.getStatus()===403?a=v3(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function gS(n){const e=pS(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=p3(n.path)),l.serverResponse=a.serverResponse,l}return t}function a6(n,e,t){const i=e.fullServerUrl(),a=jd(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new f_(a,l,s6(n,t),c);return d.errorHandler=gS(e),d}function o6(n,e){const t=e.fullServerUrl(),i=jd(t,n.host,n._protocol),a="DELETE",l=n.maxOperationRetryTime;function c(m,g){}const d=new f_(i,a,c,l);return d.successCodes=[200,204],d.errorHandler=gS(e),d}function l6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function u6(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=l6(null,e)),i}function c6(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let G="";for(let ee=0;ee<2;ee++)G=G+Math.random().toString().slice(2);return G}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const g=u6(e,i,a),_=r6(g,t),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+m+"--",k=Ks.getBlob(E,i,T);if(k===null)throw S3();const O={name:g.fullPath},j=jd(l,n.host,n._protocol),U="POST",q=n.maxUploadRetryTime,B=new f_(j,U,i6(n,t),q);return B.urlParams=O,B.headers=c,B.body=k.uploadData(),B.errorHandler=pS(e),B}class f6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw Gu("cannot .send() more than once");if(da(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class h6 extends f6{initXhr(){this.xhr_.responseType="text"}}function h_(){return new h6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,t){this._service=e,t instanceof er?this._location=t:this._location=er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new so(e,t)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fS(this._location.path)}get storage(){return this._service}get parent(){const e=X3(this._location.path);if(e===null)return null;const t=new er(this._location.bucket,e);return new so(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw I3(e)}}function d6(n,e,t){n._throwIfRoot("uploadBytes");const i=c6(n.storage,n._location,hS(),new Ks(e,!0),t);return n.storage.makeRequestWithTokens(i,h_).then(a=>({metadata:a,ref:n}))}function m6(n){n._throwIfRoot("getDownloadURL");const e=a6(n.storage,n._location,hS());return n.storage.makeRequestWithTokens(e,h_).then(t=>{if(t===null)throw R3();return t})}function p6(n){n._throwIfRoot("deleteObject");const e=o6(n.storage,n._location);return n.storage.makeRequestWithTokens(e,h_)}function g6(n,e){const t=Z3(n._location.path,e),i=new er(n._location.bucket,t);return new so(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){return/^[A-Za-z]+:\/\//.test(n)}function _6(n,e){return new so(n,e)}function yS(n,e){if(n instanceof d_){const t=n;if(t._bucket==null)throw A3();const i=new so(t,t._bucket);return e!=null?yS(i,e):i}else return e!==void 0?g6(n,e):n}function v6(n,e){if(e&&y6(e)){if(n instanceof d_)return _6(n,e);throw Bg("To use ref(service, url), the first argument must be a Storage instance.")}else return yS(n,e)}function N1(n,e){const t=e?.[iS];return t==null?null:er.makeFromBucketSpec(t,n)}function b6(n,e,t,i={}){n.host=`${e}:${t}`;const a=da(e);a&&(uy(`https://${n.host}/b`),cy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:MT(l,n.app.options.projectId))}class d_{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=rS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d3,this._maxUploadRetryTime=m3,this._requests=new Set,a!=null?this._bucket=er.makeFromBucketSpec(a,this._host):this._bucket=N1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=N1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new so(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new C3(sS());{const c=z3(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const O1="@firebase/storage",D1="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="storage";function vS(n,e,t){return n=Nt(n),d6(n,e,t)}function bS(n){return n=Nt(n),m6(n)}function E6(n){return n=Nt(n),p6(n)}function m_(n,e){return n=Nt(n),v6(n,e)}function T6(n=dy(),e){n=Nt(n);const i=gd(n,_S).getImmediate({identifier:e}),a=kT("storage");return a&&w6(i,...a),i}function w6(n,e,t,i={}){b6(n,e,t,i)}function A6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new d_(t,i,a,e,lo)}function S6(){eo(new na(_S,A6,"PUBLIC").setMultipleInstances(!0)),si(O1,D1,""),si(O1,D1,"esm2017")}S6();const R6={apiKey:"AIzaSyDKrUdXJAper3UwZ3Pql_Q5v9Nzp6zTbRY",authDomain:"crm-facturas.firebaseapp.com",projectId:"crm-facturas",storageBucket:"crm-facturas.firebasestorage.app",messagingSenderId:"1092535786069",appId:"1:1092535786069:web:a874faab3b2e0690f692dc"},p_=jT(R6),pi=K4(p_),yr=Qk(p_),g_=T6(p_),x6=({children:n})=>{const[e,t]=co(pi);return t?x.jsx("div",{children:"Loading..."}):e?n:x.jsx(TT,{to:"/login"})},I6=({children:n})=>{const[e,t]=co(pi);return t?x.jsx("div",{children:"Loading..."}):e?x.jsx(TT,{to:"/"}):n};var ES={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},k1=Ge.createContext&&Ge.createContext(ES),C6=["attr","size","title"];function N6(n,e){if(n==null)return{};var t=O6(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function O6(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function nd(){return nd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nd.apply(this,arguments)}function V1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function rd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(t),!0).forEach(function(i){D6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function D6(n,e,t){return e=k6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k6(n){var e=V6(n,"string");return typeof e=="symbol"?e:e+""}function V6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TS(n){return n&&n.map((e,t)=>Ge.createElement(e.tag,rd({key:t},e.attr),TS(e.child)))}function vr(n){return e=>Ge.createElement(P6,nd({attr:rd({},n.attr)},e),TS(n.child))}function P6(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=N6(n,C6),d=a||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),Ge.createElement("svg",nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:rd(rd({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ge.createElement("title",null,l),n.children)};return k1!==void 0?Ge.createElement(k1.Consumer,null,t=>e(t)):e(ES)}function M6(n){return vr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function wS(n){return vr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(n)}function L6(n){return vr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(n)}function U6(n){return vr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function j6(n){return vr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function z6(n){return vr({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function B6(n){return vr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(n)}function F6(n){return vr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function q6(n){return vr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function zd(n){return vr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function H6(n){return vr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Fg(n){return vr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const $6=()=>{const[n]=co(pi),[e,t]=F.useState(!1),i=()=>{MN(pi),t(!1)},a=()=>{t(!e)};return x.jsxs("header",{className:"bg-blue-600 text-white p-4 shadow-md sticky top-0 z-50",children:[x.jsxs("nav",{className:"container mx-auto flex justify-between items-center",children:[x.jsx("h1",{className:"text-2xl font-bold z-50",children:x.jsx(Zn,{to:"/",className:"text-white no-underline",onClick:()=>t(!1),children:"CRM Facturas"})}),x.jsx("div",{className:"md:hidden z-50",children:x.jsx("button",{onClick:a,className:"text-white focus:outline-none",children:e?x.jsx(zd,{size:24}):x.jsx(M6,{size:24})})}),x.jsx("div",{className:"hidden md:flex space-x-4 items-center",children:n?x.jsxs(x.Fragment,{children:[x.jsx(Zn,{to:"/",className:"text-white hover:text-blue-200 transition-colors duration-200",children:"Dashboard"}),x.jsx(Zn,{to:"/profile",className:"text-white hover:text-blue-200 transition-colors duration-200",children:"Perfil"}),x.jsx(Zn,{to:"/seals",className:"text-white hover:text-blue-200 transition-colors duration-200",children:"Sellos"}),x.jsx("button",{onClick:i,className:"text-white hover:text-blue-200 transition-colors duration-200 focus:outline-none",children:"Cerrar Sesin"})]}):x.jsxs(x.Fragment,{children:[x.jsx(Zn,{to:"/login",className:"text-white hover:text-blue-200 transition-colors duration-200",children:"Login"}),x.jsx(Zn,{to:"/register",className:"text-white hover:text-blue-200 transition-colors duration-200",children:"Registro"})]})})]}),x.jsx("div",{className:`fixed inset-0 bg-blue-700 z-40 transform ${e?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out md:hidden`,children:x.jsx("div",{className:"flex flex-col items-center justify-center h-full space-y-6",children:n?x.jsxs(x.Fragment,{children:[x.jsx(Zn,{to:"/",className:"text-white text-2xl hover:text-blue-200 transition-colors duration-200",onClick:a,children:"Dashboard"}),x.jsx(Zn,{to:"/profile",className:"text-white text-2xl hover:text-blue-200 transition-colors duration-200",onClick:a,children:"Perfil"}),x.jsx(Zn,{to:"/seals",className:"text-white text-2xl hover:text-blue-200 transition-colors duration-200",onClick:a,children:"Sellos"}),x.jsx("button",{onClick:i,className:"text-white text-2xl hover:text-blue-200 transition-colors duration-200 focus:outline-none",children:"Cerrar Sesin"})]}):x.jsxs(x.Fragment,{children:[x.jsx(Zn,{to:"/login",className:"text-white text-2xl hover:text-blue-200 transition-colors duration-200",onClick:a,children:"Login"}),x.jsx(Zn,{to:"/register",className:"text-white text-2xl hover:text-blue-200 transition-colors duration-200",onClick:a,children:"Registro"})]})})})]})},G6=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[a,l]=F.useState(""),c=dd();return{email:n,setEmail:e,password:t,setPassword:i,error:a,handleLogin:async m=>{m.preventDefault(),l("");try{await DN(pi,n,t),c("/")}catch(g){l(g.message)}}}},K6=({email:n,setEmail:e,password:t,setPassword:i,error:a,handleLogin:l})=>x.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[x.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Login"}),x.jsxs("form",{onSubmit:l,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),x.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:n,onChange:c=>e(c.target.value),required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Contrasea"}),x.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:t,onChange:c=>i(c.target.value),required:!0})]}),a&&x.jsx("p",{className:"text-red-500 text-sm text-center",children:a}),x.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"Iniciar Sesin"})]})]}),Y6=()=>{const{email:n,setEmail:e,password:t,setPassword:i,error:a,handleLogin:l}=G6();return x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsx(K6,{email:n,setEmail:e,password:t,setPassword:i,error:a,handleLogin:l})})},Q6=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[a,l]=F.useState(""),c=dd();return{email:n,setEmail:e,password:t,setPassword:i,error:a,handleRegister:async m=>{m.preventDefault(),l("");try{const _=(await ON(pi,n,t)).user;await zg(ci(yr,"users",_.uid),{email:_.email,createdAt:new Date}),await nS(Ug(yr,"users",_.uid,"seals"),{name:"Sello de Ejemplo",description:"Este es un sello de ejemplo para ayudarte a empezar. Puedes editarlo o eliminarlo.",imageUrl:"https://firebasestorage.googleapis.com/v0/b/crm-facturas.firebasestorage.app/o/pictures%2Fcamion-moderno.png?alt=media&token=9396cd43-a15b-473b-a4a4-3e071513e6e7",userAddress:"Calle Falsa 123",userCity:"Springfield",userCountry:"Espaa",userTaxId:"X00000000Y",userName:"Juan",userLastName:"Prez"}),c("/")}catch(g){l(g.message)}}}},X6=({email:n,setEmail:e,password:t,setPassword:i,error:a,handleRegister:l})=>x.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-sm",children:[x.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"Registro"}),x.jsxs("form",{onSubmit:l,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),x.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:n,onChange:c=>e(c.target.value),required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Contrasea"}),x.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:t,onChange:c=>i(c.target.value),required:!0})]}),a&&x.jsx("p",{className:"text-red-500 text-sm text-center",children:a}),x.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"Registrarse"})]})]}),Z6=()=>{const{email:n,setEmail:e,password:t,setPassword:i,error:a,handleRegister:l}=Q6();return x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsx(X6,{email:n,setEmail:e,password:t,setPassword:i,error:a,handleRegister:l})})},W6=()=>{const[n,e]=co(pi),[t,i]=F.useState(null),[a,l]=F.useState(!0);return F.useEffect(()=>{(async()=>{if(n)try{const d=ci(yr,"users",n.uid),m=await Ld(d);m.exists()?i(m.data().displayName||n.email):i(n.email)}catch(d){console.error("Error fetching user profile for dashboard:",d),i(n.email)}finally{l(!1)}else e||l(!1)})()},[n,e]),{user:n,loadingAuth:e,displayName:t,loadingProfile:a}},J6=({children:n,displayName:e,user:t})=>x.jsxs("section",{className:"container mx-auto mt-8 p-4",children:[x.jsxs("h1",{className:"text-3xl font-bold mb-4",children:["Bienvenido, ",e||t?.email||"Usuario","!"]}),x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Dashboard"}),n]}),eV=()=>{const{user:n,loadingAuth:e,displayName:t,loadingProfile:i}=W6();return e||i?x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):x.jsx(J6,{displayName:t,user:n,children:x.jsx("p",{children:"Aqu ir el contenido del dashboard"})})},tV=()=>{const[n,e,t]=co(pi),[i,a]=F.useState(""),[l,c]=F.useState(""),[d,m]=F.useState(""),[g,_]=F.useState(""),[E,T]=F.useState(""),[k,O]=F.useState(""),[j,U]=F.useState(""),[q,B]=F.useState(null),[G,ee]=F.useState(""),[ae,ve]=F.useState("EUR"),[C,S]=F.useState(21),[R,N]=F.useState(0),[M,P]=F.useState(null),[I,Ve]=F.useState(!0),[ze,$]=F.useState(null),[ue,fe]=F.useState(null),[Pe,V]=F.useState(!1),ie=()=>{const Ae="ES",Ie=Math.floor(Math.random()*99).toString().padStart(2,"0"),ft=Array.from({length:20},()=>Math.floor(Math.random()*10)).join("");return`${Ae}${Ie}${ft}`};return F.useEffect(()=>{(async()=>{if(n)try{const Ie=ci(yr,"users",n.uid),ft=await Ld(Ie);if(ft.exists()){const Fe=ft.data();a(Fe.userName||""),c(Fe.userLastName||""),m(Fe.companyName||""),_(Fe.taxId||""),T(Fe.address||""),O(Fe.city||""),U(Fe.country||""),B(Fe.photoURL||null),ee(Fe.iban||ie()),ve(Fe.defaultCurrency||"EUR"),S(Fe.defaultIVA||21),N(Fe.defaultIRPF||0)}}catch(Ie){$("Error al cargar el perfil."),console.error("Error fetching user profile:",Ie)}finally{Ve(!1)}else e||Ve(!1)})()},[n,e]),{user:n,loadingAuth:e,errorAuth:t,userName:i,setUserName:a,userLastName:l,setUserLastName:c,companyName:d,setCompanyName:m,taxId:g,setTaxId:_,address:E,setAddress:T,city:k,setCity:O,country:j,setCountry:U,photoURL:q,setPhotoURL:B,iban:G,setIban:ee,defaultCurrency:ae,setDefaultCurrency:ve,defaultIVA:C,setDefaultIVA:S,defaultIRPF:R,setDefaultIRPF:N,selectedFile:M,setSelectedFile:P,loadingProfile:I,setLoadingProfile:Ve,errorProfile:ze,setErrorProfile:$,successMessage:ue,setSuccessMessage:fe,uploadingPhoto:Pe,setUploadingPhoto:V,handleFileChange:Ae=>{Ae.target.files&&Ae.target.files[0]&&(P(Ae.target.files[0]),console.log("Archivo seleccionado para subir:",Ae.target.files[0].name))},handleUploadPhoto:async()=>{if(!n){$("No hay usuario autenticado para subir la foto."),console.error("Error: No user authenticated for photo upload.");return}if(!M){$("Por favor, selecciona un archivo para subir."),console.error("Error: No file selected for upload.");return}V(!0),$(null),fe(null),console.log("Iniciando subida de foto para UID:",n.uid,"Archivo:",M.name);try{const Ae=m_(g_,`profile_pictures/${n.uid}/${M.name}`);console.log("Referencia de Storage creada:",Ae.fullPath);const Ie=await vS(Ae,M);console.log("Archivo subido, snapshot:",Ie);const ft=await bS(Ie.ref);B(ft);const Fe=ci(yr,"users",n.uid);await zg(Fe,{photoURL:ft},{merge:!0}),fe("Foto de perfil actualizada con xito!"),console.log("Foto subida y URL guardada en Firestore:",ft)}catch(Ae){Ae instanceof Error?($(`Error al subir la foto de perfil: ${Ae.message}`),console.error("Error detallado al subir foto:",Ae)):typeof Ae=="object"&&Ae!==null&&"code"in Ae?($(`Error al subir la foto de perfil: ${Ae.code||"Error desconocido"}`),console.error("Error detallado al subir foto:",Ae)):($("Error al subir la foto de perfil: Error desconocido"),console.error("Error detallado al subir foto:",Ae))}finally{V(!1)}},handleUpdateProfile:async Ae=>{if(Ae.preventDefault(),!!n){Ve(!0),$(null),fe(null);try{const Ie=ci(yr,"users",n.uid);await zg(Ie,{userName:i,userLastName:l,companyName:d,taxId:g,address:E,city:k,country:j,photoURL:q,iban:G,defaultCurrency:ae,defaultIVA:C,defaultIRPF:R},{merge:!0}),fe("Perfil actualizado con xito!")}catch(Ie){$("Error al actualizar el perfil."),console.error("Error updating user profile:",Ie)}finally{Ve(!1)}}}}},nV=({photoURL:n,handleFileChange:e,handleUploadPhoto:t,selectedFile:i,uploadingPhoto:a})=>x.jsxs("div",{className:"mb-6 text-center",children:[n&&x.jsx("img",{src:n,alt:"Foto de Perfil",className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),!n&&x.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 bg-gray-200 flex items-center justify-center text-gray-500",children:"No Photo"}),x.jsx("h2",{className:"text-xl font-semibold",children:"Email:"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"profilePhoto",className:"block text-gray-700 text-sm font-bold mb-2",children:"Subir Foto de Perfil"}),x.jsx("input",{type:"file",id:"profilePhoto",className:`block w-full text-sm text-gray-500
            file:mr-4 file:py-2 file:px-4
            file:rounded-full file:border-0
            file:text-sm file:font-semibold
            file:bg-blue-50 file:text-blue-700
            hover:file:bg-blue-100`,onChange:e}),x.jsx("button",{type:"button",onClick:t,className:"mt-2 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:!i||a,children:a?x.jsxs("div",{className:"flex items-center justify-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Subiendo..."]}):"Subir Foto"})]})]}),rV=({userName:n,setUserName:e,userLastName:t,setUserLastName:i,companyName:a,setCompanyName:l,taxId:c,setTaxId:d,address:m,setAddress:g,city:_,setCity:E,country:T,setCountry:k,iban:O,setIban:j,defaultCurrency:U,setDefaultCurrency:q,defaultIVA:B,setDefaultIVA:G,defaultIRPF:ee,setDefaultIRPF:ae,handleUpdateProfile:ve,loadingProfile:C,errorProfile:S,successMessage:R})=>x.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"displayName",className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre de Usuario"}),x.jsx("input",{type:"text",id:"displayName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:n,onChange:N=>e(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userLastName",className:"block text-gray-700 text-sm font-bold mb-2",children:"Apellidos"}),x.jsx("input",{type:"text",id:"userLastName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:t,onChange:N=>i(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"companyName",className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre de la Empresa"}),x.jsx("input",{type:"text",id:"companyName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:a,onChange:N=>l(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"taxId",className:"block text-gray-700 text-sm font-bold mb-2",children:"NIF/CIF"}),x.jsx("input",{type:"text",id:"taxId",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:c,onChange:N=>d(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"address",className:"block text-gray-700 text-sm font-bold mb-2",children:"Direccin"}),x.jsx("input",{type:"text",id:"address",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:m,onChange:N=>g(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"city",className:"block text-gray-700 text-sm font-bold mb-2",children:"Ciudad"}),x.jsx("input",{type:"text",id:"city",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:_,onChange:N=>E(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"country",className:"block text-gray-700 text-sm font-bold mb-2",children:"Pas"}),x.jsx("input",{type:"text",id:"country",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:T,onChange:N=>k(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"iban",className:"block text-gray-700 text-sm font-bold mb-2",children:"IBAN"}),x.jsx("input",{type:"text",id:"iban",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:O,onChange:N=>j(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"defaultCurrency",className:"block text-gray-700 text-sm font-bold mb-2",children:"Moneda por Defecto"}),x.jsx("input",{type:"text",id:"defaultCurrency",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:U,onChange:N=>q(N.target.value)})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"defaultIVA",className:"block text-gray-700 text-sm font-bold mb-2",children:"IVA por Defecto (%)"}),x.jsx("input",{type:"number",id:"defaultIVA",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:B,onChange:N=>G(parseFloat(N.target.value))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"defaultIRPF",className:"block text-gray-700 text-sm font-bold mb-2",children:"IRPF por Defecto (%)"}),x.jsx("input",{type:"number",id:"defaultIRPF",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",value:ee,onChange:N=>ae(parseFloat(N.target.value))})]}),S&&x.jsx("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-md mt-4",children:S}),R&&x.jsx("div",{className:"p-4 bg-green-100 border border-green-400 text-green-700 rounded-md mt-4",children:R}),x.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full mt-6",disabled:C,children:C?x.jsxs("div",{className:"flex items-center justify-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Actualizar Perfil"})]}),iV=()=>{const{user:n,loadingAuth:e,errorAuth:t,userName:i,setUserName:a,userLastName:l,setUserLastName:c,companyName:d,setCompanyName:m,taxId:g,setTaxId:_,address:E,setAddress:T,city:k,setCity:O,country:j,setCountry:U,photoURL:q,iban:B,setIban:G,defaultCurrency:ee,setDefaultCurrency:ae,defaultIVA:ve,setDefaultIVA:C,defaultIRPF:S,setDefaultIRPF:R,selectedFile:N,loadingProfile:M,errorProfile:P,successMessage:I,uploadingPhoto:Ve,handleFileChange:ze,handleUploadPhoto:$,handleUpdateProfile:ue}=tV();return e||M?x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):t?x.jsxs("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-md",children:["Error de autenticacin: ",t.message]}):n?x.jsxs("div",{className:"max-w-2xl mx-auto mt-8 p-4 bg-white shadow-md rounded-lg",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Mi Perfil"}),x.jsx(nV,{photoURL:q,handleFileChange:ze,handleUploadPhoto:$,selectedFile:N,uploadingPhoto:Ve}),x.jsx("p",{className:"text-gray-700 mb-2 text-center",children:n.email}),x.jsx(rV,{userName:i,setUserName:a,userLastName:l,setUserLastName:c,companyName:d,setCompanyName:m,taxId:g,setTaxId:_,address:E,setAddress:T,city:k,setCity:O,country:j,setCountry:U,iban:B,setIban:G,defaultCurrency:ee,setDefaultCurrency:ae,defaultIVA:ve,setDefaultIVA:C,defaultIRPF:S,setDefaultIRPF:R,handleUpdateProfile:ue,loadingProfile:M,errorProfile:P,successMessage:I})]}):x.jsx("div",{className:"p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-md",children:"No hay usuario autenticado."})};function AS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=AS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Wa(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=AS(n))&&(i&&(i+=" "),i+=e);return i}function sV(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}sV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zc=n=>typeof n=="number"&&!isNaN(n),ao=n=>typeof n=="string",as=n=>typeof n=="function",aV=n=>ao(n)||zc(n),qg=n=>ao(n)||as(n)?n:null,oV=(n,e)=>n===!1||zc(n)&&n>0?n:e,Hg=n=>F.isValidElement(n)||ao(n)||as(n)||zc(n);function lV(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function uV({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:g,isIn:_,playToast:E}){let T=t?`${n}--${c}`:n,k=t?`${e}--${c}`:e,O=F.useRef(0);return F.useLayoutEffect(()=>{let j=g.current,U=T.split(" "),q=B=>{B.target===g.current&&(E(),j.removeEventListener("animationend",q),j.removeEventListener("animationcancel",q),O.current===0&&B.type!=="animationcancel"&&j.classList.remove(...U))};j.classList.add(...U),j.addEventListener("animationend",q),j.addEventListener("animationcancel",q)},[]),F.useEffect(()=>{let j=g.current,U=()=>{j.removeEventListener("animationend",U),i?lV(j,m,a):m()};_||(d?U():(O.current=1,j.className+=` ${k}`,j.addEventListener("animationend",U)))},[_]),Ge.createElement(Ge.Fragment,null,l)}}function P1(n,e){return{content:SS(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function SS(n,e,t=!1){return F.isValidElement(n)&&!ao(n.type)?F.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):as(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function cV({closeToast:n,theme:e,ariaLabel:t="close"}){return Ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},Ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function fV({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:m,isIn:g,theme:_}){let E=a||c&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(T.transform=`scaleX(${d})`);let k=Wa("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),O=as(l)?l({rtl:m,type:i,defaultClassName:k}):Wa(k,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&t()}};return Ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),Ge.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:O,style:T,...j}))}var hV=1,RS=()=>`${hV++}`;function dV(n,e,t){let i=1,a=0,l=[],c=[],d=e,m=new Map,g=new Set,_=B=>(g.add(B),()=>g.delete(B)),E=()=>{c=Array.from(m.values()),g.forEach(B=>B())},T=({containerId:B,toastId:G,updateId:ee})=>{let ae=B?B!==n:n!==1,ve=m.has(G)&&ee==null;return ae||ve},k=(B,G)=>{m.forEach(ee=>{var ae;(G==null||G===ee.props.toastId)&&((ae=ee.toggle)==null||ae.call(ee,B))})},O=B=>{var G,ee;(ee=(G=B.props)==null?void 0:G.onClose)==null||ee.call(G,B.removalReason),B.isActive=!1},j=B=>{if(B==null)m.forEach(O);else{let G=m.get(B);G&&O(G)}E()},U=()=>{a-=l.length,l=[]},q=B=>{var G,ee;let{toastId:ae,updateId:ve}=B.props,C=ve==null;B.staleId&&m.delete(B.staleId),B.isActive=!0,m.set(ae,B),E(),t(P1(B,C?"added":"updated")),C&&((ee=(G=B.props).onOpen)==null||ee.call(G))};return{id:n,props:d,observe:_,toggle:k,removeToast:j,toasts:m,clearQueue:U,buildToast:(B,G)=>{if(T(G))return;let{toastId:ee,updateId:ae,data:ve,staleId:C,delay:S}=G,R=ae==null;R&&a++;let N={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(G).filter(([P,I])=>I!=null)),toastId:ee,updateId:ae,data:ve,isIn:!1,className:qg(G.className||d.toastClassName),progressClassName:qg(G.progressClassName||d.progressClassName),autoClose:G.isLoading?!1:oV(G.autoClose,d.autoClose),closeToast(P){m.get(ee).removalReason=P,j(ee)},deleteToast(){let P=m.get(ee);if(P!=null){if(t(P1(P,"removed")),m.delete(ee),a--,a<0&&(a=0),l.length>0){q(l.shift());return}E()}}};N.closeButton=d.closeButton,G.closeButton===!1||Hg(G.closeButton)?N.closeButton=G.closeButton:G.closeButton===!0&&(N.closeButton=Hg(d.closeButton)?d.closeButton:!0);let M={content:B,props:N,staleId:C};d.limit&&d.limit>0&&a>d.limit&&R?l.push(M):zc(S)?setTimeout(()=>{q(M)},S):q(M)},setProps(B){d=B},setToggle:(B,G)=>{let ee=m.get(B);ee&&(ee.toggle=G)},isToastActive:B=>{var G;return(G=m.get(B))==null?void 0:G.isActive},getSnapshot:()=>c}}var kn=new Map,Ec=[],$g=new Set,mV=n=>$g.forEach(e=>e(n)),xS=()=>kn.size>0;function pV(){Ec.forEach(n=>CS(n.content,n.options)),Ec=[]}var gV=(n,{containerId:e})=>{var t;return(t=kn.get(e||1))==null?void 0:t.toasts.get(n)};function IS(n,e){var t;if(e)return!!((t=kn.get(e))!=null&&t.isToastActive(n));let i=!1;return kn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function yV(n){if(!xS()){Ec=Ec.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||aV(n))kn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=kn.get(n.containerId);e?e.removeToast(n.id):kn.forEach(t=>{t.removeToast(n.id)})}}var _V=(n={})=>{kn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function CS(n,e){Hg(n)&&(xS()||Ec.push({content:n,options:e}),kn.forEach(t=>{t.buildToast(n,e)}))}function vV(n){var e;(e=kn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function NS(n,e){kn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function bV(n){let e=n.containerId||1;return{subscribe(t){let i=dV(e,n,mV);kn.set(e,i);let a=i.observe(t);return pV(),()=>{a(),kn.delete(e)}},setProps(t){var i;(i=kn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=kn.get(e))==null?void 0:t.getSnapshot()}}}function EV(n){return $g.add(n),()=>{$g.delete(n)}}function TV(n){return n&&(ao(n.toastId)||zc(n.toastId))?n.toastId:RS()}function Bc(n,e){return CS(n,e),e.toastId}function Bd(n,e){return{...e,type:e&&e.type||n,toastId:TV(e)}}function Fd(n){return(e,t)=>Bc(e,Bd(n,t))}function tt(n,e){return Bc(n,Bd("default",e))}tt.loading=(n,e)=>Bc(n,Bd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function wV(n,{pending:e,error:t,success:i},a){let l;e&&(l=ao(e)?tt.loading(e,a):tt.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,E)=>{if(_==null){tt.dismiss(l);return}let T={type:g,...c,...a,data:E},k=ao(_)?{render:_}:_;return l?tt.update(l,{...T,...k}):tt(k.render,{...T,...k}),E},m=as(n)?n():n;return m.then(g=>d("success",i,g)).catch(g=>d("error",t,g)),m}tt.promise=wV;tt.success=Fd("success");tt.info=Fd("info");tt.error=Fd("error");tt.warning=Fd("warning");tt.warn=tt.warning;tt.dark=(n,e)=>Bc(n,Bd("default",{theme:"dark",...e}));function AV(n){yV(n)}tt.dismiss=AV;tt.clearWaitingQueue=_V;tt.isActive=IS;tt.update=(n,e={})=>{let t=gV(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:RS()};l.toastId!==n&&(l.staleId=n);let c=l.render||a;delete l.render,Bc(c,l)}};tt.done=n=>{tt.update(n,{progress:1})};tt.onChange=EV;tt.play=n=>NS(!0,n);tt.pause=n=>NS(!1,n);function SV(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=F.useRef(bV(n)).current;a(n);let l=(e=F.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let m=new Map;return n.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:_}=g.props;m.has(_)||m.set(_,[]),m.get(_).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:IS,count:l?.length}}function RV(n){let[e,t]=F.useState(!1),[i,a]=F.useState(!1),l=F.useRef(null),c=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:_,closeOnClick:E}=n;vV({id:n.toastId,containerId:n.containerId,fn:t}),F.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{k()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||q(),window.addEventListener("focus",U),window.addEventListener("blur",q)}function k(){window.removeEventListener("focus",U),window.removeEventListener("blur",q)}function O(C){if(n.draggable===!0||n.draggable===C.pointerType){B();let S=l.current;c.canCloseOnClick=!0,c.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(c.start=C.clientX,c.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(c.start=C.clientY,c.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function j(C){let{top:S,bottom:R,left:N,right:M}=l.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=N&&C.clientX<=M&&C.clientY>=S&&C.clientY<=R?q():U()}function U(){t(!0)}function q(){t(!1)}function B(){c.didMove=!1,document.addEventListener("pointermove",ee),document.addEventListener("pointerup",ae)}function G(){document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",ae)}function ee(C){let S=l.current;if(c.canDrag&&S){c.didMove=!0,e&&q(),n.draggableDirection==="x"?c.delta=C.clientX-c.start:c.delta=C.clientY-c.start,c.start!==C.clientX&&(c.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function ae(){G();let C=l.current;if(c.canDrag&&c.didMove&&C){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let ve={onPointerDown:O,onPointerUp:j};return d&&m&&(ve.onMouseEnter=q,n.stacked||(ve.onMouseLeave=U)),E&&(ve.onClick=C=>{_&&_(C),c.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:q,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:ve}}var xV=typeof window<"u"?F.useLayoutEffect:F.useEffect,qd=({theme:n,type:e,isLoading:t,...i})=>Ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function IV(n){return Ge.createElement(qd,{...n},Ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function CV(n){return Ge.createElement(qd,{...n},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NV(n){return Ge.createElement(qd,{...n},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function OV(n){return Ge.createElement(qd,{...n},Ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function DV(){return Ge.createElement("div",{className:"Toastify__spinner"})}var Gg={info:CV,warning:IV,success:NV,error:OV,spinner:DV},kV=n=>n in Gg;function VV({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||(as(i)?a=i({...l,isLoading:t}):F.isValidElement(i)?a=F.cloneElement(i,l):t?a=Gg.spinner():kV(e)&&(a=Gg[e](l))),a}var PV=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=RV(n),{closeButton:c,children:d,autoClose:m,onClick:g,type:_,hideProgressBar:E,closeToast:T,transition:k,position:O,className:j,style:U,progressClassName:q,updateId:B,role:G,progress:ee,rtl:ae,toastId:ve,deleteToast:C,isIn:S,isLoading:R,closeOnClick:N,theme:M,ariaLabel:P}=n,I=Wa("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":ae},{"Toastify__toast--close-on-click":N}),Ve=as(j)?j({rtl:ae,position:O,type:_,defaultClassName:I}):Wa(I,j),ze=VV(n),$=!!ee||!m,ue={closeToast:T,type:_,theme:M},fe=null;return c===!1||(as(c)?fe=c(ue):F.isValidElement(c)?fe=F.cloneElement(c,ue):fe=cV(ue)),Ge.createElement(k,{isIn:S,done:C,position:O,preventExitTransition:t,nodeRef:i,playToast:l},Ge.createElement("div",{id:ve,tabIndex:0,onClick:g,"data-in":S,className:Ve,...a,style:U,ref:i,...S&&{role:G,"aria-label":P}},ze!=null&&Ge.createElement("div",{className:Wa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ze),SS(d,n,!e),fe,!n.customProgressBar&&Ge.createElement(fV,{...B&&!$?{key:`p-${B}`}:{},rtl:ae,theme:M,delay:m,isRunning:e,isIn:S,closeToast:T,hide:E,type:_,className:q,controlledProgress:$,progress:ee||0})))},MV=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),LV=uV(MV("bounce",!0)),UV={position:"top-right",transition:LV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function jV(n){let e={...UV,...n},t=n.stacked,[i,a]=F.useState(!0),l=F.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=SV(e),{className:g,style:_,rtl:E,containerId:T,hotKeys:k}=e;function O(U){let q=Wa("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":E});return as(g)?g({position:U,rtl:E,defaultClassName:q}):Wa(q,qg(g))}function j(){t&&(a(!0),tt.play())}return xV(()=>{var U;if(t){let q=l.current.querySelectorAll('[data-in="true"]'),B=12,G=(U=e.position)==null?void 0:U.includes("top"),ee=0,ae=0;Array.from(q).reverse().forEach((ve,C)=>{let S=ve;S.classList.add("Toastify__toast--stacked"),C>0&&(S.dataset.collapsed=`${i}`),S.dataset.pos||(S.dataset.pos=G?"top":"bot");let R=ee*(i?.2:1)+(i?0:B*C);S.style.setProperty("--y",`${G?R:R*-1}px`),S.style.setProperty("--g",`${B}`),S.style.setProperty("--s",`${1-(i?ae:0)}`),ee+=S.offsetHeight,ae+=.025})}},[i,m,t]),F.useEffect(()=>{function U(q){var B;let G=l.current;k(q)&&((B=G.querySelector('[tabIndex="0"]'))==null||B.focus(),a(!1),tt.pause()),q.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(a(!0),tt.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[k]),Ge.createElement("section",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{t&&(a(!1),tt.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((U,q)=>{let B=q.length?{..._}:{..._,pointerEvents:"none"};return Ge.createElement("div",{tabIndex:-1,className:O(U),"data-stacked":t,style:B,key:`c-${U}`},q.map(({content:G,props:ee})=>Ge.createElement(PV,{...ee,stacked:t,collapseAll:j,isIn:d(ee.toastId,ee.containerId),key:`t-${ee.key}`},G)))}))}const zV=()=>{const[e,t]=co(pi),[i,a]=F.useState([]),[l,c]=F.useState(!0),[d,m]=F.useState(!1),[g,_]=F.useState(null),[E,T]=F.useState(!0),[k,O]=F.useState(null),[j,U]=F.useState(null),[q,B]=F.useState(!1),[G,ee]=F.useState(null),[ae,ve]=F.useState(!1),C=F.useCallback(async($=!0)=>{if(e){c($),m(!$);try{const ue=Ug(yr,"users",e.uid,"seals");let fe;if($)fe=w1(ue,A1("name"),S1(10));else{if(!g){T(!1);return}fe=w1(ue,A1("name"),s3(g),S1(10))}const Pe=await u3(fe),V=Pe.docs.map(ie=>({...ie.data(),id:ie.id}));if(a(ie=>$?V:[...ie,...V]),_(Pe.docs[Pe.docs.length-1]),T(V.length===10),$){const ie=ci(yr,"users",e.uid),pe=await Ld(ie);if(pe.exists()){const ce=pe.data(),Ne={...ce,userName:ce.userName||ce.displayName,userLastName:ce.userLastName||ce.lastName};U(Ne)}}}catch(ue){console.error("Error fetching seals or profile:",ue),tt.error("Error al cargar los datos.")}finally{c(!1),m(!1)}}},[e,g]);F.useEffect(()=>{e&&C(!0)},[e]);const S=F.useCallback(()=>{E&&!d&&C(!1)},[E,d,C]);return{user:e,loadingAuth:t,seals:i,loading:l,editingSeal:k,userProfile:j,isFormVisible:q,handleFormSubmit:async($,ue)=>{if(!e){tt.error("Usuario no autenticado.");return}const fe={...$,imageUrl:ue??k?.imageUrl??""};try{if(k){const Pe=ci(yr,"users",e.uid,"seals",k.id);await c3(Pe,fe),a(i.map(V=>V.id===k.id?{...V,...fe}:V)),tt.success("Sello actualizado con xito!")}else{const Pe=Ug(yr,"users",e.uid,"seals"),V=await nS(Pe,fe);a(ie=>[{...fe,id:V.id,createdAt:new Date},...ie]),tt.success("Sello creado con xito!")}B(!1),O(null)}catch(Pe){console.error("Error saving seal:",Pe),tt.error("Error al guardar el sello.")}},handleEdit:$=>{O($),B(!0)},handleDelete:async $=>{if(!(!e||!confirm("Ests seguro de que quieres eliminar este sello?")))try{if($.imageUrl)try{const fe=m_(g_,$.imageUrl);await E6(fe)}catch(fe){if(typeof fe=="object"&&fe!==null&&"code"in fe&&fe.code!=="storage/object-not-found")throw fe}const ue=ci(yr,"users",e.uid,"seals",$.id);await f3(ue),a(i.filter(fe=>fe.id!==$.id)),tt.success("Sello eliminado con xito!")}catch(ue){console.error("Error deleting seal:",ue),tt.error("Error al eliminar el sello.")}},handleAddNew:()=>{O(null),B(!0)},handleCancel:()=>{O(null),B(!1)},loadMoreSeals:S,hasMore:E,loadingMore:d,selectedSealIdForView:G,showSealDetailModal:ae,handleViewSeal:$=>{ee($),ve(!0)},handleCloseSealDetailModal:()=>{ee(null),ve(!1)}}},BV=n=>{const[e,t]=F.useState(!1);return F.useEffect(()=>{if(typeof window<"u"){const i=window.matchMedia(n);i.matches!==e&&t(i.matches);const a=()=>t(i.matches);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)}},[e,n]),e};var Fc=n=>n.type==="checkbox",Qa=n=>n instanceof Date,Dn=n=>n==null;const OS=n=>typeof n=="object";var qt=n=>!Dn(n)&&!Array.isArray(n)&&OS(n)&&!Qa(n),FV=n=>qt(n)&&n.target?Fc(n.target)?n.target.checked:n.target.value:n,qV=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,HV=(n,e)=>n.has(qV(e)),$V=n=>{const e=n.constructor&&n.constructor.prototype;return qt(e)&&e.hasOwnProperty("isPrototypeOf")},y_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yn(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(y_&&(n instanceof Blob||i))&&(t||qt(n)))if(e=t?[]:{},!t&&!$V(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=yn(n[a]));else return n;return e}var Hd=n=>/^\w*$/.test(n),zt=n=>n===void 0,__=n=>Array.isArray(n)?n.filter(Boolean):[],v_=n=>__(n.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(n,e,t)=>{if(!e||!qt(n))return t;const i=(Hd(e)?[e]:v_(e)).reduce((a,l)=>Dn(a)?a:a[l],n);return zt(i)||i===n?zt(n[e])?t:n[e]:i},ni=n=>typeof n=="boolean",Tt=(n,e,t)=>{let i=-1;const a=Hd(e)?[e]:v_(e),l=a.length,c=l-1;for(;++i<l;){const d=a[i];let m=t;if(i!==c){const g=n[d];m=qt(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=m,n=n[d]}};const M1={BLUR:"blur",FOCUS_OUT:"focusout"},Cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GV=Ge.createContext(null);GV.displayName="HookFormContext";var KV=(n,e,t,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Cr.all&&(e._proxyFormState[c]=!i||Cr.all),n[c]}});return a};const YV=typeof window<"u"?F.useLayoutEffect:F.useEffect;var ii=n=>typeof n=="string",QV=(n,e,t,i,a)=>ii(n)?(i&&e.watch.add(n),we(t,n,a)):Array.isArray(n)?n.map(l=>(i&&e.watch.add(l),we(t,l))):(i&&(e.watchAll=!0),t),b_=(n,e,t,i,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:a||!0}}:{},lc=n=>Array.isArray(n)?n:[n],L1=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}},Kg=n=>Dn(n)||!OS(n);function Ys(n,e,t=new WeakSet){if(Kg(n)||Kg(e))return n===e;if(Qa(n)&&Qa(e))return n.getTime()===e.getTime();const i=Object.keys(n),a=Object.keys(e);if(i.length!==a.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const l of i){const c=n[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Qa(c)&&Qa(d)||qt(c)&&qt(d)||Array.isArray(c)&&Array.isArray(d)?!Ys(c,d,t):c!==d)return!1}}return!0}var jn=n=>qt(n)&&!Object.keys(n).length,E_=n=>n.type==="file",Nr=n=>typeof n=="function",id=n=>{if(!y_)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},DS=n=>n.type==="select-multiple",T_=n=>n.type==="radio",XV=n=>T_(n)||Fc(n),ug=n=>id(n)&&n.isConnected;function ZV(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=zt(n)?i++:n[e[i++]];return n}function WV(n){for(const e in n)if(n.hasOwnProperty(e)&&!zt(n[e]))return!1;return!0}function Yt(n,e){const t=Array.isArray(e)?e:Hd(e)?[e]:v_(e),i=t.length===1?n:ZV(n,t),a=t.length-1,l=t[a];return i&&delete i[l],a!==0&&(qt(i)&&jn(i)||Array.isArray(i)&&WV(i))&&Yt(n,t.slice(0,-1)),n}var kS=n=>{for(const e in n)if(Nr(n[e]))return!0;return!1};function sd(n,e={}){const t=Array.isArray(n);if(qt(n)||t)for(const i in n)Array.isArray(n[i])||qt(n[i])&&!kS(n[i])?(e[i]=Array.isArray(n[i])?[]:{},sd(n[i],e[i])):Dn(n[i])||(e[i]=!0);return e}function VS(n,e,t){const i=Array.isArray(n);if(qt(n)||i)for(const a in n)Array.isArray(n[a])||qt(n[a])&&!kS(n[a])?zt(e)||Kg(t[a])?t[a]=Array.isArray(n[a])?sd(n[a],[]):{...sd(n[a])}:VS(n[a],Dn(e)?{}:e[a],t[a]):t[a]=!Ys(n[a],e[a]);return t}var Ku=(n,e)=>VS(n,e,sd(e));const U1={value:!1,isValid:!1},j1={value:!0,isValid:!0};var PS=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!zt(n[0].attributes.value)?zt(n[0].value)||n[0].value===""?j1:{value:n[0].value,isValid:!0}:j1:U1}return U1},MS=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>zt(n)?n:e?n===""?NaN:n&&+n:t&&ii(n)?new Date(n):i?i(n):n;const z1={isValid:!1,value:null};var LS=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,z1):z1;function B1(n){const e=n.ref;return E_(e)?e.files:T_(e)?LS(n.refs).value:DS(e)?[...e.selectedOptions].map(({value:t})=>t):Fc(e)?PS(n.refs).value:MS(zt(e.value)?n.ref.value:e.value,n)}var JV=(n,e,t,i)=>{const a={};for(const l of n){const c=we(e,l);c&&Tt(a,l,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:i}},ad=n=>n instanceof RegExp,Yu=n=>zt(n)?n:ad(n)?n.source:qt(n)?ad(n.value)?n.value.source:n.value:n,F1=n=>({isOnSubmit:!n||n===Cr.onSubmit,isOnBlur:n===Cr.onBlur,isOnChange:n===Cr.onChange,isOnAll:n===Cr.all,isOnTouch:n===Cr.onTouched});const q1="AsyncFunction";var eP=n=>!!n&&!!n.validate&&!!(Nr(n.validate)&&n.validate.constructor.name===q1||qt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===q1)),tP=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),H1=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const uc=(n,e,t,i)=>{for(const a of t||Object.keys(n)){const l=we(n,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(uc(d,e))break}else if(qt(d)&&uc(d,e))break}}};function $1(n,e,t){const i=we(n,t);if(i||Hd(t))return{error:i,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=we(e,l),d=we(n,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};a.pop()}return{name:t}}var nP=(n,e,t,i)=>{t(n);const{name:a,...l}=n;return jn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!i||Cr.all))},rP=(n,e,t)=>!n||!e||n===e||lc(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),iP=(n,e,t,i,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?i.isOnBlur:a.isOnBlur)?!n:(t?i.isOnChange:a.isOnChange)?n:!0,sP=(n,e)=>!__(we(n,e)).length&&Yt(n,e),aP=(n,e,t)=>{const i=lc(we(n,t));return Tt(i,"root",e[t]),Tt(n,t,i),n},Vh=n=>ii(n);function G1(n,e,t="validate"){if(Vh(n)||Array.isArray(n)&&n.every(Vh)||ni(n)&&!n)return{type:t,message:Vh(n)?n:"",ref:e}}var al=n=>qt(n)&&!ad(n)?n:{value:n,message:""},K1=async(n,e,t,i,a,l)=>{const{ref:c,refs:d,required:m,maxLength:g,minLength:_,min:E,max:T,pattern:k,validate:O,name:j,valueAsNumber:U,mount:q}=n._f,B=we(t,j);if(!q||e.has(j))return{};const G=d?d[0]:c,ee=P=>{a&&G.reportValidity&&(G.setCustomValidity(ni(P)?"":P||""),G.reportValidity())},ae={},ve=T_(c),C=Fc(c),S=ve||C,R=(U||E_(c))&&zt(c.value)&&zt(B)||id(c)&&c.value===""||B===""||Array.isArray(B)&&!B.length,N=b_.bind(null,j,i,ae),M=(P,I,Ve,ze=Yi.maxLength,$=Yi.minLength)=>{const ue=P?I:Ve;ae[j]={type:P?ze:$,message:ue,ref:c,...N(P?ze:$,ue)}};if(l?!Array.isArray(B)||!B.length:m&&(!S&&(R||Dn(B))||ni(B)&&!B||C&&!PS(d).isValid||ve&&!LS(d).isValid)){const{value:P,message:I}=Vh(m)?{value:!!m,message:m}:al(m);if(P&&(ae[j]={type:Yi.required,message:I,ref:G,...N(Yi.required,I)},!i))return ee(I),ae}if(!R&&(!Dn(E)||!Dn(T))){let P,I;const Ve=al(T),ze=al(E);if(!Dn(B)&&!isNaN(B)){const $=c.valueAsNumber||B&&+B;Dn(Ve.value)||(P=$>Ve.value),Dn(ze.value)||(I=$<ze.value)}else{const $=c.valueAsDate||new Date(B),ue=V=>new Date(new Date().toDateString()+" "+V),fe=c.type=="time",Pe=c.type=="week";ii(Ve.value)&&B&&(P=fe?ue(B)>ue(Ve.value):Pe?B>Ve.value:$>new Date(Ve.value)),ii(ze.value)&&B&&(I=fe?ue(B)<ue(ze.value):Pe?B<ze.value:$<new Date(ze.value))}if((P||I)&&(M(!!P,Ve.message,ze.message,Yi.max,Yi.min),!i))return ee(ae[j].message),ae}if((g||_)&&!R&&(ii(B)||l&&Array.isArray(B))){const P=al(g),I=al(_),Ve=!Dn(P.value)&&B.length>+P.value,ze=!Dn(I.value)&&B.length<+I.value;if((Ve||ze)&&(M(Ve,P.message,I.message),!i))return ee(ae[j].message),ae}if(k&&!R&&ii(B)){const{value:P,message:I}=al(k);if(ad(P)&&!B.match(P)&&(ae[j]={type:Yi.pattern,message:I,ref:c,...N(Yi.pattern,I)},!i))return ee(I),ae}if(O){if(Nr(O)){const P=await O(B,t),I=G1(P,G);if(I&&(ae[j]={...I,...N(Yi.validate,I.message)},!i))return ee(I.message),ae}else if(qt(O)){let P={};for(const I in O){if(!jn(P)&&!i)break;const Ve=G1(await O[I](B,t),G,I);Ve&&(P={...Ve,...N(I,Ve.message)},ee(Ve.message),i&&(ae[j]=P))}if(!jn(P)&&(ae[j]={ref:G,...P},!i))return ae}}return ee(!0),ae};const oP={mode:Cr.onSubmit,reValidateMode:Cr.onChange,shouldFocusError:!0};function lP(n={}){let e={...oP,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Nr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let a=qt(e.defaultValues)||qt(e.values)?yn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:yn(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,g=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={..._};const T={array:L1(),state:L1()},k=e.criteriaMode===Cr.all,O=L=>X=>{clearTimeout(g),g=setTimeout(L,X)},j=async L=>{if(!e.disabled&&(_.isValid||E.isValid||L)){const X=e.resolver?jn((await C()).errors):await R(i,!0);X!==t.isValid&&T.state.next({isValid:X})}},U=(L,X)=>{!e.disabled&&(_.isValidating||_.validatingFields||E.isValidating||E.validatingFields)&&((L||Array.from(d.mount)).forEach(ne=>{ne&&(X?Tt(t.validatingFields,ne,X):Yt(t.validatingFields,ne))}),T.state.next({validatingFields:t.validatingFields,isValidating:!jn(t.validatingFields)}))},q=(L,X=[],ne,be,ge=!0,he=!0)=>{if(be&&ne&&!e.disabled){if(c.action=!0,he&&Array.isArray(we(i,L))){const ye=ne(we(i,L),be.argA,be.argB);ge&&Tt(i,L,ye)}if(he&&Array.isArray(we(t.errors,L))){const ye=ne(we(t.errors,L),be.argA,be.argB);ge&&Tt(t.errors,L,ye),sP(t.errors,L)}if((_.touchedFields||E.touchedFields)&&he&&Array.isArray(we(t.touchedFields,L))){const ye=ne(we(t.touchedFields,L),be.argA,be.argB);ge&&Tt(t.touchedFields,L,ye)}(_.dirtyFields||E.dirtyFields)&&(t.dirtyFields=Ku(a,l)),T.state.next({name:L,isDirty:M(L,X),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Tt(l,L,X)},B=(L,X)=>{Tt(t.errors,L,X),T.state.next({errors:t.errors})},G=L=>{t.errors=L,T.state.next({errors:t.errors,isValid:!1})},ee=(L,X,ne,be)=>{const ge=we(i,L);if(ge){const he=we(l,L,zt(ne)?we(a,L):ne);zt(he)||be&&be.defaultChecked||X?Tt(l,L,X?he:B1(ge._f)):Ve(L,he),c.mount&&j()}},ae=(L,X,ne,be,ge)=>{let he=!1,ye=!1;const Re={name:L};if(!e.disabled){if(!ne||be){(_.isDirty||E.isDirty)&&(ye=t.isDirty,t.isDirty=Re.isDirty=M(),he=ye!==Re.isDirty);const Ye=Ys(we(a,L),X);ye=!!we(t.dirtyFields,L),Ye?Yt(t.dirtyFields,L):Tt(t.dirtyFields,L,!0),Re.dirtyFields=t.dirtyFields,he=he||(_.dirtyFields||E.dirtyFields)&&ye!==!Ye}if(ne){const Ye=we(t.touchedFields,L);Ye||(Tt(t.touchedFields,L,ne),Re.touchedFields=t.touchedFields,he=he||(_.touchedFields||E.touchedFields)&&Ye!==ne)}he&&ge&&T.state.next(Re)}return he?Re:{}},ve=(L,X,ne,be)=>{const ge=we(t.errors,L),he=(_.isValid||E.isValid)&&ni(X)&&t.isValid!==X;if(e.delayError&&ne?(m=O(()=>B(L,ne)),m(e.delayError)):(clearTimeout(g),m=null,ne?Tt(t.errors,L,ne):Yt(t.errors,L)),(ne?!Ys(ge,ne):ge)||!jn(be)||he){const ye={...be,...he&&ni(X)?{isValid:X}:{},errors:t.errors,name:L};t={...t,...ye},T.state.next(ye)}},C=async L=>{U(L,!0);const X=await e.resolver(l,e.context,JV(L||d.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return U(L),X},S=async L=>{const{errors:X}=await C(L);if(L)for(const ne of L){const be=we(X,ne);be?Tt(t.errors,ne,be):Yt(t.errors,ne)}else t.errors=X;return X},R=async(L,X,ne={valid:!0})=>{for(const be in L){const ge=L[be];if(ge){const{_f:he,...ye}=ge;if(he){const Re=d.array.has(he.name),Ye=ge._f&&eP(ge._f);Ye&&_.validatingFields&&U([be],!0);const pt=await K1(ge,d.disabled,l,k,e.shouldUseNativeValidation&&!X,Re);if(Ye&&_.validatingFields&&U([be]),pt[he.name]&&(ne.valid=!1,X))break;!X&&(we(pt,he.name)?Re?aP(t.errors,pt,he.name):Tt(t.errors,he.name,pt[he.name]):Yt(t.errors,he.name))}!jn(ye)&&await R(ye,X,ne)}}return ne.valid},N=()=>{for(const L of d.unMount){const X=we(i,L);X&&(X._f.refs?X._f.refs.every(ne=>!ug(ne)):!ug(X._f.ref))&&ft(L)}d.unMount=new Set},M=(L,X)=>!e.disabled&&(L&&X&&Tt(l,L,X),!Ys(V(),a)),P=(L,X,ne)=>QV(L,d,{...c.mount?l:zt(X)?a:ii(L)?{[L]:X}:X},ne,X),I=L=>__(we(c.mount?l:a,L,e.shouldUnregister?we(a,L,[]):[])),Ve=(L,X,ne={})=>{const be=we(i,L);let ge=X;if(be){const he=be._f;he&&(!he.disabled&&Tt(l,L,MS(X,he)),ge=id(he.ref)&&Dn(X)?"":X,DS(he.ref)?[...he.ref.options].forEach(ye=>ye.selected=ge.includes(ye.value)):he.refs?Fc(he.ref)?he.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(ge)?ye.checked=!!ge.find(Re=>Re===ye.value):ye.checked=ge===ye.value||!!ge)}):he.refs.forEach(ye=>ye.checked=ye.value===ge):E_(he.ref)?he.ref.value="":(he.ref.value=ge,he.ref.type||T.state.next({name:L,values:yn(l)})))}(ne.shouldDirty||ne.shouldTouch)&&ae(L,ge,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&Pe(L)},ze=(L,X,ne)=>{for(const be in X){if(!X.hasOwnProperty(be))return;const ge=X[be],he=L+"."+be,ye=we(i,he);(d.array.has(L)||qt(ge)||ye&&!ye._f)&&!Qa(ge)?ze(he,ge,ne):Ve(he,ge,ne)}},$=(L,X,ne={})=>{const be=we(i,L),ge=d.array.has(L),he=yn(X);Tt(l,L,he),ge?(T.array.next({name:L,values:yn(l)}),(_.isDirty||_.dirtyFields||E.isDirty||E.dirtyFields)&&ne.shouldDirty&&T.state.next({name:L,dirtyFields:Ku(a,l),isDirty:M(L,he)})):be&&!be._f&&!Dn(he)?ze(L,he,ne):Ve(L,he,ne),H1(L,d)&&T.state.next({...t}),T.state.next({name:c.mount?L:void 0,values:yn(l)})},ue=async L=>{c.mount=!0;const X=L.target;let ne=X.name,be=!0;const ge=we(i,ne),he=Ye=>{be=Number.isNaN(Ye)||Qa(Ye)&&isNaN(Ye.getTime())||Ys(Ye,we(l,ne,Ye))},ye=F1(e.mode),Re=F1(e.reValidateMode);if(ge){let Ye,pt;const vi=X.type?B1(ge._f):FV(L),rr=L.type===M1.BLUR||L.type===M1.FOCUS_OUT,bi=!tP(ge._f)&&!e.resolver&&!we(t.errors,ne)&&!ge._f.deps||iP(rr,we(t.touchedFields,ne),t.isSubmitted,Re,ye),Tr=H1(ne,d,rr);Tt(l,ne,vi),rr?(ge._f.onBlur&&ge._f.onBlur(L),m&&m(0)):ge._f.onChange&&ge._f.onChange(L);const wr=ae(ne,vi,rr),Fn=!jn(wr)||Tr;if(!rr&&T.state.next({name:ne,type:L.type,values:yn(l)}),bi)return(_.isValid||E.isValid)&&(e.mode==="onBlur"?rr&&j():rr||j()),Fn&&T.state.next({name:ne,...Tr?{}:wr});if(!rr&&Tr&&T.state.next({...t}),e.resolver){const{errors:Ei}=await C([ne]);if(he(vi),be){const Ti=$1(t.errors,i,ne),fs=$1(Ei,i,Ti.name||ne);Ye=fs.error,ne=fs.name,pt=jn(Ei)}}else U([ne],!0),Ye=(await K1(ge,d.disabled,l,k,e.shouldUseNativeValidation))[ne],U([ne]),he(vi),be&&(Ye?pt=!1:(_.isValid||E.isValid)&&(pt=await R(i,!0)));be&&(ge._f.deps&&Pe(ge._f.deps),ve(ne,pt,Ye,wr))}},fe=(L,X)=>{if(we(t.errors,X)&&L.focus)return L.focus(),1},Pe=async(L,X={})=>{let ne,be;const ge=lc(L);if(e.resolver){const he=await S(zt(L)?L:ge);ne=jn(he),be=L?!ge.some(ye=>we(he,ye)):ne}else L?(be=(await Promise.all(ge.map(async he=>{const ye=we(i,he);return await R(ye&&ye._f?{[he]:ye}:ye)}))).every(Boolean),!(!be&&!t.isValid)&&j()):be=ne=await R(i);return T.state.next({...!ii(L)||(_.isValid||E.isValid)&&ne!==t.isValid?{}:{name:L},...e.resolver||!L?{isValid:ne}:{},errors:t.errors}),X.shouldFocus&&!be&&uc(i,fe,L?ge:d.mount),be},V=L=>{const X={...c.mount?l:a};return zt(L)?X:ii(L)?we(X,L):L.map(ne=>we(X,ne))},ie=(L,X)=>({invalid:!!we((X||t).errors,L),isDirty:!!we((X||t).dirtyFields,L),error:we((X||t).errors,L),isValidating:!!we(t.validatingFields,L),isTouched:!!we((X||t).touchedFields,L)}),pe=L=>{L&&lc(L).forEach(X=>Yt(t.errors,X)),T.state.next({errors:L?t.errors:{}})},ce=(L,X,ne)=>{const be=(we(i,L,{_f:{}})._f||{}).ref,ge=we(t.errors,L)||{},{ref:he,message:ye,type:Re,...Ye}=ge;Tt(t.errors,L,{...Ye,...X,ref:be}),T.state.next({name:L,errors:t.errors,isValid:!1}),ne&&ne.shouldFocus&&be&&be.focus&&be.focus()},Ne=(L,X)=>Nr(L)?T.state.subscribe({next:ne=>L(P(void 0,X),ne)}):P(L,X,!0),Ae=L=>T.state.subscribe({next:X=>{rP(L.name,X.name,L.exact)&&nP(X,L.formState||_,Pn,L.reRenderRoot)&&L.callback({values:{...l},...t,...X})}}).unsubscribe,Ie=L=>(c.mount=!0,E={...E,...L.formState},Ae({...L,formState:E})),ft=(L,X={})=>{for(const ne of L?lc(L):d.mount)d.mount.delete(ne),d.array.delete(ne),X.keepValue||(Yt(i,ne),Yt(l,ne)),!X.keepError&&Yt(t.errors,ne),!X.keepDirty&&Yt(t.dirtyFields,ne),!X.keepTouched&&Yt(t.touchedFields,ne),!X.keepIsValidating&&Yt(t.validatingFields,ne),!e.shouldUnregister&&!X.keepDefaultValue&&Yt(a,ne);T.state.next({values:yn(l)}),T.state.next({...t,...X.keepDirty?{isDirty:M()}:{}}),!X.keepIsValid&&j()},Fe=({disabled:L,name:X})=>{(ni(L)&&c.mount||L||d.disabled.has(X))&&(L?d.disabled.add(X):d.disabled.delete(X))},Vn=(L,X={})=>{let ne=we(i,L);const be=ni(X.disabled)||ni(e.disabled);return Tt(i,L,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:L}},name:L,mount:!0,...X}}),d.mount.add(L),ne?Fe({disabled:ni(X.disabled)?X.disabled:e.disabled,name:L}):ee(L,!0,X.value),{...be?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:Yu(X.min),max:Yu(X.max),minLength:Yu(X.minLength),maxLength:Yu(X.maxLength),pattern:Yu(X.pattern)}:{},name:L,onChange:ue,onBlur:ue,ref:ge=>{if(ge){Vn(L,X),ne=we(i,L);const he=zt(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,ye=XV(he),Re=ne._f.refs||[];if(ye?Re.find(Ye=>Ye===he):he===ne._f.ref)return;Tt(i,L,{_f:{...ne._f,...ye?{refs:[...Re.filter(ug),he,...Array.isArray(we(a,L))?[{}]:[]],ref:{type:he.type,name:L}}:{ref:he}}}),ee(L,!1,void 0,he)}else ne=we(i,L,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(HV(d.array,L)&&c.action)&&d.unMount.add(L)}}},nr=()=>e.shouldFocusError&&uc(i,fe,d.mount),Er=L=>{ni(L)&&(T.state.next({disabled:L}),uc(i,(X,ne)=>{const be=we(i,ne);be&&(X.disabled=be._f.disabled||L,Array.isArray(be._f.refs)&&be._f.refs.forEach(ge=>{ge.disabled=be._f.disabled||L}))},0,!1))},Lr=(L,X)=>async ne=>{let be;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let ge=yn(l);if(T.state.next({isSubmitting:!0}),e.resolver){const{errors:he,values:ye}=await C();t.errors=he,ge=yn(ye)}else await R(i);if(d.disabled.size)for(const he of d.disabled)Yt(ge,he);if(Yt(t.errors,"root"),jn(t.errors)){T.state.next({errors:{}});try{await L(ge,ne)}catch(he){be=he}}else X&&await X({...t.errors},ne),nr(),setTimeout(nr);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(t.errors)&&!be,submitCount:t.submitCount+1,errors:t.errors}),be)throw be},_i=(L,X={})=>{we(i,L)&&(zt(X.defaultValue)?$(L,yn(we(a,L))):($(L,X.defaultValue),Tt(a,L,yn(X.defaultValue))),X.keepTouched||Yt(t.touchedFields,L),X.keepDirty||(Yt(t.dirtyFields,L),t.isDirty=X.defaultValue?M(L,yn(we(a,L))):M()),X.keepError||(Yt(t.errors,L),_.isValid&&j()),T.state.next({...t}))},Ur=(L,X={})=>{const ne=L?yn(L):a,be=yn(ne),ge=jn(L),he=ge?a:be;if(X.keepDefaultValues||(a=ne),!X.keepValues){if(X.keepDirtyValues){const ye=new Set([...d.mount,...Object.keys(Ku(a,l))]);for(const Re of Array.from(ye))we(t.dirtyFields,Re)?Tt(he,Re,we(l,Re)):$(Re,we(he,Re))}else{if(y_&&zt(L))for(const ye of d.mount){const Re=we(i,ye);if(Re&&Re._f){const Ye=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(id(Ye)){const pt=Ye.closest("form");if(pt){pt.reset();break}}}}for(const ye of d.mount){const Re=we(he,ye,we(a,ye));zt(Re)||(Tt(he,ye,Re),$(ye,we(he,ye)))}}l=yn(he),T.array.next({values:{...he}}),T.state.next({values:{...he}})}d={mount:X.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!X.keepIsValid||!!X.keepDirtyValues,c.watch=!!e.shouldUnregister,T.state.next({submitCount:X.keepSubmitCount?t.submitCount:0,isDirty:ge?!1:X.keepDirty?t.isDirty:!!(X.keepDefaultValues&&!Ys(L,a)),isSubmitted:X.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ge?{}:X.keepDirtyValues?X.keepDefaultValues&&l?Ku(a,l):t.dirtyFields:X.keepDefaultValues&&L?Ku(a,L):X.keepDirty?t.dirtyFields:{},touchedFields:X.keepTouched?t.touchedFields:{},errors:X.keepErrors?t.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},us=(L,X)=>Ur(Nr(L)?L(l):L,X),go=(L,X={})=>{const ne=we(i,L),be=ne&&ne._f;if(be){const ge=be.refs?be.refs[0]:be.ref;ge.focus&&(ge.focus(),X.shouldSelect&&Nr(ge.select)&&ge.select())}},Pn=L=>{t={...t,...L}},cs={control:{register:Vn,unregister:ft,getFieldState:ie,handleSubmit:Lr,setError:ce,_subscribe:Ae,_runSchema:C,_focusError:nr,_getWatch:P,_getDirty:M,_setValid:j,_setFieldArray:q,_setDisabledField:Fe,_setErrors:G,_getFieldArray:I,_reset:Ur,_resetDefaultValues:()=>Nr(e.defaultValues)&&e.defaultValues().then(L=>{us(L,e.resetOptions),T.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:Er,_subjects:T,_proxyFormState:_,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(L){c=L},get _defaultValues(){return a},get _names(){return d},set _names(L){d=L},get _formState(){return t},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:Ie,trigger:Pe,register:Vn,handleSubmit:Lr,watch:Ne,setValue:$,getValues:V,reset:us,resetField:_i,clearErrors:pe,unregister:ft,setError:ce,setFocus:go,getFieldState:ie};return{...cs,formControl:cs}}function uP(n={}){const e=Ge.useRef(void 0),t=Ge.useRef(void 0),[i,a]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:Nr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Nr(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:i},n.defaultValues&&!Nr(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:c,...d}=lP(n);e.current={...d,formState:i}}const l=e.current.control;return l._options=n,YV(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Ge.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),Ge.useEffect(()=>{n.mode&&(l._options.mode=n.mode),n.reValidateMode&&(l._options.reValidateMode=n.reValidateMode)},[l,n.mode,n.reValidateMode]),Ge.useEffect(()=>{n.errors&&(l._setErrors(n.errors),l._focusError())},[l,n.errors]),Ge.useEffect(()=>{n.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,n.shouldUnregister]),Ge.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),Ge.useEffect(()=>{n.values&&!Ys(n.values,t.current)?(l._reset(n.values,l._options.resetOptions),t.current=n.values,a(c=>({...c}))):l._resetDefaultValues()},[l,n.values]),Ge.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=KV(i,l),e.current}var ct;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},n.getValidEnumValues=a=>{const l=n.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),c={};for(const d of l)c[d]=a[d];return n.objectValues(c)},n.objectValues=a=>n.objectKeys(a).map(function(l){return a[l]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},n.find=(a,l)=>{for(const c of a)if(l(c))return c},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function i(a,l=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}n.joinValues=i,n.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(ct||(ct={}));var Y1;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Y1||(Y1={}));const xe=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fs=n=>{switch(typeof n){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(n)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(n)?xe.array:n===null?xe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?xe.promise:typeof Map<"u"&&n instanceof Map?xe.map:typeof Set<"u"&&n instanceof Set?xe.set:typeof Date<"u"&&n instanceof Date?xe.date:xe.object;default:return xe.unknown}},de=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class os extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(l){return l.message},i={_errors:[]},a=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)i._errors.push(t(c));else{let d=i,m=0;for(;m<c.path.length;){const g=c.path[m];m===c.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(t(c))):d[g]=d[g]||{_errors:[]},d=d[g],m++}}};return a(this),i}static assert(e){if(!(e instanceof os))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const a of this.issues)if(a.path.length>0){const l=a.path[0];t[l]=t[l]||[],t[l].push(e(a))}else i.push(e(a));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}os.create=n=>new os(n);const Yg=(n,e)=>{let t;switch(n.code){case de.invalid_type:n.received===xe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case de.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ct.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:t=`Unrecognized key(s) in object: ${ct.joinValues(n.keys,", ")}`;break;case de.invalid_union:t="Invalid input";break;case de.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ct.joinValues(n.options)}`;break;case de.invalid_enum_value:t=`Invalid enum value. Expected ${ct.joinValues(n.options)}, received '${n.received}'`;break;case de.invalid_arguments:t="Invalid function arguments";break;case de.invalid_return_type:t="Invalid function return type";break;case de.invalid_date:t="Invalid date";break;case de.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ct.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case de.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case de.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case de.custom:t="Invalid input";break;case de.invalid_intersection_types:t="Intersection results could not be merged";break;case de.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case de.not_finite:t="Number must be finite";break;default:t=e.defaultError,ct.assertNever(n)}return{message:t}};let cP=Yg;function fP(){return cP}const hP=n=>{const{data:e,path:t,errorMaps:i,issueData:a}=n,l=[...t,...a.path||[]],c={...a,path:l};if(a.message!==void 0)return{...a,path:l,message:a.message};let d="";const m=i.filter(g=>!!g).slice().reverse();for(const g of m)d=g(c,{data:e,defaultError:d}).message;return{...a,path:l,message:d}};function Ee(n,e){const t=fP(),i=hP({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Yg?void 0:Yg].filter(a=>!!a)});n.common.issues.push(i)}class tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const a of t){if(a.status==="aborted")return qe;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const a of t){const l=await a.key,c=await a.value;i.push({key:l,value:c})}return tr.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const a of t){const{key:l,value:c}=a;if(l.status==="aborted"||c.status==="aborted")return qe;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(i[l.value]=c.value)}return{status:e.value,value:i}}}const qe=Object.freeze({status:"aborted"}),tc=n=>({status:"dirty",value:n}),br=n=>({status:"valid",value:n}),Q1=n=>n.status==="aborted",X1=n=>n.status==="dirty",Rl=n=>n.status==="valid",od=n=>typeof Promise<"u"&&n instanceof Promise;var Ce;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message})(Ce||(Ce={}));class ca{constructor(e,t,i,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Z1=(n,e)=>{if(Rl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new os(n.common.issues);return this._error=t,this._error}}};function We(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:a}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,d)=>{const{message:m}=n;return c.code==="invalid_enum_value"?{message:m??d.defaultError}:typeof d.data>"u"?{message:m??i??d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:m??t??d.defaultError}},description:a}}class lt{get description(){return this._def.description}_getType(e){return Fs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tr,ctx:{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(od(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Z1(i,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:t});return Rl(i)?{value:i.value}:{issues:t.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(i=>Rl(i)?{value:i.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},a=this._parse({data:e,path:i.path,parent:i}),l=await(od(a)?a:Promise.resolve(a));return Z1(i,l)}refine(e,t){const i=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,l)=>{const c=e(a),d=()=>l.addIssue({code:de.custom,...i(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,t){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof t=="function"?t(i,a):t),!1))}_refinement(e){return new Il({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ta.create(this,this._def)}nullable(){return Cl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return di.create(this)}promise(){return fd.create(this,this._def)}or(e){return ud.create([this,e],this._def)}and(e){return cd.create(this,e,this._def)}transform(e){return new Il({...We(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Zg({...We(this._def),innerType:this,defaultValue:t,typeName:He.ZodDefault})}brand(){return new PP({typeName:He.ZodBranded,type:this,...We(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Wg({...We(this._def),innerType:this,catchValue:t,typeName:He.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return w_.create(this,e)}readonly(){return Jg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dP=/^c[^\s-]{8,}$/i,mP=/^[0-9a-z]+$/,pP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yP=/^[a-z0-9_-]{21}$/i,_P=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,EP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cg;const TP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,AP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,US="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",IP=new RegExp(`^${US}$`);function jS(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function CP(n){return new RegExp(`^${jS(n)}$`)}function NP(n){let e=`${US}T${jS(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function OP(n,e){return!!((e==="v4"||!e)&&TP.test(n)||(e==="v6"||!e)&&AP.test(n))}function DP(n,e){if(!_P.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function kP(n,e){return!!((e==="v4"||!e)&&wP.test(n)||(e==="v6"||!e)&&SP.test(n))}class Xs extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const l=this._getOrReturnCtx(e);return Ee(l,{code:de.invalid_type,expected:xe.string,received:l.parsedType}),qe}const i=new tr;let a;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")e.data.length>l.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(a=this._getOrReturnCtx(e,a),c?Ee(a,{code:de.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Ee(a,{code:de.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")bP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"email",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")cg||(cg=new RegExp(EP,"u")),cg.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"emoji",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")gP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"uuid",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")yP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"nanoid",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")dP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cuid",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")mP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cuid2",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")pP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"ulid",code:de.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ee(a,{validation:"url",code:de.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"regex",code:de.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?NP(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?IP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?CP(l).test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?vP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"duration",code:de.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?OP(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"ip",code:de.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?DP(e.data,l.alg)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"jwt",code:de.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?kP(e.data,l.version)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cidr",code:de.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?RP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"base64",code:de.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?xP.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"base64url",code:de.invalid_string,message:l.message}),i.dirty()):ct.assertNever(l);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(a=>e.test(a),{validation:t,code:de.invalid_string,...Ce.errToObj(i)})}_addCheck(e){return new Xs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ce.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ce.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ce.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ce.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Ce.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ce.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ce.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ce.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ce.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ce.errToObj(t)})}nonempty(e){return this.min(1,Ce.errToObj(e))}trim(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Xs.create=n=>new Xs({checks:[],typeName:He.ZodString,coerce:n?.coerce??!1,...We(n)});function VP(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=t>i?t:i,l=Number.parseInt(n.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}class Tc extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const l=this._getOrReturnCtx(e);return Ee(l,{code:de.invalid_type,expected:xe.number,received:l.parsedType}),qe}let i;const a=new tr;for(const l of this._def.checks)l.kind==="int"?ct.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),a.dirty()):l.kind==="multipleOf"?VP(e.data,l.value)!==0&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.not_finite,message:l.message}),a.dirty()):ct.assertNever(l);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ce.toString(t))}setLimit(e,t,i,a){return new Tc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Ce.toString(a)}]})}_addCheck(e){return new Tc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Tc.create=n=>new Tc({checks:[],typeName:He.ZodNumber,coerce:n?.coerce||!1,...We(n)});class wc extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let i;const a=new tr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:de.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):ct.assertNever(l);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:de.invalid_type,expected:xe.bigint,received:t.parsedType}),qe}gte(e,t){return this.setLimit("min",e,!0,Ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ce.toString(t))}setLimit(e,t,i,a){return new wc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Ce.toString(a)}]})}_addCheck(e){return new wc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}wc.create=n=>new wc({checks:[],typeName:He.ZodBigInt,coerce:n?.coerce??!1,...We(n)});class W1 extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const i=this._getOrReturnCtx(e);return Ee(i,{code:de.invalid_type,expected:xe.boolean,received:i.parsedType}),qe}return br(e.data)}}W1.create=n=>new W1({typeName:He.ZodBoolean,coerce:n?.coerce||!1,...We(n)});class ld extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const l=this._getOrReturnCtx(e);return Ee(l,{code:de.invalid_type,expected:xe.date,received:l.parsedType}),qe}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return Ee(l,{code:de.invalid_date}),qe}const i=new tr;let a;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:de.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):ct.assertNever(l);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ld({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ce.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ce.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ld.create=n=>new ld({checks:[],coerce:n?.coerce||!1,typeName:He.ZodDate,...We(n)});class J1 extends lt{_parse(e){if(this._getType(e)!==xe.symbol){const i=this._getOrReturnCtx(e);return Ee(i,{code:de.invalid_type,expected:xe.symbol,received:i.parsedType}),qe}return br(e.data)}}J1.create=n=>new J1({typeName:He.ZodSymbol,...We(n)});class eT extends lt{_parse(e){if(this._getType(e)!==xe.undefined){const i=this._getOrReturnCtx(e);return Ee(i,{code:de.invalid_type,expected:xe.undefined,received:i.parsedType}),qe}return br(e.data)}}eT.create=n=>new eT({typeName:He.ZodUndefined,...We(n)});class tT extends lt{_parse(e){if(this._getType(e)!==xe.null){const i=this._getOrReturnCtx(e);return Ee(i,{code:de.invalid_type,expected:xe.null,received:i.parsedType}),qe}return br(e.data)}}tT.create=n=>new tT({typeName:He.ZodNull,...We(n)});class nT extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return br(e.data)}}nT.create=n=>new nT({typeName:He.ZodAny,...We(n)});class rT extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return br(e.data)}}rT.create=n=>new rT({typeName:He.ZodUnknown,...We(n)});class fa extends lt{_parse(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:de.invalid_type,expected:xe.never,received:t.parsedType}),qe}}fa.create=n=>new fa({typeName:He.ZodNever,...We(n)});class iT extends lt{_parse(e){if(this._getType(e)!==xe.undefined){const i=this._getOrReturnCtx(e);return Ee(i,{code:de.invalid_type,expected:xe.void,received:i.parsedType}),qe}return br(e.data)}}iT.create=n=>new iT({typeName:He.ZodVoid,...We(n)});class di extends lt{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),a=this._def;if(t.parsedType!==xe.array)return Ee(t,{code:de.invalid_type,expected:xe.array,received:t.parsedType}),qe;if(a.exactLength!==null){const c=t.data.length>a.exactLength.value,d=t.data.length<a.exactLength.value;(c||d)&&(Ee(t,{code:c?de.too_big:de.too_small,minimum:d?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(Ee(t,{code:de.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(Ee(t,{code:de.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((c,d)=>a.type._parseAsync(new ca(t,c,t.path,d)))).then(c=>tr.mergeArray(i,c));const l=[...t.data].map((c,d)=>a.type._parseSync(new ca(t,c,t.path,d)));return tr.mergeArray(i,l)}get element(){return this._def.type}min(e,t){return new di({...this._def,minLength:{value:e,message:Ce.toString(t)}})}max(e,t){return new di({...this._def,maxLength:{value:e,message:Ce.toString(t)}})}length(e,t){return new di({...this._def,exactLength:{value:e,message:Ce.toString(t)}})}nonempty(e){return this.min(1,e)}}di.create=(n,e)=>new di({type:n,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...We(e)});function fl(n){if(n instanceof Xt){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=ta.create(fl(i))}return new Xt({...n._def,shape:()=>e})}else return n instanceof di?new di({...n._def,type:fl(n.element)}):n instanceof ta?ta.create(fl(n.unwrap())):n instanceof Cl?Cl.create(fl(n.unwrap())):n instanceof oo?oo.create(n.items.map(e=>fl(e))):n}class Xt extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ct.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==xe.object){const g=this._getOrReturnCtx(e);return Ee(g,{code:de.invalid_type,expected:xe.object,received:g.parsedType}),qe}const{status:i,ctx:a}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof fa&&this._def.unknownKeys==="strip"))for(const g in a.data)c.includes(g)||d.push(g);const m=[];for(const g of c){const _=l[g],E=a.data[g];m.push({key:{status:"valid",value:g},value:_._parse(new ca(a,E,a.path,g)),alwaysSet:g in a.data})}if(this._def.catchall instanceof fa){const g=this._def.unknownKeys;if(g==="passthrough")for(const _ of d)m.push({key:{status:"valid",value:_},value:{status:"valid",value:a.data[_]}});else if(g==="strict")d.length>0&&(Ee(a,{code:de.unrecognized_keys,keys:d}),i.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const _ of d){const E=a.data[_];m.push({key:{status:"valid",value:_},value:g._parse(new ca(a,E,a.path,_)),alwaysSet:_ in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const g=[];for(const _ of m){const E=await _.key,T=await _.value;g.push({key:E,value:T,alwaysSet:_.alwaysSet})}return g}).then(g=>tr.mergeObjectSync(i,g)):tr.mergeObjectSync(i,m)}get shape(){return this._def.shape()}strict(e){return Ce.errToObj,new Xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{const a=this._def.errorMap?.(t,i).message??i.defaultError;return t.code==="unrecognized_keys"?{message:Ce.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Xt({...this._def,unknownKeys:"strip"})}passthrough(){return new Xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:He.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Xt({...this._def,catchall:e})}pick(e){const t={};for(const i of ct.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new Xt({...this._def,shape:()=>t})}omit(e){const t={};for(const i of ct.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new Xt({...this._def,shape:()=>t})}deepPartial(){return fl(this)}partial(e){const t={};for(const i of ct.objectKeys(this.shape)){const a=this.shape[i];e&&!e[i]?t[i]=a:t[i]=a.optional()}return new Xt({...this._def,shape:()=>t})}required(e){const t={};for(const i of ct.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof ta;)l=l._def.innerType;t[i]=l}return new Xt({...this._def,shape:()=>t})}keyof(){return zS(ct.objectKeys(this.shape))}}Xt.create=(n,e)=>new Xt({shape:()=>n,unknownKeys:"strip",catchall:fa.create(),typeName:He.ZodObject,...We(e)});Xt.strictCreate=(n,e)=>new Xt({shape:()=>n,unknownKeys:"strict",catchall:fa.create(),typeName:He.ZodObject,...We(e)});Xt.lazycreate=(n,e)=>new Xt({shape:n,unknownKeys:"strip",catchall:fa.create(),typeName:He.ZodObject,...We(e)});class ud extends lt{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function a(l){for(const d of l)if(d.result.status==="valid")return d.result;for(const d of l)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const c=l.map(d=>new os(d.ctx.common.issues));return Ee(t,{code:de.invalid_union,unionErrors:c}),qe}if(t.common.async)return Promise.all(i.map(async l=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await l._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(a);{let l;const c=[];for(const m of i){const g={...t,common:{...t.common,issues:[]},parent:null},_=m._parseSync({data:t.data,path:t.path,parent:g});if(_.status==="valid")return _;_.status==="dirty"&&!l&&(l={result:_,ctx:g}),g.common.issues.length&&c.push(g.common.issues)}if(l)return t.common.issues.push(...l.ctx.common.issues),l.result;const d=c.map(m=>new os(m));return Ee(t,{code:de.invalid_union,unionErrors:d}),qe}}get options(){return this._def.options}}ud.create=(n,e)=>new ud({options:n,typeName:He.ZodUnion,...We(e)});function Qg(n,e){const t=Fs(n),i=Fs(e);if(n===e)return{valid:!0,data:n};if(t===xe.object&&i===xe.object){const a=ct.objectKeys(e),l=ct.objectKeys(n).filter(d=>a.indexOf(d)!==-1),c={...n,...e};for(const d of l){const m=Qg(n[d],e[d]);if(!m.valid)return{valid:!1};c[d]=m.data}return{valid:!0,data:c}}else if(t===xe.array&&i===xe.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let l=0;l<n.length;l++){const c=n[l],d=e[l],m=Qg(c,d);if(!m.valid)return{valid:!1};a.push(m.data)}return{valid:!0,data:a}}else return t===xe.date&&i===xe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class cd extends lt{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),a=(l,c)=>{if(Q1(l)||Q1(c))return qe;const d=Qg(l.value,c.value);return d.valid?((X1(l)||X1(c))&&t.dirty(),{status:t.value,value:d.data}):(Ee(i,{code:de.invalid_intersection_types}),qe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,c])=>a(l,c)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}cd.create=(n,e,t)=>new cd({left:n,right:e,typeName:He.ZodIntersection,...We(t)});class oo extends lt{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==xe.array)return Ee(i,{code:de.invalid_type,expected:xe.array,received:i.parsedType}),qe;if(i.data.length<this._def.items.length)return Ee(i,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&i.data.length>this._def.items.length&&(Ee(i,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...i.data].map((c,d)=>{const m=this._def.items[d]||this._def.rest;return m?m._parse(new ca(i,c,i.path,d)):null}).filter(c=>!!c);return i.common.async?Promise.all(l).then(c=>tr.mergeArray(t,c)):tr.mergeArray(t,l)}get items(){return this._def.items}rest(e){return new oo({...this._def,rest:e})}}oo.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oo({items:n,typeName:He.ZodTuple,rest:null,...We(e)})};class sT extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==xe.map)return Ee(i,{code:de.invalid_type,expected:xe.map,received:i.parsedType}),qe;const a=this._def.keyType,l=this._def.valueType,c=[...i.data.entries()].map(([d,m],g)=>({key:a._parse(new ca(i,d,i.path,[g,"key"])),value:l._parse(new ca(i,m,i.path,[g,"value"]))}));if(i.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const m of c){const g=await m.key,_=await m.value;if(g.status==="aborted"||_.status==="aborted")return qe;(g.status==="dirty"||_.status==="dirty")&&t.dirty(),d.set(g.value,_.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const m of c){const g=m.key,_=m.value;if(g.status==="aborted"||_.status==="aborted")return qe;(g.status==="dirty"||_.status==="dirty")&&t.dirty(),d.set(g.value,_.value)}return{status:t.value,value:d}}}}sT.create=(n,e,t)=>new sT({valueType:e,keyType:n,typeName:He.ZodMap,...We(t)});class Ac extends lt{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==xe.set)return Ee(i,{code:de.invalid_type,expected:xe.set,received:i.parsedType}),qe;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Ee(i,{code:de.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Ee(i,{code:de.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const l=this._def.valueType;function c(m){const g=new Set;for(const _ of m){if(_.status==="aborted")return qe;_.status==="dirty"&&t.dirty(),g.add(_.value)}return{status:t.value,value:g}}const d=[...i.data.values()].map((m,g)=>l._parse(new ca(i,m,i.path,g)));return i.common.async?Promise.all(d).then(m=>c(m)):c(d)}min(e,t){return new Ac({...this._def,minSize:{value:e,message:Ce.toString(t)}})}max(e,t){return new Ac({...this._def,maxSize:{value:e,message:Ce.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ac.create=(n,e)=>new Ac({valueType:n,minSize:null,maxSize:null,typeName:He.ZodSet,...We(e)});class aT extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}aT.create=(n,e)=>new aT({getter:n,typeName:He.ZodLazy,...We(e)});class Xg extends lt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ee(t,{received:t.data,code:de.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xg.create=(n,e)=>new Xg({value:n,typeName:He.ZodLiteral,...We(e)});function zS(n,e){return new xl({values:n,typeName:He.ZodEnum,...We(e)})}class xl extends lt{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return Ee(t,{expected:ct.joinValues(i),received:t.parsedType,code:de.invalid_type}),qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return Ee(t,{received:t.data,code:de.invalid_enum_value,options:i}),qe}return br(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return xl.create(e,{...this._def,...t})}exclude(e,t=this._def){return xl.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}xl.create=zS;class oT extends lt{_parse(e){const t=ct.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==xe.string&&i.parsedType!==xe.number){const a=ct.objectValues(t);return Ee(i,{expected:ct.joinValues(a),received:i.parsedType,code:de.invalid_type}),qe}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=ct.objectValues(t);return Ee(i,{received:i.data,code:de.invalid_enum_value,options:a}),qe}return br(e.data)}get enum(){return this._def.values}}oT.create=(n,e)=>new oT({values:n,typeName:He.ZodNativeEnum,...We(e)});class fd extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xe.promise&&t.common.async===!1)return Ee(t,{code:de.invalid_type,expected:xe.promise,received:t.parsedType}),qe;const i=t.parsedType===xe.promise?t.data:Promise.resolve(t.data);return br(i.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}fd.create=(n,e)=>new fd({type:n,typeName:He.ZodPromise,...We(e)});class Il extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),a=this._def.effect||null,l={addIssue:c=>{Ee(i,c),c.fatal?t.abort():t.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),a.type==="preprocess"){const c=a.transform(i.data,l);if(i.common.async)return Promise.resolve(c).then(async d=>{if(t.value==="aborted")return qe;const m=await this._def.schema._parseAsync({data:d,path:i.path,parent:i});return m.status==="aborted"?qe:m.status==="dirty"||t.value==="dirty"?tc(m.value):m});{if(t.value==="aborted")return qe;const d=this._def.schema._parseSync({data:c,path:i.path,parent:i});return d.status==="aborted"?qe:d.status==="dirty"||t.value==="dirty"?tc(d.value):d}}if(a.type==="refinement"){const c=d=>{const m=a.refinement(d,l);if(i.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return d.status==="aborted"?qe:(d.status==="dirty"&&t.dirty(),c(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>d.status==="aborted"?qe:(d.status==="dirty"&&t.dirty(),c(d.value).then(()=>({status:t.value,value:d.value}))))}if(a.type==="transform")if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Rl(c))return qe;const d=a.transform(c.value,l);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>Rl(c)?Promise.resolve(a.transform(c.value,l)).then(d=>({status:t.value,value:d})):qe);ct.assertNever(a)}}Il.create=(n,e,t)=>new Il({schema:n,typeName:He.ZodEffects,effect:e,...We(t)});Il.createWithPreprocess=(n,e,t)=>new Il({schema:e,effect:{type:"preprocess",transform:n},typeName:He.ZodEffects,...We(t)});class ta extends lt{_parse(e){return this._getType(e)===xe.undefined?br(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ta.create=(n,e)=>new ta({innerType:n,typeName:He.ZodOptional,...We(e)});class Cl extends lt{_parse(e){return this._getType(e)===xe.null?br(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cl.create=(n,e)=>new Cl({innerType:n,typeName:He.ZodNullable,...We(e)});class Zg extends lt{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===xe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Zg.create=(n,e)=>new Zg({innerType:n,typeName:He.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...We(e)});class Wg extends lt{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return od(a)?a.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new os(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new os(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Wg.create=(n,e)=>new Wg({innerType:n,typeName:He.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...We(e)});class lT extends lt{_parse(e){if(this._getType(e)!==xe.nan){const i=this._getOrReturnCtx(e);return Ee(i,{code:de.invalid_type,expected:xe.nan,received:i.parsedType}),qe}return{status:"valid",value:e.data}}}lT.create=n=>new lT({typeName:He.ZodNaN,...We(n)});class PP extends lt{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class w_ extends lt{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?qe:l.status==="dirty"?(t.dirty(),tc(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?qe:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,t){return new w_({in:e,out:t,typeName:He.ZodPipeline})}}class Jg extends lt{_parse(e){const t=this._def.innerType._parse(e),i=a=>(Rl(a)&&(a.value=Object.freeze(a.value)),a);return od(t)?t.then(a=>i(a)):i(t)}unwrap(){return this._def.innerType}}Jg.create=(n,e)=>new Jg({innerType:n,typeName:He.ZodReadonly,...We(e)});var He;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(He||(He={}));const Qi=Xs.create;fa.create;di.create;const MP=Xt.create;ud.create;cd.create;oo.create;const Bs=Xg.create;xl.create;fd.create;ta.create;Cl.create;const uT=(n,e,t)=>{if(n&&"reportValidity"in n){const i=we(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},ey=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?uT(i.ref,t,n):i&&i.refs&&i.refs.forEach(a=>uT(a,t,n))}},cT=(n,e)=>{e.shouldUseNativeValidation&&ey(n,e);const t={};for(const i in n){const a=we(e.fields,i),l=Object.assign(n[i]||{},{ref:a&&a.ref});if(LP(e.names||Object.keys(n),i)){const c=Object.assign({},we(t,i));Tt(c,"root",l),Tt(t,i,c)}else Tt(t,i,l)}return t},LP=(n,e)=>{const t=fT(e);return n.some(i=>fT(i).match(`^${t}\\.\\d+`))};function fT(n){return n.replace(/\]|\[/g,"")}function BS(n,e,t){function i(d,m){var g;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(g=d._zod).traits??(g.traits=new Set),d._zod.traits.add(n),e(d,m);for(const _ in c.prototype)_ in d||Object.defineProperty(d,_,{value:c.prototype[_].bind(d)});d._zod.constr=c,d._zod.def=m}const a=t?.Parent??Object;class l extends a{}Object.defineProperty(l,"name",{value:n});function c(d){var m;const g=t?.Parent?new l:this;i(g,d),(m=g._zod).deferred??(m.deferred=[]);for(const _ of g._zod.deferred)_();return g}return Object.defineProperty(c,"init",{value:i}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>t?.Parent&&d instanceof t.Parent?!0:d?._zod?.traits?.has(n)}),Object.defineProperty(c,"name",{value:n}),c}class UP extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const jP={};function FS(n){return jP}function zP(n,e){return typeof e=="bigint"?e.toString():e}const qS=Error.captureStackTrace?Error.captureStackTrace:(...n)=>{};function Eh(n){return typeof n=="string"?n:n?.message}function HS(n,e,t){const i={...n,path:n.path??[]};if(!n.message){const a=Eh(n.inst?._zod.def?.error?.(n))??Eh(e?.error?.(n))??Eh(t.customError?.(n))??Eh(t.localeError?.(n))??"Invalid input";i.message=a}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}const $S=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),Object.defineProperty(n,"message",{get(){return JSON.stringify(e,zP,2)},enumerable:!0})},BP=BS("$ZodError",$S),GS=BS("$ZodError",$S,{Parent:Error}),FP=n=>(e,t,i,a)=>{const l=i?Object.assign(i,{async:!1}):{async:!1},c=e._zod.run({value:t,issues:[]},l);if(c instanceof Promise)throw new UP;if(c.issues.length){const d=new(a?.Err??n)(c.issues.map(m=>HS(m,l,FS())));throw qS(d,a?.callee),d}return c.value},qP=FP(GS),HP=n=>async(e,t,i,a)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let c=e._zod.run({value:t,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(a?.Err??n)(c.issues.map(m=>HS(m,l,FS())));throw qS(d,a?.callee),d}return c.value},$P=HP(GS);function hT(n,e){try{var t=n()}catch(i){return e(i)}return t&&t.then?t.then(void 0,e):t}function GP(n,e){for(var t={};n.length;){var i=n[0],a=i.code,l=i.message,c=i.path.join(".");if(!t[c])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];t[c]={message:d.message,type:d.code}}else t[c]={message:l,type:a};if("unionErrors"in i&&i.unionErrors.forEach(function(_){return _.errors.forEach(function(E){return n.push(E)})}),e){var m=t[c].types,g=m&&m[i.code];t[c]=b_(c,e,t,a,g?[].concat(g,i.message):i.message)}n.shift()}return t}function KP(n,e){for(var t={};n.length;){var i=n[0],a=i.code,l=i.message,c=i.path.join(".");if(!t[c])if(i.code==="invalid_union"){var d=i.errors[0][0];t[c]={message:d.message,type:d.code}}else t[c]={message:l,type:a};if(i.code==="invalid_union"&&i.errors.forEach(function(_){return _.forEach(function(E){return n.push(E)})}),e){var m=t[c].types,g=m&&m[i.code];t[c]=b_(c,e,t,a,g?[].concat(g,i.message):i.message)}n.shift()}return t}function YP(n,e,t){if(t===void 0&&(t={}),function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def}(n))return function(i,a,l){try{return Promise.resolve(hT(function(){return Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(c){return l.shouldUseNativeValidation&&ey({},l),{errors:{},values:t.raw?Object.assign({},i):c}})},function(c){if(function(d){return Array.isArray(d?.issues)}(c))return{values:{},errors:cT(GP(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if(function(i){return"_zod"in i&&typeof i._zod=="object"}(n))return function(i,a,l){try{return Promise.resolve(hT(function(){return Promise.resolve((t.mode==="sync"?qP:$P)(n,i,e)).then(function(c){return l.shouldUseNativeValidation&&ey({},l),{errors:{},values:t.raw?Object.assign({},i):c}})},function(c){if(function(d){return d instanceof BP}(c))return{values:{},errors:cT(KP(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const QP=MP({name:Qi().min(1,"El nombre del sello es requerido"),description:Qi().optional().or(Bs("")),userAddress:Qi().optional().or(Bs("")),userCity:Qi().optional().or(Bs("")),userCountry:Qi().optional().or(Bs("")),userTaxId:Qi().optional().or(Bs("")),userName:Qi().optional().or(Bs("")),userLastName:Qi().optional().or(Bs("")),imageUrl:Qi().optional().or(Bs(""))}),KS=({onSubmit:n,onCancel:e,editingSeal:t,userProfile:i,user:a})=>{const[l,c]=F.useState(null),[d,m]=F.useState(!1),{register:g,handleSubmit:_,setValue:E,reset:T,formState:{errors:k}}=uP({resolver:YP(QP),mode:"onChange"});F.useEffect(()=>{t?(E("name",t.name),E("description",t.description||void 0),E("imageUrl",t.imageUrl||void 0),E("userAddress",t.userAddress||""),E("userCity",t.userCity||""),E("userCountry",t.userCountry||""),E("userTaxId",t.userTaxId||""),E("userName",t.userName||""),E("userLastName",t.userLastName||"")):i?(console.log("SealForm: userProfile recibido para pre-rellenar:",i),E("name",i.companyName||""),E("userAddress",i.address||""),E("userCity",i.city||""),E("userCountry",i.country||""),E("userTaxId",i.taxId||""),E("userName",i.userName||""),E("userLastName",i.userLastName||""),console.log("SealForm: Valores de userName y userLastName establecidos:",i.userName,i.userLastName)):(console.log("SealForm: userProfile no disponible o editingSeal."),T())},[t,i,E,T]);const O=B=>{B.target.files&&B.target.files[0]&&c(B.target.files[0])},j=async()=>{if(!(!l||!a)){m(!0);try{const B=m_(g_,`user_seals/${a.uid}/${Date.now()}_${l.name}`),G=await vS(B,l),ee=await bS(G.ref);return tt.success("Imagen subida con xito!"),ee}catch(B){console.error("Error uploading image:",B),tt.error("Error al subir la imagen.");return}finally{m(!1),c(null)}}},U=async B=>{let G=t?.imageUrl;if(l){if(G=await j(),!G)return}else t&&t.imageUrl?G=t.imageUrl:G=void 0;await n(B,G),T()},q=()=>{console.log("Errores de validacin detectados."),tt.error("Por favor, revisa los campos marcados en rojo.")};return x.jsxs("form",{onSubmit:_(U,q),className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre del Sello (Empresa)"}),x.jsx("input",{...g("name"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),k.name&&x.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.name.message})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"description",className:"block text-gray-700 text-sm font-bold mb-2",children:"Descripcin"}),x.jsx("textarea",{...g("description"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userName",className:"block text-gray-700 text-sm font-bold mb-2",children:"Nombre"}),x.jsx("input",{...g("userName"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userLastName",className:"block text-gray-700 text-sm font-bold mb-2",children:"Apellidos"}),x.jsx("input",{...g("userLastName"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userTaxId",className:"block text-gray-700 text-sm font-bold mb-2",children:"NIF/CIF"}),x.jsx("input",{...g("userTaxId"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userAddress",className:"block text-gray-700 text-sm font-bold mb-2",children:"Direccin"}),x.jsx("input",{...g("userAddress"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userCity",className:"block text-gray-700 text-sm font-bold mb-2",children:"Ciudad"}),x.jsx("input",{...g("userCity"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"userCountry",className:"block text-gray-700 text-sm font-bold mb-2",children:"Pas"}),x.jsx("input",{...g("userCountry"),className:"shadow-sm appearance-none border border-gray-300 rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),k.userCountry&&x.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.userCountry.message})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"sealFile",className:"block text-gray-700 text-sm font-bold mb-2",children:"Subir Imagen de Sello"}),x.jsx("input",{type:"file",onChange:O,className:"file-input-style"}),d&&x.jsx("p",{className:"text-blue-500 text-sm mt-2",children:"Subiendo imagen..."})]}),x.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[x.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Actualizar":"Crear"}),x.jsx("button",{type:"button",onClick:e,className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-opacity-50 transition-all duration-200",children:"Cancelar"})]})]})},XP=n=>n.showModal?x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-lg md:max-w-2xl w-full mx-2 md:mx-4 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:n.editingSeal?"Editar Sello":"Crear Nuevo Sello"}),x.jsx("button",{onClick:n.onCancel,className:"text-gray-500 hover:text-gray-700",children:x.jsx(zd,{className:"text-2xl"})})]}),x.jsx(KS,{...n})]})}):null,ZP=n=>x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md sticky top-4",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:n.editingSeal?"Editar Sello":"Crear Nuevo Sello"}),x.jsx("button",{onClick:n.onCancel,className:"text-gray-500 hover:text-gray-700",children:x.jsx(zd,{className:"text-2xl"})})]}),x.jsx(KS,{...n})]}),WP=({seal:n,onEdit:e,onDelete:t,onView:i})=>x.jsxs("div",{className:"border p-4 rounded-lg shadow-md flex flex-col bg-gray-50 hover:shadow-lg transition-shadow duration-300",children:[x.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[" ",n.imageUrl&&x.jsx("div",{className:"flex-shrink-0",children:x.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-16 h-16 object-contain rounded-md border border-gray-200 p-1"})}),x.jsxs("div",{className:"flex-grow",children:[x.jsxs("h3",{className:"text-lg font-bold text-blue-700 flex items-center",children:[x.jsx(wS,{className:"mr-2 text-blue-500"}),n.name]}),(n.userName||n.userLastName)&&x.jsxs("p",{className:"text-gray-700 text-sm flex items-center",children:[x.jsx(Fg,{className:"mr-1 text-gray-500"}),n.userName," ",n.userLastName]}),n.description&&x.jsx("p",{className:"text-gray-600 text-xs italic mt-1",children:n.description})]})]}),x.jsxs("div",{className:"mt-auto pt-4 flex justify-end space-x-2",children:[x.jsxs("button",{onClick:()=>e(n),className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-2 rounded-lg text-sm flex items-center justify-center transition-colors duration-200",children:[x.jsx(U6,{className:"mr-1"})," Editar"]}),x.jsxs("button",{onClick:()=>t(n),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-2 rounded-lg text-sm flex items-center justify-center transition-colors duration-200",children:[x.jsx(H6,{className:"mr-1"})," Eliminar"]}),x.jsxs("button",{onClick:()=>i(n),className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-2 rounded-lg text-sm flex items-center justify-center transition-colors duration-200",children:[x.jsx(j6,{className:"mr-1"})," Ver"]})]})]}),JP=n=>{const[e,t]=F.useState(null),[i,a]=F.useState(!0),[l,c]=F.useState(null),[d]=co(pi);return F.useEffect(()=>{(async()=>{if(!n||!d){a(!1),t(null);return}a(!0),c(null);try{const g=ci(yr,"users",d.uid,"seals",n),_=await Ld(g);_.exists()?t({..._.data(),id:_.id}):(c("Sello no encontrado."),t(null))}catch(g){console.error("Error fetching seal details:",g),c("Error al cargar los detalles del sello."),t(null)}finally{a(!1)}})()},[n,d]),{sealData:e,loading:i,error:l}},eM=({sealId:n,showModal:e,onClose:t})=>{const{sealData:i,loading:a,error:l}=JP(n);return e?x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-lg md:max-w-2xl w-full mx-2 md:mx-4 max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Detalles del Sello"}),x.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:x.jsx(zd,{className:"text-2xl"})})]}),a&&x.jsx("div",{className:"flex justify-center items-center py-4",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}),l&&x.jsx("p",{className:"text-red-500 text-center",children:l}),i&&!a&&x.jsxs("div",{className:"space-y-4",children:[i.imageUrl&&x.jsx("div",{className:"flex justify-center mb-4",children:x.jsx("img",{src:i.imageUrl,alt:i.name,className:"max-h-48 object-contain rounded-md border border-gray-200 p-1"})}),x.jsxs("p",{className:"text-lg font-bold flex items-center",children:[x.jsx(wS,{className:"mr-2 text-blue-500"}),i.name]}),i.description&&x.jsx("p",{className:"text-gray-700 text-sm italic",children:i.description}),x.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[x.jsx("p",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Datos Fiscales:"}),x.jsxs("ul",{className:"space-y-1 text-gray-600 text-sm",children:[i.userName&&x.jsxs("li",{className:"flex items-center",children:[x.jsx(Fg,{className:"mr-2 text-gray-500"}),x.jsx("strong",{children:"Nombre:"})," ",i.userName]}),i.userLastName&&x.jsxs("li",{className:"flex items-center",children:[x.jsx(Fg,{className:"mr-2 text-gray-500"}),x.jsx("strong",{children:"Apellidos:"})," ",i.userLastName]}),i.userTaxId&&x.jsxs("li",{className:"flex items-center",children:[x.jsx(B6,{className:"mr-2 text-gray-500"}),x.jsx("strong",{children:"NIF/CIF:"})," ",i.userTaxId]}),i.userAddress&&x.jsxs("li",{className:"flex items-center",children:[x.jsx(F6,{className:"mr-2 text-gray-500"}),x.jsx("strong",{children:"Direccin:"})," ",i.userAddress]}),i.userCity&&x.jsxs("li",{className:"flex items-center",children:[x.jsx(L6,{className:"mr-2 text-gray-500"}),x.jsx("strong",{children:"Ciudad:"})," ",i.userCity]}),i.userCountry&&x.jsxs("li",{className:"flex items-center",children:[x.jsx(z6,{className:"mr-2 text-gray-500"}),x.jsx("strong",{children:"Pas:"})," ",i.userCountry]})]})]})]})]})}):null},tM=()=>{const{user:n,loading:e,seals:t,editingSeal:i,isFormVisible:a,userProfile:l,handleAddNew:c,handleEdit:d,handleDelete:m,handleFormSubmit:g,handleCancel:_,loadingMore:E,hasMore:T,selectedSealIdForView:k,showSealDetailModal:O,handleViewSeal:j,handleCloseSealDetailModal:U}=zV(),q=BV("(min-width: 1024px)");if(e)return x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(!n)return x.jsx("div",{className:"p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-md",children:"Debes iniciar sesin para gestionar tus sellos."});const B={onCancel:_,onSubmit:g,editingSeal:i,userProfile:l,user:n};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"container mx-auto p-4 overflow-x-hidden",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Gestin de Sellos"}),x.jsx("div",{className:"mb-4 flex justify-end",children:x.jsxs("button",{onClick:c,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors duration-200",children:[x.jsx(q6,{className:"mr-2"})," Crear Nuevo Sello"]})}),x.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[x.jsx("div",{className:`transition-all duration-300 ${q&&a?"lg:w-2/3":"w-full"}`,children:x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Mis Sellos"}),t.length===0?x.jsx("p",{className:"text-gray-600",children:"No tienes sellos creados an."}):x.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:t.map(G=>x.jsx(WP,{seal:G,onEdit:d,onDelete:m,onView:ee=>j(ee.id)},G.id))}),E&&x.jsx("div",{className:"flex justify-center items-center py-4",children:x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}),!T&&t.length>0&&x.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay ms sellos para cargar."})]})}),a&&(q?x.jsx("div",{className:"w-full lg:w-1/3 transition-all duration-300",children:x.jsx(ZP,{...B})}):x.jsx(XP,{showModal:a,...B}))]})]}),x.jsx(eM,{sealId:k,showModal:O,onClose:U})]})},nM=[{path:"/login",component:Y6,isProtected:!1},{path:"/register",component:Z6,isProtected:!1},{path:"/",component:eV,isProtected:!0},{path:"/profile",component:iV,isProtected:!0},{path:"/seals",component:tM,isProtected:!0}],rM=()=>x.jsxs(qx,{children:[x.jsx($6,{}),x.jsx(vx,{children:nM.map((n,e)=>x.jsx(wT,{path:n.path,element:n.isProtected?x.jsx(x6,{children:x.jsx(n.component,{})}):x.jsx(I6,{children:x.jsx(n.component,{})})},e))})]}),iM=()=>x.jsx(rM,{});IR.createRoot(document.getElementById("root")).render(x.jsxs(F.StrictMode,{children:[x.jsx(iM,{}),x.jsx(jV,{position:"bottom-right",toastClassName:"bg-gray-800 text-white p-3 rounded-lg shadow-lg","aria-label":"Notificaciones"})]}));
